if(angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(t){var e=t.storageKey(),n=t.storage(),a=function(){var a=t.preferredLanguage();angular.isString(a)?t.use(a):n.put(e,t.use())};n?n.get(e)?t.use(n.get(e))["catch"](a):a():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var e,n,a,i,o,r,s,l,c,u,d,p,f,h,g,m={},v=[],b=t,y=[],$=!1,w="translate-cloak",x=!1,k=".",C="2.5.2",T=function(){var t,e,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(t=0;t<n.languages.length;t++)if(e=n.languages[t],e&&e.length)return e;for(t=0;t<a.length;t++)if(e=n[a[t]],e&&e.length)return e;return null};T.displayName="angular-translate/service: getFirstBrowserLanguage";var D=function(){return(T()||"").split("-").join("_")};D.displayName="angular-translate/service: getLocale";var S=function(t,e){for(var n=0,a=t.length;a>n;n++)if(t[n]===e)return n;return-1},E=function(){return this.replace(/^\s+|\s+$/g,"")},O=function(t){for(var e=[],a=angular.lowercase(t),i=0,o=v.length;o>i;i++)e.push(angular.lowercase(v[i]));if(S(e,a)>-1)return t;if(n){var r;for(var s in n){var l=!1,c=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(c||l)&&(r=n[s],S(e,angular.lowercase(r))>-1))return r}}var u=t.split("_");return u.length>1&&S(e,angular.lowercase(u[0]))>-1?u[0]:t},A=function(t,e){if(!t&&!e)return m;if(t&&!e){if(angular.isString(t))return m[t]}else angular.isObject(m[t])||(m[t]={}),angular.extend(m[t],M(e));return this};this.translations=A,this.cloakClassName=function(t){return t?(w=t,this):w};var M=function(t,e,n,a){var i,o,r,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?M(s,e.concat(i),n,i):(o=e.length?""+e.join(k)+k+i:i,e.length&&i===a&&(r=""+e.join(k),n[r]="@:"+o),n[o]=s));return n};this.addInterpolation=function(t){return y.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return u=t,this},this.useSanitizeValueStrategy=function(t){return $=t,this},this.preferredLanguage=function(t){return P(t),this};var P=function(t){return t&&(e=t),e};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(f=t,this):f},this.translationNotFoundIndicatorRight=function(t){return t?(h=t,this):h},this.fallbackLanguage=function(t){return I(t),this};var I=function(t){return t?(angular.isString(t)?(i=!0,a=[t]):angular.isArray(t)&&(i=!1,a=t),angular.isString(e)&&S(a,e)<0&&a.push(e),this):i?a[0]:a};this.use=function(t){if(t){if(!m[t]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return o=t,this}return o};var L=function(t){return t?(b=t,void 0):l?l+b:b};this.storageKey=L,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return d=t,p=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return s=t,this},this.storagePrefix=function(t){return t?(l=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return c=t,this},this.usePostCompiling=function(t){return x=!!t,this},this.determinePreferredLanguage=function(t){var n=t&&angular.isFunction(t)?t():D();return e=v.length?O(n):n,this},this.registerAvailableLanguageKeys=function(t,e){return t?(v=t,e&&(n=e),this):v},this.useLoaderCache=function(t){return t===!1?g=void 0:t===!0?g=!0:"undefined"==typeof t?g="$translationCache":t&&(g=t),this},this.$get=["$log","$injector","$rootScope","$q",function(t,n,l,v){var k,T,D,F=n.get(u||"$translateDefaultInterpolation"),_=!1,V={},U={},j=function(t,n,i){if(angular.isArray(t)){var r=function(t){for(var e={},a=[],o=function(t){var a=v.defer(),o=function(n){e[t]=n,a.resolve([t,n])};return j(t,n,i).then(o,o),a.promise},r=0,s=t.length;s>r;r++)a.push(o(t[r]));return v.all(a).then(function(){return e})};return r(t)}var l=v.defer();t&&(t=E.apply(t));var c=function(){var t=e?U[e]:U[o];if(T=0,s&&!t){var n=k.get(b);if(t=U[n],a&&a.length){var i=S(a,n);T=0===i?1:0,S(a,e)<0&&a.push(e)}}return t}();return c?c.then(function(){J(t,n,i).then(l.resolve,l.reject)},l.reject):J(t,n,i).then(l.resolve,l.reject),l.promise},z=function(t){return f&&(t=[f,t].join(" ")),h&&(t=[t,h].join(" ")),t},N=function(t){o=t,l.$emit("$translateChangeSuccess",{language:t}),s&&k.put(j.storageKey(),o),F.setLocale(o),angular.forEach(V,function(t,e){V[e].setLocale(o)}),l.$emit("$translateChangeEnd",{language:t})},R=function(t){if(!t)throw"No language key specified for loading.";var e=v.defer();l.$emit("$translateLoadingStart",{language:t}),_=!0;var a=g;"string"==typeof a&&(a=n.get(a));var i=angular.extend({},p,{key:t,$http:angular.extend({},{cache:a},p.$http)});return n.get(d)(i).then(function(n){var a={};l.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(n)?angular.forEach(n,function(t){angular.extend(a,M(t))}):angular.extend(a,M(n)),_=!1,e.resolve({key:t,table:a}),l.$emit("$translateLoadingEnd",{language:t})},function(t){l.$emit("$translateLoadingError",{language:t}),e.reject(t),l.$emit("$translateLoadingEnd",{language:t})}),e.promise};if(s&&(k=n.get(s),!k.get||!k.put))throw new Error("Couldn't use storage '"+s+"', missing get() or put() method!");angular.isFunction(F.useSanitizeValueStrategy)&&F.useSanitizeValueStrategy($),y.length&&angular.forEach(y,function(t){var a=n.get(t);a.setLocale(e||o),angular.isFunction(a.useSanitizeValueStrategy)&&a.useSanitizeValueStrategy($),V[a.getInterpolationIdentifier()]=a});var H=function(t){var e=v.defer();return Object.prototype.hasOwnProperty.call(m,t)?e.resolve(m[t]):U[t]?U[t].then(function(t){A(t.key,t.table),e.resolve(t.table)},e.reject):e.reject(),e.promise},q=function(t,e,n,a){var i=v.defer();return H(t).then(function(r){Object.prototype.hasOwnProperty.call(r,e)?(a.setLocale(t),i.resolve(a.interpolate(r[e],n)),a.setLocale(o)):i.reject()},i.reject),i.promise},B=function(t,e,n,a){var i,r=m[t];return r&&Object.prototype.hasOwnProperty.call(r,e)&&(a.setLocale(t),i=a.interpolate(r[e],n),a.setLocale(o)),i},W=function(t){if(c){var e=n.get(c)(t,o);return void 0!==e?e:t}return t},G=function(t,e,n,i){var o=v.defer();if(t<a.length){var r=a[t];q(r,e,n,i).then(o.resolve,function(){G(t+1,e,n,i).then(o.resolve)})}else o.resolve(W(e));return o.promise},Y=function(t,e,n,i){var o;if(t<a.length){var r=a[t];o=B(r,e,n,i),o||(o=Y(t+1,e,n,i))}return o},K=function(t,e,n){return G(D>0?D:T,t,e,n)},Q=function(t,e,n){return Y(D>0?D:T,t,e,n)},J=function(t,e,n){var i=v.defer(),r=o?m[o]:m,s=n?V[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,t)){var l=r[t];"@:"===l.substr(0,2)?j(l.substr(2),e,n).then(i.resolve,i.reject):i.resolve(s.interpolate(l,e))}else{var u;c&&!_&&(u=W(t)),o&&a&&a.length?K(t,e,s).then(function(t){i.resolve(t)},function(t){i.reject(z(t))}):c&&!_&&u?i.resolve(u):i.reject(z(t))}return i.promise},X=function(t,e,n){var i,r=o?m[o]:m,s=n?V[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,t)){var l=r[t];i="@:"===l.substr(0,2)?X(l.substr(2),e,n):s.interpolate(l,e)}else{var u;c&&!_&&(u=W(t)),o&&a&&a.length?(T=0,i=Q(t,e,s)):i=c&&!_&&u?u:z(t)}return i};if(j.preferredLanguage=function(t){return t&&P(t),e},j.cloakClassName=function(){return w},j.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(I(t),d&&a&&a.length)for(var e=0,n=a.length;n>e;e++)U[a[e]]||(U[a[e]]=R(a[e]));j.use(j.use())}return i?a[0]:a},j.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=S(a,t);e>-1&&(D=e)}else D=0},j.proposedLanguage=function(){return r},j.storage=function(){return k},j.use=function(t){if(!t)return o;var e=v.defer();l.$emit("$translateChangeStart",{language:t});var n=O(t);return n&&(t=n),m[t]||!d||U[t]?(e.resolve(t),N(t)):(r=t,U[t]=R(t).then(function(n){return A(n.key,n.table),e.resolve(n.key),N(n.key),r===t&&(r=void 0),n},function(t){r===t&&(r=void 0),l.$emit("$translateChangeError",{language:t}),e.reject(t),l.$emit("$translateChangeEnd",{language:t})})),e.promise},j.storageKey=function(){return L()},j.isPostCompilingEnabled=function(){return x},j.refresh=function(t){function e(){i.resolve(),l.$emit("$translateRefreshEnd",{language:t})}function n(){i.reject(),l.$emit("$translateRefreshEnd",{language:t})}if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");var i=v.defer();if(l.$emit("$translateRefreshStart",{language:t}),t)m[t]?R(t).then(function(n){A(n.key,n.table),t===o&&N(o),e()},n):n();else{var r=[],s={};if(a&&a.length)for(var c=0,u=a.length;u>c;c++)r.push(R(a[c])),s[a[c]]=!0;o&&!s[o]&&r.push(R(o)),v.all(r).then(function(t){angular.forEach(t,function(t){m[t.key]&&delete m[t.key],A(t.key,t.table)}),o&&N(o),e()})}return i.promise},j.instant=function(t,n,i){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var r={},s=0,l=t.length;l>s;s++)r[t[s]]=j.instant(t[s],n,i);return r}if(angular.isString(t)&&t.length<1)return t;t&&(t=E.apply(t));var u,d=[];e&&d.push(e),o&&d.push(o),a&&a.length&&(d=d.concat(a));for(var p=0,f=d.length;f>p;p++){var h=d[p];if(m[h]&&"undefined"!=typeof m[h][t]&&(u=X(t,n,i)),"undefined"!=typeof u)break}return u||""===u||(u=F.interpolate(t,n),c&&!_&&(u=W(t))),u},j.versionInfo=function(){return C},j.loaderCache=function(){return g},d&&(angular.equals(m,{})&&j.use(j.use()),a&&a.length))for(var Z=function(t){return A(t.key,t.table),l.$emit("$translateChangeEnd",{language:t.key}),t},te=0,ee=a.length;ee>te;te++)U[a[te]]=R(a[te]).then(Z);return j}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(t){var e,n={},a="default",i=null,o={escaped:function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=angular.element("<div></div>").text(t[n]).html());return e}},r=function(t){var e;return e=angular.isFunction(o[i])?o[i](t):t};return n.setLocale=function(t){e=t},n.getInterpolationIdentifier=function(){return a},n.useSanitizeValueStrategy=function(t){return i=t,this},n.interpolate=function(e,n){return i&&(n=r(n)),t(e)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(t,e,n,a,i,o){return{restrict:"AE",scope:!0,compile:function(e,r){var s=r.translateValues?r.translateValues:void 0,l=r.translateInterpolation?r.translateInterpolation:void 0,c=e[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,p,f){e.interpolateParams={},e.preText="",e.postText="";var h={},g=function(t){if(angular.equals(t,"")||!angular.isDefined(t)){var a=p.text().match(u);angular.isArray(a)?(e.preText=a[1],e.postText=a[3],h.translate=n(a[2])(e.$parent),watcherMatches=p.text().match(d),angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&e.$watch(watcherMatches[2],function(t){h.translate=t,$()})):h.translate=p.text().replace(/^\s+|\s+$/g,"")}else h.translate=t;$()},m=function(t){f.$observe(t,function(e){h[t]=e,$()})};f.$observe("translate",function(t){g(t)});for(var v in f)f.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&m(v);if(f.$observe("translateDefault",function(t){e.defaultText=t}),s&&f.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,i(t)(e.$parent))})}),c){var b=function(t){f.$observe(t,function(n){var a=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[a]=n})};for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&"translateValue"===y.substr(0,14)&&"translateValues"!==y&&b(y)}var $=function(){for(var t in h)h.hasOwnProperty(t)&&h[t]&&w(t,h[t],e,e.interpolateParams)},w=function(e,n,a,i){t(n,i,l).then(function(t){x(t,a,!0,e)},function(t){x(t,a,!1,e)})},x=function(e,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(e=n.defaultText),p.html(n.preText+e+n.postText);var s=t.isPostCompilingEnabled(),l="undefined"!=typeof r.translateCompile,c=l&&"false"!==r.translateCompile;(s&&!l||c)&&a(p.contents())(n)}else{i||"undefined"==typeof n.defaultText||(e=n.defaultText);var u=f.$attr[o].substr(15);p.attr(u,e)}};e.$watch("interpolateParams",$,!0);var k=o.$on("$translateChangeSuccess",$);p.text().length&&g(""),$(),e.$on("$destroy",k)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(t,e){return{compile:function(n){var a=function(){n.addClass(e.cloakClassName())},i=function(){n.removeClass(e.cloakClassName())},o=t.$on("$translateChangeEnd",function(){i(),o(),o=null});return a(),function(t,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(t){e(t).then(i,a)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(t,e){var n=function(n,a,i){return angular.isObject(a)||(a=t(a)(this)),e.instant(n,a,i)};return n.$stateful=!0,n}]),function(t,e){"use strict";function n(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return o(e,l(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function a(t){var n=[],a=l(n,e.noop);return a.chars(t),n.join("")}function i(t){var e,n={},a=t.split(",");for(e=0;e<a.length;e++)n[a[e]]=!0;return n}function o(t,n){function a(t,a,o,s){if(a=e.lowercase(a),C[a])for(;y.last()&&T[y.last()];)i("",y.last());k[a]&&y.last()==a&&i("",a),s=$[a]||!!s,s||y.push(a);var l={};o.replace(p,function(t,e,n,a,i){var o=n||a||i||"";l[e]=r(o)}),n.start&&n.start(a,l,s)}function i(t,a){var i,o=0;if(a=e.lowercase(a))for(o=y.length-1;o>=0&&y[o]!=a;o--);if(o>=0){for(i=y.length-1;i>=o;i--)n.end&&n.end(y[i]);y.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,s,l,b,y=[],w=t;for(y.last=function(){return y[y.length-1]};t;){if(b="",s=!0,y.last()&&S[y.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(t,e){return e=e.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(r(e)),""}),i("",y.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),s=!1)):m.test(t)?(l=t.match(m),l&&(t=t.replace(l[0],""),s=!1)):h.test(t)?(l=t.match(d),l&&(t=t.substring(l[0].length),l[0].replace(d,i),s=!1)):f.test(t)&&(l=t.match(u),l?(l[4]&&(t=t.substring(l[0].length),l[0].replace(u,a)),s=!1):(b+="<",t=t.substring(1))),s&&(o=t.indexOf("<"),b+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(r(b)))),t==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);w=t}i()}function r(t){return t?(I.innerHTML=t.replace(/</g,"&lt;"),I.textContent):""}function s(t){return t.replace(/&/g,"&amp;").replace(b,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(y,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t,n){var a=!1,i=e.bind(t,t.push);return{start:function(t,o,r){t=e.lowercase(t),!a&&S[t]&&(a=t),a||E[t]!==!0||(i("<"),i(t),e.forEach(o,function(a,o){var r=e.lowercase(o),l="img"===t&&"src"===r||"background"===r;P[r]!==!0||O[r]===!0&&!n(a,l)||(i(" "),i(o),i('="'),i(s(a)),i('"'))}),i(r?"/>":">"))},end:function(t){t=e.lowercase(t),a||E[t]!==!0||(i("</"),i(t),i(">")),t==a&&(a=!1)},chars:function(t){a||i(s(t))}}}var c=e.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,h=/^<\//,g=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,$=i("area,br,col,hr,img,wbr"),w=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=i("rp,rt"),k=e.extend({},x,w),C=e.extend({},w,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),T=e.extend({},x,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),D=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),S=i("script,style"),E=e.extend({},$,C,T,k,D),O=i("background,cite,href,longdesc,src,usemap,xlink:href"),A=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),M=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),P=e.extend({},O,M,A),I=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,i=/^mailto:/i;return function(o,r){function s(t){t&&f.push(a(t))}function l(t,n){f.push("<a "),e.isDefined(r)&&f.push('target="',r,'" '),f.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var c,u,d,p=o,f=[];c=p.match(n);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(p.substr(0,d)),l(u,c[0].replace(i,"")),p=p.substring(d+c[0].length);return s(p),t(f.join(""))}}])}(window,window.angular),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(t,e,n){function a(t){var a={};return function(i){if("undefined"==typeof a[i]){var o=e.defer(),r=t(i);r.onload=r.onreadystatechange=function(t){r.readyState&&"complete"!==r.readyState&&"loaded"!==r.readyState||n(function(){o.resolve(t)})},r.onerror=function(t){n(function(){o.reject(t)})},a[i]=o.promise}return a[i]}}var i=t[0];this.loadScript=a(function(t){var e=i.createElement("script");return e.src=t,i.body.appendChild(e),e}),this.loadCSS=a(function(t){var e=i.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href=t,i.head.appendChild(e),e})}])}(),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,e){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var a=t.defer();return e(angular.extend({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""},n.$http)).success(function(t){a.resolve(t)}).error(function(){a.reject(n.key)}),a.promise}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,e){function n(t,a){e(angular.extend({url:[t.prefix,t.key.toLowerCase(),t.suffix].join(""),method:"GET",params:""},t.$http)).success(function(t){a.resolve(t)}).error(function(){if(t.key.indexOf("_")>=0){var e=t.key.substr(0,t.key.lastIndexOf("_")),i=angular.extend({},t,{key:e});n(i,a)}else a.resolve("{}")})}return function(e){if(!e||!angular.isString(e.prefix)||!angular.isString(e.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=t.defer();return n(e,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(t,e,n){t.useStaticFilesLoader({prefix:e,suffix:n}),t.determinePreferredLanguage().fallbackLanguage("en")}]),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.affix"),o="object"==typeof e&&e;i||a.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.options=t.extend({},n.DEFAULTS,a),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=e-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-s}))}}};var a=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=a,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),e.call(n,a)})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',a=function(e){t(e).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var a=t(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=t(i);e&&e.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=a,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.button"),o="object"==typeof e&&e;i||a.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",o=a.data();e+="Text",null==o.resetText&&a.data("resetText",a[i]()),a[i](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var a=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=a,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=t(n.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.carousel"),o=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e),r="string"==typeof e?e:o.slide;i||a.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):r?i[r]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var a=this.$element.find(".item.active"),i=n||a[e](),o=this.interval,r="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,a.addClass(r),i.addClass(r),a.one("bsTransitionEnd",function(){i.removeClass([e,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var a=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=a,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=t(this),o=t(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),e.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),o=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&o.toggle&&"show"==e&&(e=!e),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;e.call(a,"hide"),i||a.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this
},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=t(this),o=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=t(o),s=r.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&t(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(o).each(function(){var a=n(t(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&t(n);return a&&a.length?a:e.parent()}function a(e){return this.each(function(){var n=t(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof e&&a[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(a){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(a=t.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var a=t(this);if(e.preventDefault(),e.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),r=i.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&i.find(o).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=a,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),a=e.data("target");if(a||(a=e.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(o),!o.isDefaultPrevented()){var r=t(a);this.activate(e.closest("li"),n),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(e,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),r=a&&t.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var a=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=a,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,a=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(a).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(n,a){var i=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(n).is("body")?t(window):t(n),this.options=t.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=t(this),i=a.data("bs.scrollspy"),o="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=t(this),i=a.data("target")||a.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=a)return r!=(t=o[o.length-1])&&this.activate(t);if(r&&e<=i[0])return r!=(t=o[0])&&this.activate(t);for(t=i.length;t--;)r!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',a=t(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=a,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e,a){return this.each(function(){var i=t(this),o=i.data("bs.modal"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,r)),"string"==typeof e?o[e](a):r.show&&o.show(a)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,a=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var a=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&a;if(this.$backdrop=t('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var a=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=a,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=t(this),i=a.attr("href"),o=t(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(o,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tooltip"),o="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,a){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,a){n[t]!=a&&(e[t]=a)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(l){var p=r,f=this.$element.parent(),h=this.getPosition(f);r="bottom"==r&&c.top+c.height+d-h.scroll>h.height?"top":"top"==r&&c.top-h.scroll-d<0?"bottom":"right"==r&&c.right+u>h.width?"left":"left"==r&&c.left-u<h.left?"right":r,i.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,c,u,d);this.applyPlacement(g,r);var m=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var a=this.tip(),i=a[0].offsetWidth,o=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),e.top=e.top+r,e.left=e.left+s,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=u.left?2*u.left-i+l:2*u.top-o+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(e),this.replaceArrow(d,a[0][f],p)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],a="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:a?t(window).width():e.outerWidth(),height:a?t(window).height():e.outerHeight()},a?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-n}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-r.scroll,l=e.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=e.left-o,u=e.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=a,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.popover"),o="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var a=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){function a(t){for(var e in t)if(void 0!==o.style[e])return t[e]}var i=function(a,o,r){r=r||{};var s=t.defer(),l=i[r.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),e(function(){angular.isString(o)?a.addClass(o):angular.isFunction(o)?o(a):angular.isObject(o)&&a.css(o),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},o=document.createElement("trans"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=a(r),i.animationEndEventName=a(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){return{link:function(e,n,a){function i(e){function a(){c===i&&(c=void 0)}var i=t(n,e);return c&&c.cancel(),c=i,i.then(a,a),i}function o(){u?(u=!1,r()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(r))}function r(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(u)u=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});{n[0].offsetWidth}n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var c,u=!0;e.$watch(a.collapse,function(t){t?s():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==a&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,a){a.addGroup(t),t.$watch("isOpen",function(e){e&&a.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,a,i){a.setHeading(i(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,a){t.$watch(function(){return a[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,a){var i=a[0],o=a[1];o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var a=e.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(a?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,a){function i(){return r(n.btnCheckboxTrue,!0)}function o(){return r(n.btnCheckboxFalse,!1)}function r(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var s=a[0],l=a[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(t,e,n){function a(){i();var n=+t.interval;!isNaN(n)&&n>=0&&(r=e(o,n))}function i(){r&&(e.cancel(r),r=null)}function o(){s?(t.next(),a()):t.pause()}var r,s,l=this,c=l.slides=t.slides=[],u=-1;l.currentSlide=null;var d=!1;l.select=t.select=function(i,o){function r(){if(!d){if(l.currentSlide&&angular.isString(o)&&!t.noTransition&&i.$element){i.$element.addClass(o);{i.$element[0].offsetWidth}angular.forEach(c,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(l.currentSlide||{},{direction:o,leaving:!0}),t.$currentTransition=n(i.$element,{}),function(e,n){t.$currentTransition.then(function(){s(e,n)},function(){s(e,n)})}(i,l.currentSlide)}else s(i,l.currentSlide);l.currentSlide=i,u=p,a()}}function s(e,n){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var p=c.indexOf(i);void 0===o&&(o=p>u?"next":"prev"),i&&i!==l.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(r)):r())},t.$on("$destroy",function(){d=!0}),l.indexOfSlide=function(t){return c.indexOf(t)},t.next=function(){var e=(u+1)%c.length;return t.$currentTransition?void 0:l.select(c[e],"next")},t.prev=function(){var e=0>u-1?c.length-1:u-1;return t.$currentTransition?void 0:l.select(c[e],"prev")},t.isActive=function(t){return l.currentSlide===t},t.$watch("interval",a),t.$on("$destroy",i),t.play=function(){s||(s=!0,a())},t.pause=function(){t.noPause||(s=!1,i())},l.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(l.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},l.removeSlide=function(t){var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?e>=c.length?l.select(c[e-1]):l.select(c[e]):u>e&&u--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,a){a.addSlide(t,e),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],a=t.split("");return angular.forEach(i,function(e,i){var o=t.indexOf(i);if(o>-1){t=t.split(""),a[o]="("+e.regex+")",t[o]="$";for(var r=o+1,s=o+i.length;s>r;r++)a[r]="",t[r]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:e(n,"index")}}function a(t,e,n){return 1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,i){if(!angular.isString(e)||!i)return e;i=t.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var o=this.parsers[i],r=o.regex,s=o.map,l=e.match(r);if(l&&l.length){for(var c,u={year:1900,month:0,date:1,hours:0},d=1,p=l.length;p>d;d++){var f=s[d-1];f.apply&&f.apply.call(u,l[d])}return a(u.year,u.month,u.date)&&(c=new Date(u.year,u.month,u.date,u.hours)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]
}function a(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),a={top:0,left:0},o=i(e[0]);o!=t[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=e[0].getBoundingClientRect();return{width:r.width||e.prop("offsetWidth"),height:r.height||e.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:a.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(t):this.position(t),o=e.prop("offsetWidth"),r=e.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-r,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,a,i,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(e[n])?8>i?a(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(a){e[a]?t.$parent.$watch(n(e[a]),function(t){l[a]=t?new Date(t):null,l.refreshView()}):l[a]=s[a]?new Date(s[a]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(e.initDate)?t.$parent.$eval(e.initDate):new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){c=t,c.$render=function(){l.render()}},this.render=function(){if(c.$modelValue){var t=new Date(c.$modelValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:t,label:r(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){i(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",u),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),u()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,a){var i=a[0],o=a[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,a,i){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function r(t,e){var n=new Array(e),a=new Date(t),i=0;for(a.setHours(12);e>i;)n[i++]=new Date(a),a.setDate(a.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),o=new Date(n,a,1),l=i.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var d=r(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==a,uid:e.uniqueId+"-"+p});e.labels=new Array(7);for(var f=0;7>f;f++)e.labels[f]={abbr:t(d[f].date,i.formatDayHeader),full:t(d[f].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(d,7),e.showWeeks){e.weekNumbers=[];for(var h=s(e.rows[0][0].date),g=e.rows.length;e.weekNumbers.push(h++)<g;);}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t){var e=i.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(n,1),e=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(e)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),a=i.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(i.createDateObject(new Date(a,o,1),i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(n,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t){var e=i.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);i.activeDate.setMonth(e)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,a){function i(t){return parseInt((t-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=e,a._refreshView=function(){for(var e=new Array(o),n=0,r=i(a.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(a.createDateObject(new Date(r+n,0,1),a.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=a.split(e,5)},a.compare=function(t,e){return t.getFullYear()-e.getFullYear()},a.handleKeyDown=function(t){var e=a.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*a.step.years:"home"===t?e=i(a.activeDate.getFullYear()):"end"===t&&(e=i(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(e)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,a,i,o,r){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,c,u){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function p(t){if(t){if(angular.isDate(t)&&!isNaN(t))return u.$setValidity("date",!0),t;if(angular.isString(t)){var e=o.parse(t,f)||new Date(t);return isNaN(e)?(u.$setValidity("date",!1),void 0):(u.$setValidity("date",!0),e)}return u.$setValidity("date",!1),void 0}return u.$setValidity("date",!0),null}var f,h=angular.isDefined(c.closeOnDateSelection)?s.$parent.$eval(c.closeOnDateSelection):r.closeOnDateSelection,g=angular.isDefined(c.datepickerAppendToBody)?s.$parent.$eval(c.datepickerAppendToBody):r.appendToBody;s.showButtonBar=angular.isDefined(c.showButtonBar)?s.$parent.$eval(c.showButtonBar):r.showButtonBar,s.getText=function(t){return s[t+"Text"]||r[t+"Text"]},c.$observe("datepickerPopup",function(t){f=t||r.datepickerPopup,u.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);c.datepickerOptions&&angular.forEach(s.$parent.$eval(c.datepickerOptions),function(t,e){v.attr(d(e),t)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(c[t]){var n=e(c[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),v.attr(d(t),"watchData."+t),"datepickerMode"===t){var a=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&a(s.$parent,t)})}}}),c.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.$parsers.unshift(p),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t),u.$setViewValue(s.date),u.$render(),h&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=u.$modelValue})}),u.$render=function(){var t=u.$viewValue?i(u.$viewValue,f):"";l.val(t),s.date=p(u.$modelValue)};var b=function(t){s.isOpen&&t.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},y=function(t){s.keydown(t)};l.bind("keydown",y),s.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=g?a.offset(l):a.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",b)):n.unbind("click",b)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(u.$modelValue)?(t=new Date(u.$modelValue),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,l[0].focus()};var $=t(m)(s);m.remove(),g?n.find("body").append($):l.after($),s.$on("$destroy",function(){$.remove(),l.unbind("keydown",y),n.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(i){e||(t.bind("click",n),t.bind("keydown",a)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,t.unbind("click",n),t.unbind("keydown",a))};var n=function(t){var n=e.getToggleElement();t&&n&&n[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})},a=function(t){27===t.which&&(e.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,n,a,i,o){var r,s=this,l=t.$new(),c=a.openClass,u=angular.noop,d=e.onToggle?n(e.onToggle):angular.noop;this.init=function(a){s.$element=a,e.isOpen&&(r=n(e.isOpen),u=r.assign,t.$watch(r,function(t){l.isOpen=!!t}))},this.toggle=function(t){return l.isOpen=arguments.length?!!t:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(e,n){o[e?"addClass":"removeClass"](s.$element,c),e?(l.focusToggleElement(),i.open(l)):i.close(l),u(t,e),angular.isDefined(e)&&e!==n&&d(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){l.isOpen=!1}),t.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(t,e,n,a){a.init(e)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(t,e,n,a){if(a){a.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){a.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(a.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,a=0;a<t.length;a++)if(e==t[a].key){n=a;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,n,a){e.backdropClass=a.backdropClass||"",e.animate=!1,t(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,a,i){a.addClass(i.windowClass||""),n.size=i.size,e(function(){n.animate=!0,a[0].querySelectorAll("[autofocus]").length||a[0].focus()}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,a,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,a,i,o){function r(){for(var t=-1,e=f.keys(),n=0;n<e.length;n++)f.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),a=f.get(t).value;f.remove(t),c(a.modalDomEl,a.modalScope,300,function(){a.modalScope.$destroy(),e.toggleClass(p,f.length()>0),l()})}function l(){if(u&&-1==r()){var t=d;c(u,d,150,function(){t.$destroy(),t=null}),u=void 0,d=void 0}}function c(n,a,i,o){function r(){r.done||(r.done=!0,n.remove(),o&&o())}a.animate=!1;var s=t.transitionEndEventName;if(s){var l=e(r,i);n.bind(s,function(){e.cancel(l),r(),a.$apply()})}else e(r)}var u,d,p="modal-open",f=o.createNew(),h={};return i.$watch(r,function(t){d&&(d.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=f.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){h.dismiss(e.key,"escape key press")})))}),h.open=function(t,e){f.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),s=r();if(s>=0&&!u){d=i.$new(!0),d.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",e.backdropClass),u=a(l)(d),o.append(u)}var c=angular.element("<div modal-window></div>");c.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content);var h=a(c)(e.scope);f.top().value.modalDomEl=h,o.append(h),o.addClass(p)},h.close=function(t,e){var n=f.get(t);n&&(n.value.deferred.resolve(e),s(t))},h.dismiss=function(t,e){var n=f.get(t);n&&(n.value.deferred.reject(e),s(t))},h.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},h.getTop=function(){return f.top()},h}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,a,i,o,r,s){function l(t){return t.template?a.when(t.template):i.get(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl,{cache:o}).then(function(t){return t.data})}function c(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(a.when(e.invoke(t)))}),n}var u={};return u.open=function(e){var i=a.defer(),o=a.defer(),u={result:i.promise,opened:o.promise,close:function(t){s.close(u,t)},dismiss:function(t){s.dismiss(u,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=a.all([l(e)].concat(c(e.resolve)));return d.then(function(t){var a=(e.scope||n).$new();a.$close=u.close,a.$dismiss=u.dismiss;var o,l={},c=1;e.controller&&(l.$scope=a,l.$modalInstance=u,angular.forEach(e.resolve,function(e,n){l[n]=t[c++]}),o=r(e.controller,l),e.controllerAs&&(a[e.controllerAs]=o)),s.open(u,{scope:a,deferred:i,content:t[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),d.then(function(){o.resolve(!0)},function(){o.reject(!1)}),u},u}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var a=this,i={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,r){i=o,this.config=r,i.$render=function(){a.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){a.itemsPerPage=parseInt(e,10),t.totalPages=a.calculateTotalPages()}):this.itemsPerPage=r.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e){t.page!==e&&e>0&&e<=t.totalPages&&(i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||a.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages},t.$watch("totalItems",function(){t.totalPages=a.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,o){function r(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],a=1,i=e,o=angular.isDefined(u)&&e>u;o&&(d?(a=Math.max(t-Math.floor(u/2),1),i=a+u-1,i>e&&(i=e,a=i-u+1)):(a=(Math.ceil(t/u)-1)*u+1,i=Math.min(a+u-1,e)));for(var s=a;i>=s;s++){var l=r(s,s,s===t);n.push(l)}if(o&&!d){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(e>i){var p=r(i+1,"...",!1);n.push(p)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(c,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){u=parseInt(t,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,a,i){var o=i[0],r=i[1];r&&(e.align=angular.isDefined(a.align)?e.$parent.$eval(a.align):t.align,o.init(r,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(t){angular.extend(a,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,o,r,s,l,c,u){return function(i,d,p){function f(t){var e=t||h.trigger||p,a=n[e]||e;return{show:e,hide:a}}var h=angular.extend({},e,a),g=t(i),m=u.startSymbol(),v=u.endSymbol(),b="<div "+g+'-popup title="'+m+"tt_title"+v+'" content="'+m+"tt_content"+v+'" placement="'+m+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var t=o(b);return function(e,n,a){function o(){e.tt_isOpen?p():u()}function u(){(!C||e.$eval(a[d+"Enable"]))&&(e.tt_popupDelay?w||(w=r(g,e.tt_popupDelay,!1),w.then(function(t){t()})):g()())}function p(){e.$apply(function(){m()})}function g(){return w=null,$&&(r.cancel($),$=null),e.tt_content?(v(),y.css({top:0,left:0,display:"block"}),x?l.find("body").append(y):n.after(y),T(),e.tt_isOpen=!0,e.$digest(),T):angular.noop}function m(){e.tt_isOpen=!1,r.cancel(w),w=null,e.tt_animation?$||($=r(b,500)):b()}function v(){y&&b(),y=t(e,function(){}),e.$digest()}function b(){$=null,y&&(y.remove(),y=null)}var y,$,w,x=angular.isDefined(h.appendToBody)?h.appendToBody:!1,k=f(void 0),C=angular.isDefined(a[d+"Enable"]),T=function(){var t=c.positionElements(n,y,e.tt_placement,x);t.top+="px",t.left+="px",y.css(t)};e.tt_isOpen=!1,a.$observe(i,function(t){e.tt_content=t,!t&&e.tt_isOpen&&m()}),a.$observe(d+"Title",function(t){e.tt_title=t}),a.$observe(d+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:h.placement}),a.$observe(d+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?h.popupDelay:n});var D=function(){n.unbind(k.show,u),n.unbind(k.hide,p)};a.$observe(d+"Trigger",function(t){D(),k=f(t),k.show===k.hide?n.bind(k.show,o):(n.bind(k.show,u),n.bind(k.hide,p))});var S=e.$eval(a[d+"Animation"]);e.tt_animation=angular.isDefined(S)?!!S:h.animation,a.$observe(d+"AppendToBody",function(t){x=angular.isDefined(t)?s(t)(e):x}),x&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&m()}),e.$on("$destroy",function(){r.cancel($),r.cancel(w),D(),b()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var a=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,a.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,a){a.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,a){a.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(a.$setViewValue(e),a.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=a.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,a){var i=a[0],o=a[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length?t.active=!0:t.active&&e.select(t)},e.removeTab=function(t){var a=n.indexOf(t);if(t.active&&n.length>1){var i=a==n.length-1?a-1:a+1;e.select(n[i])}n.splice(a,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,a){return function(e,n,i,o){e.$watch("active",function(t){t&&o.select(e)}),e.disabled=!1,i.disabled&&e.$parent.$watch(t(i.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,a){var i=e.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,a,i,o){function r(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function c(t){u(),h.$setViewValue(new Date(f)),d(t)}function u(){h.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=f.getHours(),a=f.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),t.minutes="m"===e?a:l(a),t.meridian=f.getHours()<12?g[0]:g[1]}function p(t){var e=new Date(f.getTime()+6e4*t);f.setHours(e.getHours(),e.getMinutes()),c()}var f=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){h=n,h.$render=this.render;var i=a.eq(0),r=a.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,r),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(i,r)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,h.$error.time){var n=r(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(f.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(e,n){var a=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()
})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void 0;var a=function(e,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=r();angular.isDefined(t)?(f.setHours(t),c("h")):a(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(f.setMinutes(t),c("m")):a(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=h.$modelValue?new Date(h.$modelValue):null;isNaN(t)?(h.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),u(),d())},t.incrementHours=function(){p(60*m)},t.decrementHours=function(){p(60*-m)},t.incrementMinutes=function(){p(v)},t.decrementMinutes=function(){p(-v)},t.toggleMeridian=function(){p(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,a){var i=a[0],o=a[1];o&&i.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(e);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:t(a[4]),viewMapper:t(a[2]||a[1]),modelMapper:t(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,a,i,o,r){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,d){var p,f=l.$eval(u.typeaheadMinLength)||1,h=l.$eval(u.typeaheadWaitMs)||0,g=l.$eval(u.typeaheadEditable)!==!1,m=e(u.typeaheadLoading).assign||angular.noop,v=e(u.typeaheadOnSelect),b=u.typeaheadInputFormatter?e(u.typeaheadInputFormatter):void 0,y=u.typeaheadAppendToBody?l.$eval(u.typeaheadAppendToBody):!1,$=e(u.ngModel).assign,w=r.parse(u.typeahead),x=l.$new();l.$on("$destroy",function(){x.$destroy()});var k="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":k});var C=angular.element("<div typeahead-popup></div>");C.attr({id:k,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&C.attr("template-url",u.typeaheadTemplateUrl);var T=function(){x.matches=[],x.activeIdx=-1,c.attr("aria-expanded",!1)},D=function(t){return k+"-option-"+t};x.$watch("activeIdx",function(t){0>t?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",D(t))});var S=function(t){var e={$viewValue:t};m(l,!0),n.when(w.source(l,e)).then(function(n){var a=t===d.$viewValue;if(a&&p)if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var i=0;i<n.length;i++)e[w.itemName]=n[i],x.matches.push({id:D(i),label:w.viewMapper(x,e),model:n[i]});x.query=t,x.position=y?o.offset(c):o.position(c),x.position.top=x.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else T();a&&m(l,!1)},function(){T(),m(l,!1)})};T(),x.query=void 0;var E,O=function(t){E=a(function(){S(t)},h)},A=function(){E&&a.cancel(E)};d.$parsers.unshift(function(t){return p=!0,t&&t.length>=f?h>0?(A(),O(t)):S(t):(m(l,!1),A(),T()),g?t:t?(d.$setValidity("editable",!1),void 0):(d.$setValidity("editable",!0),t)}),d.$formatters.push(function(t){var e,n,a={};return b?(a.$model=t,b(l,a)):(a[w.itemName]=t,e=w.viewMapper(l,a),a[w.itemName]=void 0,n=w.viewMapper(l,a),e!==n?e:t)}),x.select=function(t){var e,n,i={};i[w.itemName]=n=x.matches[t].model,e=w.modelMapper(l,i),$(l,e),d.$setValidity("editable",!0),v(l,{$item:n,$model:e,$label:w.viewMapper(l,i)}),T(),a(function(){c[0].focus()},0,!1)},c.bind("keydown",function(t){0!==x.matches.length&&-1!==s.indexOf(t.which)&&(t.preventDefault(),40===t.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===t.which?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===t.which||9===t.which?x.$apply(function(){x.select(x.activeIdx)}):27===t.which&&(t.stopPropagation(),T(),x.$digest()))}),c.bind("blur",function(){p=!1});var M=function(t){c[0]!==t.target&&(T(),x.$digest())};i.bind("click",M),l.$on("$destroy",function(){i.unbind("click",M)});var P=t(C)(x);y?i.find("body").append(P):c.after(P)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,r){var s=a(r.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t.get(s,{cache:e}).success(function(t){o.replaceWith(n(t.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(t,e,n,a){"use strict";function i(e,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var e=t(this).data("wysihtml5-command-value");r(e),l.trigger("alignmentChanged",e)})}function o(){return c.data("wysihtml5-command-value")}function r(t){var e=l.find(".btn-alignment .fa"),n=e.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+t;n&&n.length>0&&e.removeClass(n[0]),e.addClass(a),c.data("wysihtml5-command-value",t)}function s(){r(u)}var l=t(e),c=null,u="left";return n=t.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";t.fn.alignment=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new i(this,e))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};if("undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["font-style.html"]='<div class="btn-group">\n  <a class="btn btn-sm btn-default bold" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">B</a>\n  <a class="btn btn-sm btn-default italic" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">I</a>\n  <a class="btn btn-sm btn-default underline" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">U</a>\n</div>\n',function(t,e,n,a){"use strict";function i(e,n){function i(){m.append(a["font-style.html"]),v=m.find(".bold"),b=m.find(".italic"),y=m.find(".underline"),h({bold:n.bold,italic:n.italic,underline:n.underline}),m.find(".btn").on("click",function(){var e=!t(this).hasClass("active");r(t(this),e),m.trigger("styleChanged",[t(this).attr("data-wysihtml5-command"),e])})}function o(t){return t.hasClass("active")}function r(t,e){e?t.addClass("active"):t.removeClass("active")}function s(){return o(v)}function l(t){r(v,t)}function c(){return o(b)}function u(t){r(b,t)}function d(){return o(y)}function p(t){r(y,t)}function f(){return{bold:s(),italic:c(),underline:d()}}function h(t){r(v,t.bold),r(b,t.italic),r(y,t.underline)}function g(){h($)}var m=t(e),v=null,b=null,y=null,$={bold:!1,italic:!1,underline:!1};return n=t.extend({},$,n),i(),{isBold:s,isItalic:c,isUnderline:d,setBold:l,setItalic:u,setUnderline:p,getStyles:f,setStyles:h,reset:g}}var o="fontStyle";t.fn.fontStyle=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new i(this,e))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};if("undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["url-field-template.html"]='<div class="form-group validate-url">\n  <div class="checkbox">\n    <label>\n      <input name="validate-url" type="checkbox" value="validate-url" checked="checked"> Validate URL\n    </label>\n  </div>\n</div>\n<div class="form-group">\n  <label>URL</label>\n  <input name="url" type="text" class="form-control" />\n</div>\n',function(t,e,n,a){"use strict";function i(e,n){function i(){return t.trim(u.val())}function o(t){return-1===t.indexOf("://")&&(t="http://"+t),f.test(t)}function r(t){"string"==typeof t&&u&&u.val(t)}function s(){if(!h)return!0;var t=o(i());return t||d.is(":visible")||d.show(),t}function l(){c.append(a["url-field-template.html"]),u=c.find("input[name='url']"),d=c.find("div.validate-url"),p=c.find("input[name='validate-url']"),d.hide(),r(n.url),p.on("click",function(){h=t(this).is(":checked")})}var c=t(e),u=null,d=null,p=null,f=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,h=!0;return n=t.extend({},{url:"http://"},n),l(),{setUrl:r,getUrl:i,validateUrl:s}}var o="urlField";t.fn.urlField=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new i(this,e))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};!function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(t,e){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:t.get("_angular/url-field/url-field.html"),link:function(t,n,a,i){function o(t,e){var n,a=t.toLowerCase();switch(e){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;o>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function r(){if("undefined"!==t.fileType&&"undefined"!==t.url&&"image"===t.fileType){var e=new Image;e.onload=function(){t.valid=!0,t.$apply()},e.onerror=function(){t.valid=!1,t.invalidType=t.fileType,t.$apply()},e.src=t.url}}function s(e){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===e.indexOf("://")&&(e="http://"+e),a=n.test(e),a&&"undefined"!=typeof t.fileType?(a=o(e,t.fileType),a||(t.invalidType=t.fileType)):t.invalidType="url",a&&r(),a}t.doValidation=!0,t.forcedValid=!1,t.valid=!0,t.invalidType="url",t.allowInitEmpty="undefined"!=typeof a.initEmpty,t.blur=function(){t.$emit("urlFieldBlur")},t.$watch("url",function(e){"undefined"!=typeof e&&null!==e&&(""!==e&&t.allowInitEmpty&&(t.allowInitEmpty=!1),t.doValidation&&!t.allowInitEmpty&&(t.valid=s(t.url)))}),t.$watch("valid",function(t){i&&(e.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",t))}),t.$watch("doValidation",function(e){"undefined"!=typeof t.url&&(e?(t.forcedValid=!1,t.allowInitEmpty||(t.valid=s(t.url))):(t.forcedValid=!0,t.valid=!0))})}}}])}(),function(t){try{t=angular.module("risevision.widget.common.url-field")}catch(e){t=angular.module("risevision.widget.common.url-field",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')
}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting",["angularLoad","ui.tinymce","risevision.common.i18n","risevision.widget.common.url-field"]).directive("fontSetting",["$templateCache","$log","$window","googleFontLoader",function(t,e,n,a){return{restrict:"AE",scope:{fontData:"=",previewText:"@"},template:t.get("_angular/font-setting/font-setting.html"),transclude:!1,link:function(t,e){function i(){t.tinymceOptions={font_formats:"Use Custom Font=custom;"+WIDGET_SETTINGS_UI_CONFIG.families+t.googleFontList,fontsize_formats:"Custom "+(""!==t.fontData.customSize?t.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes,menubar:!1,plugins:"textcolor colorpicker",skin_url:"//s3.amazonaws.com/rise-common/styles/tinymce/rise",statusbar:!1,toolbar:"fontselect fontsizeselect | alignleft aligncenter alignright alignjustify | forecolor backcolor | bold italic underline",setup:function(t){t.on("init",function(){o(t),g=!1}),t.on("ExecCommand",function(e){r(t,e)})},init_instance_callback:function(t){var e=t.formatter.apply,n=t.formatter.remove;t.formatter.apply=function(n,a,i){var o={command:n,value:a.value};e(n,a,i),t.fire("ExecCommand",o)},t.formatter.remove=function(e,a,i){var o={command:e,value:a&&a.value?a.value:null};n(e,a,i),t.fire("ExecCommand",o)}}}}function o(e){if(t.fontData){switch("custom"===t.fontData.font.type&&t.fontData.font.url?e.execCommand("FontName",!1,"custom"):e.execCommand("FontName",!1,t.fontData.font.family),e.execCommand("FontSize",!1,t.fontData.size),t.fontData.align){case"left":e.execCommand("JustifyLeft",!1);break;case"center":e.execCommand("JustifyCenter",!1);break;case"right":e.execCommand("JustifyRight",!1);break;case"justify":e.execCommand("JustifyFull",!1)}p.find(".mce-colorbutton[aria-label='Text color'] span").css("background-color",t.fontData.forecolor),p.find(".mce-colorbutton[aria-label='Background color'] span").css("background-color",t.fontData.backcolor),t.fontData.bold&&s(p.find(".mce-btn[aria-label='Bold']")),t.fontData.italic&&s(p.find(".mce-btn[aria-label='Italic']")),t.fontData.underline&&s(p.find(".mce-btn[aria-label='Underline']"))}}function r(e,n){switch(n.command){case"FontName":if(g)return;if("custom"===n.value)return f.modal("show"),void 0;t.fontData.font.family=n.value,t.fontData.font.type=c(n.value);break;case"FontSize":if(g)return;if("Custom"===n.value)return h.modal("show"),void 0;t.fontData.size=n.value;break;case"JustifyLeft":t.fontData.align="left";break;case"JustifyCenter":t.fontData.align="center";break;case"JustifyRight":t.fontData.align="right";break;case"JustifyFull":t.fontData.align="justify";break;case"forecolor":t.fontData.forecolor=n.value?n.value:t.defaultFont.forecolor;break;case"hilitecolor":t.fontData.backcolor=n.value?n.value:t.defaultFont.backcolor;break;case"mceToggleFormat":"bold"===n.value?(t.fontData.bold=!t.fontData.bold,s(p.find(".mce-btn[aria-label='Bold']"))):"italic"===n.value?(t.fontData.italic=!t.fontData.italic,s(p.find(".mce-btn[aria-label='Italic']"))):"underline"===n.value&&(t.fontData.underline=!t.fontData.underline,s(p.find(".mce-btn[aria-label='Underline']")))}l(t.fontData)}function s(t){t.toggleClass("mce-active")}function l(e){var n=p.find(".text-container"),a=p.find(".text");t.previewText&&e&&(a.css("fontFamily",e.font.family),a.css("fontSize",e.size),a.css("fontWeight",e.bold?"bold":"normal"),a.css("fontStyle",e.italic?"italic":"normal"),a.css("textDecoration",e.underline?"underline":"none"),a.css("color",e.forecolor),a.css("backgroundColor",e.backcolor),n.css("textAlign",e.align))}function c(e){return-1!==WIDGET_SETTINGS_UI_CONFIG.families.indexOf(e)?"standard":-1!==t.googleFontList.indexOf(e)?"google":"custom"}function u(){return t.fontData.font.url?t.fontData.font.url.split("/").pop().split(".")[0]:null}function d(e){var n=null,a=$.trim(t.fontData.font.url),i="font-family: "+e+"; src: url('"+a+"');";n=document.styleSheets[0],null!==n&&n.addRule("@font-face",i)}var p=$(e),f=p.find(".custom-font"),h=p.find(".custom-font-size"),g=!0;t.googleFontList="",t.defaultFont={font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"24px",customSize:"",align:"left",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},a.getFonts().then(function(e){t.googleFontList=e}),t.customFontSize=null,t.applyCustomFont=function(){var e=u();null!==e&&(d(e),t.fontData.font.family=e,t.fontData.font.type="custom",l(t.fontData)),f.modal("hide")},t.applyCustomFontSize=function(){h.modal("hide"),null!==t.customFontSize&&t.customFontSize>=8&&t.customFontSize+"px"!==t.fontData.size&&(t.fontData.size=t.customFontSize+"px",-1!==WIDGET_SETTINGS_UI_CONFIG.sizes.indexOf(t.fontData.size)||t.fontData.customSize===t.fontData.size?n.tinymce.activeEditor.execCommand("FontSize",!1,t.fontData.size):(t.fontData.customSize=t.customFontSize+"px",t.tinymceOptions.fontsize_formats="Custom "+(""!==t.fontData.customSize?t.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes)),t.customFontSize=null},t.defaults=function(t){if(t)for(var e=1,n=arguments.length;n>e;e++){var a=arguments[e];for(var i in a)void 0===t[i]&&(t[i]=a[i])}return t};var m=t.$watchGroup(["fontData","googleFontList"],function(e){var n=null,a=e[0],o=e[1];a&&o&&(t.defaults(a,t.defaultFont),t.fontData.font.url&&(n=u(),null!==n&&d(n)),l(a),i(),m(),t.previewText&&t.$watch("fontData",l,!0))});t.$watch("tinymceOptions.fontsize_formats",function(e){"undefined"==typeof e||g||t.$broadcast("$tinymce:refresh")})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting").factory("googleFontLoader",["$http","angularLoad",function(t,e){var n="https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY",a="//fonts.googleapis.com/css?family=",i=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],o=",sans-serif;",r={};return r.getFonts=function(){return t.get(n,{cache:!0}).then(function(t){var n="",r="",s=!1;if(t.data&&t.data.items)for(var l=0;l<t.data.items.length;l++)n=t.data.items[l].family,-1===i.indexOf(n)&&(e.loadCSS(a+n).then(function(){}),/\s/.test(n)&&(s=!0),r+=s?n+"='"+n+"'"+o:n+"="+n+o);return r})},r}])}(),function(t){try{t=angular.module("risevision.widget.common.font-setting")}catch(e){t=angular.module("risevision.widget.common.font-setting",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/font-setting/font-setting.html",'<div class="font-setting">\n  <div class="row">\n    <div class="col-md-12">\n      <textarea ui-tinymce="tinymceOptions" ng-model="tinymceModel" ng-if="tinymceOptions"></textarea>\n    </div>\n  </div>\n  <div class="row" ng-if="previewText">\n    <div class="col-md-12">\n      <div class="text-container form-group">\n        <span class="text">{{previewText}}</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font -->\n  <div class="custom-font modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontForm">\n          <div class="modal-body">\n            <url-field url="fontData.font.url" ng-model="customFont" init-empty></url-field>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFont()" ng-disabled="customFontForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font Size -->\n  <div class="custom-font-size modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font-size" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontSizeForm">\n          <div class="modal-body">\n            <div class="row">\n              <div class="col-md-3">\n                <div class="input-group">\n                  <input type="number" ng-model="customFontSize" class="form-control" />\n                  <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFontSize()" ng-disabled="customFontSizeForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(t,e,n,a,i,o){o=o||{};var r=0,s="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],link:function(l,c,u,d){function p(t){t?(f(),g&&g.getBody().setAttribute("contenteditable",!1)):(f(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function f(){g||(g=tinymce.get(u.id))}if(a.tinymce){var h,g,m=d[0],v=d[1]||null,b={},y=function(e){var n=e.getContent({format:b.format}).trim();n=i.trustAsHtml(n),m.$setViewValue(n),t.$$phase||l.$apply()};u.$set("id",s+"-"+r++),h={},angular.extend(h,l.$eval(u.uiTinymce));var $={setup:function(t){t.on("init",function(){m.$render(),m.$setPristine(),v&&v.$setPristine()}),t.on("ExecCommand",function(){t.save(),y(t)}),t.on("change NodeChange",function(){t.save(),y(t)}),t.on("blur",function(){c[0].blur()}),t.on("ObjectResized",function(){t.save(),y(t)}),t.on("remove",function(){c.remove()}),h.setup&&h.setup(t,{updateView:y})},format:h.format||"html",selector:"#"+u.id};angular.extend(b,o,h,$),n(function(){b.baseURL&&(tinymce.baseURL=b.baseURL),tinymce.init(b),p(l.$eval(u.ngDisabled))}),m.$formatters.unshift(function(t){return t?i.trustAsHtml(t):""}),m.$parsers.unshift(function(t){return t?i.getTrustedHtml(t):""}),m.$render=function(){f();var t=m.$viewValue?i.getTrustedHtml(m.$viewValue):"";g&&g.getDoc()&&(g.setContent(t),g.fire("change"))},u.$observe("disabled",p),l.$on("$tinymce:refresh",function(t,n){var a=u.id;if(angular.isUndefined(n)||n===a){var i=c.parent(),o=c.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,a),i.append(e(o)(l))}}),l.$on("$destroy",function(){f(),g&&(g.remove(),g=null)})}}}}]),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(t){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:t.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(t){try{t=angular.module("risevision.widget.common.widget-button-toolbar")}catch(e){t=angular.module("risevision.widget.common.widget-button-toolbar",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(t,e){e.addClass("fa"),e.addClass("fa-question-circle"),e.addClass("fa-lg")}}}])}(),"undefined"!=typeof angular&&(angular.module("risevision.widget.rss.config",[]).value("layout4x1","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-4x1.html").value("layout2x1","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-2x1.html").value("layout1x2","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-1x2.html"),angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"));var config={};angular.module("risevision.widget.rss.settings",["risevision.common.i18n","risevision.widget.rss.config","risevision.widget.common","risevision.widget.common.widget-button-toolbar","risevision.widget.common.tooltip","risevision.widget.common.font-setting"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(t,e,n,a){t.settings={params:{},additionalParams:{}},t.alerts=[],t.getAdditionalParam=function(e,n){var a=t.settings.additionalParams[e];return angular.isUndefined(a)?n:a},t.setAdditionalParam=function(e,n){t.settings.additionalParams[e]=n},t.loadAdditionalParams=function(){n.getAdditionalParams().then(function(e){t.settings.additionalParams=e,t.$broadcast("loadAdditionalParams",e)},function(t){alert(t)})},t.setAdditionalParams=function(e,n){t.settings.additionalParams[e]=n},t.saveSettings=function(){t.alerts=[],t.$broadcast("collectAdditionalParams"),e.saveSettings(t.settings).then(function(){},function(e){t.alerts=e.alerts})},t.closeSettings=function(){a.closeSettings().then(function(){},function(e){t.alerts=e.alerts})},t.settings.params=n.getParams(),t.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(t,e){t.$watchCollection("alerts",function(t,n){t.length>0&&0===n.length&&$("body").animate({scrollTop:e.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(t,e,n){var a={getStorageUrlData:function(t){function a(t){return-1!==t.indexOf(e)?"file":-1!==t.indexOf(n)?"folder":null}function i(t){var e=t.split("risemedialibrary-");return e[1].slice(0,e[1].indexOf("/"))}var o,r,s,l,c={};if("file"===a(t))o=t.split(e)[1],o=decodeURIComponent(o.slice(o.indexOf("/")+1)),r=o.split("/"),c.companyId=i(t),c.fileName=r.pop(),c.folder=r.length>0?r.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(t)){s=t.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(t),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(t){return t.gadgets}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(t,e){var n=e.defer();t.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(t.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(t){var e={isImage:function(e){var n=t.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=e,n.promise}};return e}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(t,e,n,a){function i(t){var e=angular.copy(t);return delete e.params.id,delete e.params.companyId,delete e.params.rsW,delete e.params.rsH,e}this.saveSettings=function(o,r){var s=t.defer(),l=[],c="";o=i(o),r&&(l=r(o)),l.length>0&&(e.debug("Validation failed.",l),s.reject({alerts:l})),o.params.hasOwnProperty("layoutURL")&&(c+=o.params.layoutURL+"?",delete o.params.layoutURL),c+=a.encodeParams(o.params);var u=a.encodeAdditionalParams(o.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(t){e.debug("encoded settings",JSON.stringify(t)),e.debug("Settings saved. ",o),s.resolve(t)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(t,e,n,a,i,o){this.getAdditionalParams=function(){var i=t.defer(),r=o.additionalParams||{};return e.rpc.call("","rscmd_getAdditionalParams",function(t){t=t?a.parseAdditionalParams(t):{},n.debug("getAdditionalParams returns ",t),i.resolve(angular.extend(r,t))}),i.promise},this.getParams=function(){var t=o.params||{};return angular.extend(t,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function t(t){return 0===t.indexOf("up_")?t.slice(3):null}this.parseAdditionalParams=function(t){return t?JSON.parse(t):{}},this.encodeAdditionalParams=function(t){return JSON.stringify(t)},this.encodeParams=function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var a;a="object"==typeof t[n]?JSON.stringify(t[n]):t[n],e.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return e.join("&")},this.parseParams=function(e){"?"===e[0]&&(e=e.slice(1));for(var n={},a=e.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=t(decodeURIComponent(o[0]));if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(s){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(t,e,n){this.closeSettings=function(){var e=t.defer();return n.rpc.call("","rscmd_closeSettings",function(){e.resolve(!0)}),e.promise}}]).value("defaultSettings",{}),function(t){"use strict";t.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(t,e){var n,a=t.defer(),i={get:function(){return n||(n=a.promise,e.google.visualization?a.resolve(e.google.visualization):e.google.setOnLoadCallback(function(){a.resolve(e.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.rss.settings").controller("rssSettingsController",["$scope","$log",function(t){t.$watch("duration",function(e){"undefined"!=typeof e&&""!==e&&(t.settings.additionalParams.transition.duration=1e3*e)}),t.$watch("settings.additionalParams.transition.duration",function(e){"undefined"!=typeof e&&""!==e&&(t.duration=e/1e3)}),t.$watch("settings.additionalParams.dataSelection.showTitle",function(e){"undefined"==typeof e||""===e||e||(t.settings.additionalParams.headline.fontStyle={})}),t.$watch("settings.additionalParams.dataSelection.showTimestamp",function(e){"undefined"==typeof e||""===e||e||(t.settings.additionalParams.timestamp.fontStyle={})}),t.$watch("settings.additionalParams.dataSelection.showAuthor",function(e){"undefined"==typeof e||""===e||e||(t.settings.additionalParams.author.fontStyle={})})}]).value("defaultSettings",{params:{},additionalParams:{url:"",itemsInQueue:5,itemsToShow:2,headline:{fontStyle:{}},story:{fontStyle:{}},timestamp:{fontStyle:{}},author:{fontStyle:{}},transition:{type:"none",duration:1e4},dataSelection:{showTitle:!0,showTimestamp:!0,showAuthor:!0,showImage:!0,showDescription:"snippet"},layout:"layout-4x1"}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJpc1N0cmluZyIsInVzZSIsInB1dCIsImdldCIsInByb3ZpZGVyIiwiJFNUT1JBR0VfS0VZIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCJORVNURURfT0JKRUNUX0RFTElNSVRFUiIsInZlcnNpb24iLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImkiLCJsYW5ndWFnZSIsIm5hdiIsIndpbmRvdyIsIm5hdmlnYXRvciIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImlzQXJyYXkiLCJsYW5ndWFnZXMiLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImdldExvY2FsZSIsInNwbGl0Iiwiam9pbiIsImluZGV4T2YiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJuZWdvdGlhdGVMb2NhbGUiLCJhdmFpbCIsImxvY2FsZSIsImxvd2VyY2FzZSIsIm4iLCJwdXNoIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNXaWxkY2FyZEtleSIsImhhc0V4YWN0S2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2xpY2UiLCJwYXJ0cyIsInRyYW5zbGF0aW9ucyIsImxhbmdLZXkiLCJ0cmFuc2xhdGlvblRhYmxlIiwiaXNPYmplY3QiLCJleHRlbmQiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuYW1lIiwiZGF0YSIsInBhdGgiLCJyZXN1bHQiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJrZXlXaXRoU2hvcnRQYXRoIiwidmFsIiwiY29uY2F0IiwiYWRkSW50ZXJwb2xhdGlvbiIsImZhY3RvcnkiLCJ1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiIsInVzZUludGVycG9sYXRpb24iLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ2YWx1ZSIsInNldHVwUHJlZmVycmVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yIiwiaW5kaWNhdG9yIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJmYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tTdGFjayIsIkVycm9yIiwidXNlVXJsTG9hZGVyIiwidXJsIiwib3B0aW9ucyIsInVzZUxvYWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwibG9hZGVyRmFjdG9yeSIsInVzZUxvY2FsU3RvcmFnZSIsInVzZVN0b3JhZ2UiLCJ1c2VDb29raWVTdG9yYWdlIiwic3RvcmFnZUZhY3RvcnkiLCJzdG9yYWdlUHJlZml4IiwicHJlZml4IiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIiLCJ1c2VQb3N0Q29tcGlsaW5nIiwiZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UiLCJmbiIsImlzRnVuY3Rpb24iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwiJGdldCIsIiRsb2ciLCIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJ0cmFuc2xhdGVBbGwiLCJ0cmFuc2xhdGlvbklkcyIsInJlc3VsdHMiLCJwcm9taXNlcyIsInRyYW5zbGF0ZSIsImRlZmVycmVkIiwiZGVmZXIiLCJyZWdhcmRsZXNzIiwicmVzb2x2ZSIsInRoZW4iLCJwcm9taXNlIiwiYyIsImFsbCIsImFwcGx5IiwicHJvbWlzZVRvV2FpdEZvciIsImluZGV4IiwiZGV0ZXJtaW5lVHJhbnNsYXRpb24iLCJyZWplY3QiLCJhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyIsInVzZUxhbmd1YWdlIiwiJGVtaXQiLCJzZXRMb2NhbGUiLCJmb3JFYWNoIiwiaW50ZXJwb2xhdG9yIiwiaWQiLCJsb2FkQXN5bmMiLCJsb2FkZXJPcHRpb25zIiwiJGh0dHAiLCJ0YWJsZSIsImludGVycG9sYXRvckZhY3RvcnkiLCJnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciIsImdldFRyYW5zbGF0aW9uVGFibGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uIiwiSW50ZXJwb2xhdG9yIiwiaW50ZXJwb2xhdGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCIsInRyYW5zbGF0ZUJ5SGFuZGxlciIsInJlc3VsdFN0cmluZyIsInJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tMYW5ndWFnZUluZGV4IiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50IiwiZmFsbGJhY2tUcmFuc2xhdGlvbiIsImZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50IiwidHJhbnNsYXRpb24iLCJzdWJzdHIiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJfdHJhbnNsYXRpb25JZCIsImRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJyZWZyZXNoIiwidGFibGVzIiwibG9hZGluZ0tleXMiLCJ0YWJsZURhdGEiLCJpbnN0YW50IiwiaXNVbmRlZmluZWQiLCJwb3NzaWJsZUxhbmdLZXlzIiwiaiIsImQiLCJwb3NzaWJsZUxhbmdLZXkiLCJ2ZXJzaW9uSW5mbyIsImVxdWFscyIsInByb2Nlc3NBc3luY1Jlc3VsdCIsIiRpbnRlcnBvbGF0ZSIsIiRsb2NhbGUiLCIkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIiwiJGlkZW50aWZpZXIiLCIkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMiLCJlc2NhcGVkIiwicGFyYW1zIiwiZWxlbWVudCIsInRleHQiLCJodG1sIiwic2FuaXRpemVQYXJhbXMiLCJzdHJpbmciLCJjb25zdGFudCIsImRpcmVjdGl2ZSIsIiRjb21waWxlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRyIiwidHJhbnNsYXRlVmFsdWVzRXhpc3QiLCJ0cmFuc2xhdGVWYWx1ZXMiLCJ0cmFuc2xhdGVJbnRlcnBvbGF0aW9uIiwidHJhbnNsYXRlVmFsdWVFeGlzdCIsIm91dGVySFRNTCIsIm1hdGNoIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0Iiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsImlzRGVmaW5lZCIsImludGVycG9sYXRlTWF0Y2hlcyIsIiRwYXJlbnQiLCJ3YXRjaGVyTWF0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbHVlIiwidXBkYXRlVHJhbnNsYXRpb25zIiwib2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlQXR0ciIsIiRvYnNlcnZlIiwiZGVmYXVsdFRleHQiLCJvYnNlcnZlVmFsdWVBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyIiwidXBkYXRlVHJhbnNsYXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsImdsb2JhbGx5RW5hYmxlZCIsImxvY2FsbHlEZWZpbmVkIiwidHJhbnNsYXRlQ29tcGlsZSIsImxvY2FsbHlFbmFibGVkIiwiY29udGVudHMiLCIkYXR0ciIsInVuYmluZCIsIiRvbiIsImFwcGx5Q2xvYWsiLCJhZGRDbGFzcyIsInJlbW92ZUNsb2FrIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVMaXN0ZW5lciIsInRyYW5zbGF0ZUNsb2FrIiwiZmlsdGVyIiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIiRzdGF0ZWZ1bCIsIiRTYW5pdGl6ZVByb3ZpZGVyIiwiJCRzYW5pdGl6ZVVyaSIsImJ1ZiIsImh0bWxQYXJzZXIiLCJodG1sU2FuaXRpemVXcml0ZXIiLCJ1cmkiLCJpc0ltYWdlIiwidGVzdCIsInNhbml0aXplVGV4dCIsImNoYXJzIiwid3JpdGVyIiwibm9vcCIsIm1ha2VNYXAiLCJzdHIiLCJvYmoiLCJpdGVtcyIsImhhbmRsZXIiLCJwYXJzZVN0YXJ0VGFnIiwidGFnIiwidGFnTmFtZSIsInJlc3QiLCJ1bmFyeSIsImJsb2NrRWxlbWVudHMiLCJzdGFjayIsImxhc3QiLCJpbmxpbmVFbGVtZW50cyIsInBhcnNlRW5kVGFnIiwib3B0aW9uYWxFbmRUYWdFbGVtZW50cyIsInZvaWRFbGVtZW50cyIsImF0dHJzIiwiQVRUUl9SRUdFWFAiLCJkb3VibGVRdW90ZWRWYWx1ZSIsInNpbmdsZVF1b3RlZFZhbHVlIiwidW5xdW90ZWRWYWx1ZSIsImRlY29kZUVudGl0aWVzIiwic3RhcnQiLCJwb3MiLCJlbmQiLCJzcGVjaWFsRWxlbWVudHMiLCJSZWdFeHAiLCJDT01NRU5UX1JFR0VYUCIsIkNEQVRBX1JFR0VYUCIsImxhc3RJbmRleE9mIiwiY29tbWVudCIsInN1YnN0cmluZyIsIkRPQ1RZUEVfUkVHRVhQIiwiQkVHSU5HX0VORF9UQUdFX1JFR0VYUCIsIkVORF9UQUdfUkVHRVhQIiwiQkVHSU5fVEFHX1JFR0VYUCIsIlNUQVJUX1RBR19SRUdFWFAiLCIkc2FuaXRpemVNaW5FcnIiLCJoaWRkZW5QcmUiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImVuY29kZUVudGl0aWVzIiwiU1VSUk9HQVRFX1BBSVJfUkVHRVhQIiwiaGkiLCJjaGFyQ29kZUF0IiwibG93IiwiTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAiLCJ1cmlWYWxpZGF0b3IiLCJpZ25vcmUiLCJvdXQiLCJiaW5kIiwidmFsaWRFbGVtZW50cyIsImxrZXkiLCJ2YWxpZEF0dHJzIiwidXJpQXR0cnMiLCIkJG1pbkVyciIsIm9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyIsIm9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMiLCJzdmdFbGVtZW50cyIsImh0bWxBdHRycyIsInN2Z0F0dHJzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiJHNhbml0aXplIiwiTElOS1lfVVJMX1JFR0VYUCIsIk1BSUxUT19SRUdFWFAiLCJ0YXJnZXQiLCJhZGRUZXh0IiwiYWRkTGluayIsInJhdyIsInNlcnZpY2UiLCIkZG9jdW1lbnQiLCIkdGltZW91dCIsImxvYWRlciIsIm9ubG9hZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsImUiLCJyZWFkeVN0YXRlIiwib25lcnJvciIsImxvYWRTY3JpcHQiLCJzcmMiLCJzY3JpcHQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJsb2FkQ1NTIiwiaHJlZiIsInN0eWxlIiwicmVsIiwidHlwZSIsImhlYWQiLCJzdWZmaXgiLCJtZXRob2QiLCJzdWNjZXNzIiwiZXJyb3IiLCJsb2FkVHJhbnNsYXRpb25GaWxlIiwidG9Mb3dlckNhc2UiLCJvcHRzIiwiY29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwiTE9DQUxFU19QUkVGSVgiLCJMT0NBTEVTX1NVRklYIiwiJCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsIkFmZml4IiwiREVGQVVMVFMiLCIkdGFyZ2V0Iiwib24iLCJwcm94eSIsImNoZWNrUG9zaXRpb24iLCJjaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCIsIiRlbGVtZW50IiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiVkVSU0lPTiIsIlJFU0VUIiwib2Zmc2V0IiwiZ2V0UGlubmVkT2Zmc2V0Iiwic2Nyb2xsVG9wIiwicG9zaXRpb24iLCJ0b3AiLCJzZXRUaW1lb3V0IiwiaXMiLCJzY3JvbGxIZWlnaHQiLCJoZWlnaHQiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJib3R0b20iLCJhZmZpeCIsImNzcyIsImFmZml4VHlwZSIsIkV2ZW50IiwidHJpZ2dlciIsImlzRGVmYXVsdFByZXZlbnRlZCIsIm9sZCIsIkNvbnN0cnVjdG9yIiwibm9Db25mbGljdCIsIiRzcHkiLCJqUXVlcnkiLCJBbGVydCIsImRpc21pc3MiLCJlbCIsImNsb3NlIiwicmVtb3ZlRWxlbWVudCIsImRldGFjaCIsInJlbW92ZSIsInNlbGVjdG9yIiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsInBhcmVudCIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwib25lIiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJhbGVydCIsIkJ1dHRvbiIsInRvZ2dsZSIsInNldFN0YXRlIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJzdGF0ZSIsIiRlbCIsInJlc2V0VGV4dCIsInJlbW92ZUF0dHIiLCJjaGFuZ2VkIiwiY2xvc2VzdCIsIiRpbnB1dCIsImZpbmQiLCJwcm9wIiwidG9nZ2xlQ2xhc3MiLCJidXR0b24iLCIkYnRuIiwiQ2Fyb3VzZWwiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiaW50ZXJ2YWwiLCJwYXVzZSIsImN5Y2xlIiwia2V5ZG93biIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsIiRhY3RpdmUiLCIkaXRlbXMiLCJ3cmFwIiwid2hpY2giLCJwcmV2IiwibmV4dCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImdldEl0ZW1JbmRleCIsIml0ZW0iLCJjaGlsZHJlbiIsInRoYXQiLCJhY3RpdmVJbmRleCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwiZGlyZWN0aW9uIiwiZmFsbGJhY2siLCJyZWxhdGVkVGFyZ2V0Iiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50Iiwib2Zmc2V0V2lkdGgiLCJjYXJvdXNlbCIsInNsaWRlSW5kZXgiLCIkY2Fyb3VzZWwiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJkaW1lbnNpb24iLCJoYXNXaWR0aCIsInNob3ciLCJzdGFydEV2ZW50IiwiYWN0aXZlcyIsImhhc0RhdGEiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiY29sbGFwc2UiLCJub3QiLCJjbGVhck1lbnVzIiwiYmFja2Ryb3AiLCJnZXRQYXJlbnQiLCJEcm9wZG93biIsImlzQWN0aXZlIiwiZG9jdW1lbnRFbGVtZW50IiwiaW5zZXJ0QWZ0ZXIiLCJrZXlDb2RlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGVzYyIsImVxIiwiZHJvcGRvd24iLCJUYWIiLCIkdWwiLCJwcmV2aW91cyIsImFjdGl2YXRlIiwiY29udGFpbmVyIiwiY2FsbGJhY2siLCJ0YWIiLCJ0cmFuc2l0aW9uRW5kIiwidHJhbnNFbmRFdmVudE5hbWVzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsImR1cmF0aW9uIiwiY2FsbGVkIiwiZXZlbnQiLCJzcGVjaWFsIiwiYnNUcmFuc2l0aW9uRW5kIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZVR5cGUiLCJoYW5kbGUiLCJoYW5kbGVPYmoiLCJhcmd1bWVudHMiLCJTY3JvbGxTcHkiLCJwcm9jZXNzIiwiJGJvZHkiLCIkc2Nyb2xsRWxlbWVudCIsIm9mZnNldHMiLCJ0YXJnZXRzIiwiYWN0aXZlVGFyZ2V0IiwiZ2V0U2Nyb2xsSGVpZ2h0IiwiTWF0aCIsIm1heCIsIm9mZnNldE1ldGhvZCIsIm9mZnNldEJhc2UiLCJpc1dpbmRvdyIsInNlbGYiLCJtYXAiLCIkaHJlZiIsInNvcnQiLCJhIiwiYiIsIm1heFNjcm9sbCIsInBhcmVudHNVbnRpbCIsImFjdGl2ZSIsInBhcmVudHMiLCJzY3JvbGxzcHkiLCJfcmVsYXRlZFRhcmdldCIsIk1vZGFsIiwiJGJhY2tkcm9wIiwiaXNTaG93biIsInNjcm9sbGJhcldpZHRoIiwicmVtb3RlIiwibG9hZCIsImtleWJvYXJkIiwiY2hlY2tTY3JvbGxiYXIiLCJzZXRTY3JvbGxiYXIiLCJlc2NhcGUiLCJhcHBlbmRUbyIsImVuZm9yY2VGb2N1cyIsInJlc2V0U2Nyb2xsYmFyIiwib2ZmIiwiaGlkZU1vZGFsIiwiaGFzIiwicmVtb3ZlQmFja2Ryb3AiLCJhbmltYXRlIiwiZG9BbmltYXRlIiwiY3VycmVudFRhcmdldCIsImZvY3VzIiwiY2FsbGJhY2tSZW1vdmUiLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJtZWFzdXJlU2Nyb2xsYmFyIiwiYm9keVBhZCIsInBhcnNlSW50Iiwic2Nyb2xsRGl2IiwiY2xhc3NOYW1lIiwiYXBwZW5kIiwicmVtb3ZlQ2hpbGQiLCJtb2RhbCIsInNob3dFdmVudCIsIlRvb2x0aXAiLCJlbmFibGVkIiwidGltZW91dCIsImhvdmVyU3RhdGUiLCJpbml0IiwiYW5pbWF0aW9uIiwicGxhY2VtZW50IiwidGVtcGxhdGUiLCJ0aXRsZSIsImRlbGF5Iiwidmlld3BvcnQiLCJwYWRkaW5nIiwiZ2V0T3B0aW9ucyIsIiR2aWV3cG9ydCIsInRyaWdnZXJzIiwiZXZlbnRJbiIsImV2ZW50T3V0IiwiZW50ZXIiLCJsZWF2ZSIsIl9vcHRpb25zIiwiZml4VGl0bGUiLCJnZXREZWZhdWx0cyIsImdldERlbGVnYXRlT3B0aW9ucyIsImRlZmF1bHRzIiwiY29uc3RydWN0b3IiLCJjbGVhclRpbWVvdXQiLCJoYXNDb250ZW50IiwiaW5Eb20iLCJjb250YWlucyIsIiR0aXAiLCJ0aXAiLCJ0aXBJZCIsImdldFVJRCIsInNldENvbnRlbnQiLCJhdXRvVG9rZW4iLCJhdXRvUGxhY2UiLCJsZWZ0IiwiZGlzcGxheSIsImdldFBvc2l0aW9uIiwiYWN0dWFsV2lkdGgiLCJhY3R1YWxIZWlnaHQiLCJvcmdQbGFjZW1lbnQiLCJwYXJlbnREaW0iLCJzY3JvbGwiLCJyaWdodCIsIndpZHRoIiwiY2FsY3VsYXRlZE9mZnNldCIsImdldENhbGN1bGF0ZWRPZmZzZXQiLCJhcHBseVBsYWNlbWVudCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJpc05hTiIsInNldE9mZnNldCIsInVzaW5nIiwicHJvcHMiLCJyb3VuZCIsImRlbHRhIiwiZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhIiwiYXJyb3dEZWx0YSIsImFycm93UG9zaXRpb24iLCJhcnJvd09mZnNldFBvc2l0aW9uIiwicmVwbGFjZUFycm93IiwiYXJyb3ciLCJnZXRUaXRsZSIsIiRlIiwiaXNCb2R5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0Iiwidmlld3BvcnRQYWRkaW5nIiwidmlld3BvcnREaW1lbnNpb25zIiwidG9wRWRnZU9mZnNldCIsImJvdHRvbUVkZ2VPZmZzZXQiLCJsZWZ0RWRnZU9mZnNldCIsInJpZ2h0RWRnZU9mZnNldCIsIm8iLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsIiRhcnJvdyIsInZhbGlkYXRlIiwicGFyZW50Tm9kZSIsImVuYWJsZSIsImRpc2FibGUiLCJ0b2dnbGVFbmFibGVkIiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwiZW1wdHkiLCJwb3BvdmVyIiwiZmluZEVuZEV2ZW50TmFtZSIsImVuZEV2ZW50TmFtZXMiLCJ0cmFuc0VsZW1lbnQiLCIkdHJhbnNpdGlvbiIsImVuZEV2ZW50TmFtZSIsInRyYW5zaXRpb25FbmRIYW5kbGVyIiwiJGFwcGx5IiwiY2FuY2VsIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMiLCJhbmltYXRpb25FbmRFdmVudE5hbWVzIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZSIsImxpbmsiLCJkb1RyYW5zaXRpb24iLCJjaGFuZ2UiLCJuZXdUcmFuc2l0aW9uRG9uZSIsImN1cnJlbnRUcmFuc2l0aW9uIiwibmV3VHJhbnNpdGlvbiIsImV4cGFuZCIsImluaXRpYWxBbmltU2tpcCIsImV4cGFuZERvbmUiLCJjb2xsYXBzZURvbmUiLCJzaG91bGRDb2xsYXBzZSIsImNsb3NlT3RoZXJzIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRhdHRycyIsImFjY29yZGlvbkNvbmZpZyIsImdyb3VwcyIsIm9wZW5Hcm91cCIsIiRldmFsIiwiZ3JvdXAiLCJpc09wZW4iLCJhZGRHcm91cCIsImdyb3VwU2NvcGUiLCJyZW1vdmVHcm91cCIsInNwbGljZSIsInRyYW5zY2x1ZGUiLCJ0ZW1wbGF0ZVVybCIsInJlcXVpcmUiLCJoZWFkaW5nIiwiaXNEaXNhYmxlZCIsInNldEhlYWRpbmciLCJhY2NvcmRpb25DdHJsIiwidG9nZ2xlT3BlbiIsImFjY29yZGlvbkdyb3VwQ3RybCIsImFjY29yZGlvblRyYW5zY2x1ZGUiLCJjbG9zZWFibGUiLCJiaW5kSHRtbFVuc2FmZSIsImFjdGl2ZUNsYXNzIiwidG9nZ2xlRXZlbnQiLCJidXR0b25Db25maWciLCJjdHJscyIsImJ1dHRvbnNDdHJsIiwibmdNb2RlbEN0cmwiLCIkcmVuZGVyIiwiJG1vZGVsVmFsdWUiLCJidG5SYWRpbyIsInVuY2hlY2thYmxlIiwiJHNldFZpZXdWYWx1ZSIsImdldFRydWVWYWx1ZSIsImdldENoZWNrYm94VmFsdWUiLCJidG5DaGVja2JveFRydWUiLCJnZXRGYWxzZVZhbHVlIiwiYnRuQ2hlY2tib3hGYWxzZSIsImF0dHJpYnV0ZVZhbHVlIiwiZGVmYXVsdFZhbHVlIiwicmVzdGFydFRpbWVyIiwicmVzZXRUaW1lciIsImN1cnJlbnRUaW1lb3V0IiwidGltZXJGbiIsImlzUGxheWluZyIsInNsaWRlcyIsImN1cnJlbnRJbmRleCIsImN1cnJlbnRTbGlkZSIsImRlc3Ryb3llZCIsInNlbGVjdCIsIm5leHRTbGlkZSIsImdvTmV4dCIsIm5vVHJhbnNpdGlvbiIsImVudGVyaW5nIiwibGVhdmluZyIsIiRjdXJyZW50VHJhbnNpdGlvbiIsImN1cnJlbnQiLCJ0cmFuc2l0aW9uRG9uZSIsIm5leHRJbmRleCIsImluZGV4T2ZTbGlkZSIsIm5ld0luZGV4IiwicGxheSIsIm5vUGF1c2UiLCJhZGRTbGlkZSIsInJlbW92ZVNsaWRlIiwiY2Fyb3VzZWxDdHJsIiwib3JkZXJCeUZpbHRlciIsImNyZWF0ZVBhcnNlciIsImZvcm1hdCIsInJlZ2V4IiwiZm9ybWF0Q29kZVRvUmVnZXgiLCJjb2RlIiwiaXNWYWxpZCIsInllYXIiLCJtb250aCIsImRhdGUiLCJwYXJzZXJzIiwieXl5eSIsInl5IiwieSIsIk1NTU0iLCJEQVRFVElNRV9GT1JNQVRTIiwiTU9OVEgiLCJNTU0iLCJTSE9SVE1PTlRIIiwiTU0iLCJNIiwiZGQiLCJFRUVFIiwiREFZIiwiRUVFIiwiU0hPUlREQVkiLCJwYXJzZSIsImlucHV0IiwicGFyc2VyIiwiZHQiLCJmaWVsZHMiLCJob3VycyIsIm1hcHBlciIsIkRhdGUiLCIkd2luZG93IiwiZ2V0U3R5bGUiLCJjc3Nwcm9wIiwiY3VycmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImlzU3RhdGljUG9zaXRpb25lZCIsInBhcmVudE9mZnNldEVsIiwiZG9jRG9tRWwiLCJvZmZzZXRQYXJlbnQiLCJlbEJDUiIsIm9mZnNldFBhcmVudEJDUiIsIm9mZnNldFBhcmVudEVsIiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsInNjcm9sbExlZnQiLCJib3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWU9mZnNldCIsInBhZ2VYT2Zmc2V0IiwicG9zaXRpb25FbGVtZW50cyIsImhvc3RFbCIsInRhcmdldEVsIiwicG9zaXRpb25TdHIiLCJhcHBlbmRUb0JvZHkiLCJob3N0RWxQb3MiLCJ0YXJnZXRFbFdpZHRoIiwidGFyZ2V0RWxIZWlnaHQiLCJ0YXJnZXRFbFBvcyIsInBvc2l0aW9uU3RyUGFydHMiLCJwb3MwIiwicG9zMSIsInNoaWZ0V2lkdGgiLCJjZW50ZXIiLCJzaGlmdEhlaWdodCIsImZvcm1hdERheSIsImZvcm1hdE1vbnRoIiwiZm9ybWF0WWVhciIsImZvcm1hdERheUhlYWRlciIsImZvcm1hdERheVRpdGxlIiwiZm9ybWF0TW9udGhUaXRsZSIsImRhdGVwaWNrZXJNb2RlIiwibWluTW9kZSIsIm1heE1vZGUiLCJzaG93V2Vla3MiLCJzdGFydGluZ0RheSIsInllYXJSYW5nZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwiZGF0ZUZpbHRlciIsImRhdGVwaWNrZXJDb25maWciLCJtb2RlcyIsInJlZnJlc2hWaWV3IiwidW5pcXVlSWQiLCIkaWQiLCJmbG9vciIsImFjdGl2ZURhdGUiLCJpbml0RGF0ZSIsImRhdGVPYmplY3QiLCJjb21wYXJlIiwiYWN0aXZlRGF0ZUlkIiwidWlkIiwibmdNb2RlbEN0cmxfIiwicmVuZGVyIiwiJHNldFZhbGlkaXR5IiwiX3JlZnJlc2hWaWV3IiwiY3JlYXRlRGF0ZU9iamVjdCIsIm1vZGVsIiwibGFiZWwiLCJzZWxlY3RlZCIsImRpc2FibGVkIiwiZGF0ZURpc2FibGVkIiwibW9kZSIsImFyciIsInNpemUiLCJhcnJheXMiLCJzZXRGdWxsWWVhciIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwibW92ZSIsInN0ZXAiLCJ5ZWFycyIsIm1vbnRocyIsInRvZ2dsZU1vZGUiLCJrZXlzIiwxMywzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCwiZm9jdXNFbGVtZW50IiwiZXZ0Iiwic2hpZnRLZXkiLCJhbHRLZXkiLCJjdHJsS2V5IiwiaGFuZGxlS2V5RG93biIsImRhdGVwaWNrZXJDdHJsIiwiY3RybCIsImdldERheXNJbk1vbnRoIiwiREFZU19JTl9NT05USCIsImdldERhdGVzIiwic3RhcnREYXRlIiwiZGF0ZXMiLCJBcnJheSIsInNldEhvdXJzIiwic2V0RGF0ZSIsImdldElTTzg2MDFXZWVrTnVtYmVyIiwiY2hlY2tEYXRlIiwiZ2V0RGF5IiwidGltZSIsImdldFRpbWUiLCJzZXRNb250aCIsImZpcnN0RGF5T2ZNb250aCIsImRpZmZlcmVuY2UiLCJudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCIsImZpcnN0RGF0ZSIsImRheXMiLCJzZWNvbmRhcnkiLCJsYWJlbHMiLCJhYmJyIiwiZnVsbCIsInJvd3MiLCJ3ZWVrTnVtYmVycyIsIndlZWtOdW1iZXIiLCJudW1XZWVrcyIsImRhdGUxIiwiZGF0ZTIiLCJtaW4iLCJnZXRTdGFydGluZ1llYXIiLCJyYW5nZSIsImRhdGVwaWNrZXJQb3B1cCIsImN1cnJlbnRUZXh0IiwiY2xlYXJUZXh0IiwiY2xvc2VUZXh0IiwiY2xvc2VPbkRhdGVTZWxlY3Rpb24iLCJzaG93QnV0dG9uQmFyIiwiJHBvc2l0aW9uIiwiZGF0ZVBhcnNlciIsImRhdGVwaWNrZXJQb3B1cENvbmZpZyIsIm5nTW9kZWwiLCJjYW1lbHRvRGFzaCIsIiQxIiwicGFyc2VEYXRlIiwidmlld1ZhbHVlIiwiaXNEYXRlIiwiZGF0ZUZvcm1hdCIsImRhdGVwaWNrZXJBcHBlbmRUb0JvZHkiLCJnZXRUZXh0IiwicG9wdXBFbCIsIm5nLW1vZGVsIiwibmctY2hhbmdlIiwiZGF0ZXBpY2tlckVsIiwiZGF0ZXBpY2tlck9wdGlvbnMiLCJ3YXRjaERhdGEiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJhc3NpZ24iLCJvbGR2YWx1ZSIsIiRwYXJzZXJzIiwidW5zaGlmdCIsImRhdGVTZWxlY3Rpb24iLCIkdmlld1ZhbHVlIiwiZG9jdW1lbnRDbGlja0JpbmQiLCIkYnJvYWRjYXN0IiwidG9kYXkiLCIkcG9wdXAiLCJhZnRlciIsIm9wZW5DbGFzcyIsIm9wZW5TY29wZSIsIm9wZW4iLCJkcm9wZG93blNjb3BlIiwiY2xvc2VEcm9wZG93biIsImVzY2FwZUtleUJpbmQiLCJ0b2dnbGVFbGVtZW50IiwiZ2V0VG9nZ2xlRWxlbWVudCIsImZvY3VzVG9nZ2xlRWxlbWVudCIsImRyb3Bkb3duQ29uZmlnIiwiZHJvcGRvd25TZXJ2aWNlIiwiJGFuaW1hdGUiLCJnZXRJc09wZW4iLCIkbmV3Iiwic2V0SXNPcGVuIiwidG9nZ2xlSW52b2tlciIsIm9uVG9nZ2xlIiwid2FzT3BlbiIsIiRkZXN0cm95IiwiZHJvcGRvd25DdHJsIiwidG9nZ2xlRHJvcGRvd24iLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsImNyZWF0ZU5ldyIsImFkZCIsImlkeCIsInJlbW92ZVRvcCIsImJhY2tkcm9wQ2xhc3MiLCIkbW9kYWxTdGFjayIsInRBdHRycyIsIndpbmRvd0NsYXNzIiwicXVlcnlTZWxlY3RvckFsbCIsImdldFRvcCIsIiR0cmFuc2NsdWRlIiwiY2xvbmUiLCIkJHN0YWNrZWRNYXAiLCJiYWNrZHJvcEluZGV4IiwidG9wQmFja2Ryb3BJbmRleCIsIm9wZW5lZCIsIm9wZW5lZFdpbmRvd3MiLCJyZW1vdmVNb2RhbFdpbmRvdyIsIm1vZGFsSW5zdGFuY2UiLCJtb2RhbFdpbmRvdyIsInJlbW92ZUFmdGVyQW5pbWF0ZSIsIm1vZGFsRG9tRWwiLCJtb2RhbFNjb3BlIiwiT1BFTkVEX01PREFMX0NMQVNTIiwiY2hlY2tSZW1vdmVCYWNrZHJvcCIsImJhY2tkcm9wRG9tRWwiLCJiYWNrZHJvcFNjb3BlUmVmIiwiYmFja2Ryb3BTY29wZSIsImRvbUVsIiwiZW11bGF0ZVRpbWUiLCJkb25lIiwiYWZ0ZXJBbmltYXRpbmciLCJuZXdCYWNrZHJvcEluZGV4IiwiY3VyckJhY2tkcm9wSW5kZXgiLCJhbmd1bGFyQmFja2dyb3VuZERvbUVsIiwiYW5ndWxhckRvbUVsIiwidGVtcGxhdGUtdXJsIiwid2luZG93VGVtcGxhdGVVcmwiLCJ3aW5kb3ctY2xhc3MiLCJyZWFzb24iLCJkaXNtaXNzQWxsIiwidG9wTW9kYWwiLCIkbW9kYWxQcm92aWRlciIsIiR0ZW1wbGF0ZUNhY2hlIiwiJGNvbnRyb2xsZXIiLCJnZXRUZW1wbGF0ZVByb21pc2UiLCJ3aGVuIiwiZ2V0UmVzb2x2ZVByb21pc2VzIiwicmVzb2x2ZXMiLCJwcm9taXNlc0FyciIsImludm9rZSIsIiRtb2RhbCIsIm1vZGFsT3B0aW9ucyIsIm1vZGFsUmVzdWx0RGVmZXJyZWQiLCJtb2RhbE9wZW5lZERlZmVycmVkIiwidGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSIsInRwbEFuZFZhcnMiLCIkY2xvc2UiLCIkZGlzbWlzcyIsImN0cmxJbnN0YW5jZSIsImN0cmxMb2NhbHMiLCJyZXNvbHZlSXRlciIsIiRtb2RhbEluc3RhbmNlIiwiY29udHJvbGxlckFzIiwic2V0TnVtUGFnZXMiLCJudW1QYWdlcyIsIml0ZW1zUGVyUGFnZSIsInRvdGFsUGFnZXMiLCJjYWxjdWxhdGVUb3RhbFBhZ2VzIiwiY2VpbCIsInRvdGFsSXRlbXMiLCJwYWdlIiwic2VsZWN0UGFnZSIsIm5vUHJldmlvdXMiLCJub05leHQiLCJib3VuZGFyeUxpbmtzIiwiZGlyZWN0aW9uTGlua3MiLCJmaXJzdFRleHQiLCJwcmV2aW91c1RleHQiLCJuZXh0VGV4dCIsImxhc3RUZXh0Iiwicm90YXRlIiwicGFnaW5hdGlvbkNvbmZpZyIsIm1ha2VQYWdlIiwibnVtYmVyIiwiZ2V0UGFnZXMiLCJjdXJyZW50UGFnZSIsInBhZ2VzIiwic3RhcnRQYWdlIiwiZW5kUGFnZSIsImlzTWF4U2l6ZWQiLCJtYXhTaXplIiwicHJldmlvdXNQYWdlU2V0IiwibmV4dFBhZ2VTZXQiLCJwYWdpbmF0aW9uQ3RybCIsIm9yaWdpbmFsUmVuZGVyIiwiYWxpZ24iLCJwYWdlckNvbmZpZyIsInNuYWtlX2Nhc2UiLCJyZWdleHAiLCJzZXBhcmF0b3IiLCJsZXR0ZXIiLCJkZWZhdWx0T3B0aW9ucyIsInBvcHVwRGVsYXkiLCJ0cmlnZ2VyTWFwIiwibW91c2VlbnRlciIsImNsaWNrIiwiZ2xvYmFsT3B0aW9ucyIsInNldFRyaWdnZXJzIiwiZGVmYXVsdFRyaWdnZXJTaG93IiwiZ2V0VHJpZ2dlcnMiLCJkaXJlY3RpdmVOYW1lIiwic3RhcnRTeW0iLCJlbmRTeW0iLCJ0b29sdGlwTGlua2VyIiwidG9nZ2xlVG9vbHRpcEJpbmQiLCJ0dF9pc09wZW4iLCJoaWRlVG9vbHRpcEJpbmQiLCJzaG93VG9vbHRpcEJpbmQiLCJoYXNFbmFibGVFeHAiLCJ0dF9wb3B1cERlbGF5IiwicG9wdXBUaW1lb3V0IiwicmVwb3NpdGlvbiIsInRyYW5zaXRpb25UaW1lb3V0IiwidHRfY29udGVudCIsImNyZWF0ZVRvb2x0aXAiLCJwb3NpdGlvblRvb2x0aXAiLCIkZGlnZXN0IiwidHRfYW5pbWF0aW9uIiwicmVtb3ZlVG9vbHRpcCIsInR0UG9zaXRpb24iLCJ0dF9wbGFjZW1lbnQiLCJ0dF90aXRsZSIsInVucmVnaXN0ZXJUcmlnZ2VycyIsIiR0b29sdGlwIiwicHJvZ3Jlc3NDb25maWciLCJiYXJzIiwiYWRkQmFyIiwiYmFyIiwicGVyY2VudCIsInRvRml4ZWQiLCJyZW1vdmVCYXIiLCJwcm9ncmVzc0N0cmwiLCJzdGF0ZU9uIiwic3RhdGVPZmYiLCJyYXRpbmdDb25maWciLCJyYXRpbmdTdGF0ZXMiLCJidWlsZFRlbXBsYXRlT2JqZWN0cyIsInN0YXRlcyIsInJhdGUiLCJyZWFkb25seSIsIm9uSG92ZXIiLCJyZXNldCIsIm9uTGVhdmUiLCJvbktleWRvd24iLCJyYXRpbmdDdHJsIiwidGFicyIsInNlbGVjdGVkVGFiIiwib25EZXNlbGVjdCIsIm9uU2VsZWN0IiwiYWRkVGFiIiwicmVtb3ZlVGFiIiwibmV3QWN0aXZlSW5kZXgiLCJ2ZXJ0aWNhbCIsImp1c3RpZmllZCIsImVsbSIsInRhYnNldEN0cmwiLCIkdHJhbnNjbHVkZUZuIiwiaXNUYWJIZWFkaW5nIiwibm9kZSIsImhhc0F0dHJpYnV0ZSIsInRhYkNvbnRlbnRUcmFuc2NsdWRlIiwiaGVhZGluZ0VsZW1lbnQiLCJob3VyU3RlcCIsIm1pbnV0ZVN0ZXAiLCJzaG93TWVyaWRpYW4iLCJtZXJpZGlhbnMiLCJyZWFkb25seUlucHV0IiwibW91c2V3aGVlbCIsInRpbWVwaWNrZXJDb25maWciLCJnZXRIb3Vyc0Zyb21UZW1wbGF0ZSIsInZhbGlkIiwibWVyaWRpYW4iLCJnZXRNaW51dGVzRnJvbVRlbXBsYXRlIiwibWludXRlcyIsInBhZCIsInRvU3RyaW5nIiwia2V5Ym9hcmRDaGFuZ2UiLCJtYWtlVmFsaWQiLCJ1cGRhdGVUZW1wbGF0ZSIsImludmFsaWRIb3VycyIsImludmFsaWRNaW51dGVzIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiYWRkTWludXRlcyIsIkFNUE1TIiwiaW5wdXRzIiwiaG91cnNJbnB1dEVsIiwibWludXRlc0lucHV0RWwiLCJzZXR1cE1vdXNld2hlZWxFdmVudHMiLCJzZXR1cElucHV0RXZlbnRzIiwiJGVycm9yIiwiaXNTY3JvbGxpbmdVcCIsIm9yaWdpbmFsRXZlbnQiLCJ3aGVlbERlbHRhIiwiZGVsdGFZIiwiZGV0YWlsIiwiaW5jcmVtZW50SG91cnMiLCJkZWNyZW1lbnRIb3VycyIsImluY3JlbWVudE1pbnV0ZXMiLCJkZWNyZW1lbnRNaW51dGVzIiwidXBkYXRlSG91cnMiLCJ1cGRhdGVNaW51dGVzIiwiaW52YWxpZGF0ZSIsInNldE1pbnV0ZXMiLCJ0b2dnbGVNZXJpZGlhbiIsInRpbWVwaWNrZXJDdHJsIiwiVFlQRUFIRUFEX1JFR0VYUCIsIml0ZW1OYW1lIiwic291cmNlIiwidmlld01hcHBlciIsIm1vZGVsTWFwcGVyIiwidHlwZWFoZWFkUGFyc2VyIiwiSE9UX0tFWVMiLCJvcmlnaW5hbFNjb3BlIiwibW9kZWxDdHJsIiwiaGFzRm9jdXMiLCJtaW5TZWFyY2giLCJ0eXBlYWhlYWRNaW5MZW5ndGgiLCJ3YWl0VGltZSIsInR5cGVhaGVhZFdhaXRNcyIsImlzRWRpdGFibGUiLCJ0eXBlYWhlYWRFZGl0YWJsZSIsImlzTG9hZGluZ1NldHRlciIsInR5cGVhaGVhZExvYWRpbmciLCJvblNlbGVjdENhbGxiYWNrIiwidHlwZWFoZWFkT25TZWxlY3QiLCJpbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZElucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkQXBwZW5kVG9Cb2R5IiwiJHNldE1vZGVsVmFsdWUiLCJwYXJzZXJSZXN1bHQiLCJ0eXBlYWhlYWQiLCJwb3B1cElkIiwiYXJpYS1hdXRvY29tcGxldGUiLCJhcmlhLW93bnMiLCJwb3BVcEVsIiwibWF0Y2hlcyIsInF1ZXJ5IiwidHlwZWFoZWFkVGVtcGxhdGVVcmwiLCJyZXNldE1hdGNoZXMiLCJhY3RpdmVJZHgiLCJnZXRNYXRjaElkIiwiZ2V0TWF0Y2hlc0FzeW5jIiwiaW5wdXRWYWx1ZSIsImxvY2FscyIsIm9uQ3VycmVudFJlcXVlc3QiLCJ0aW1lb3V0UHJvbWlzZSIsInNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQiLCJjYW5jZWxQcmV2aW91c1RpbWVvdXQiLCIkZm9ybWF0dGVycyIsIm1vZGVsVmFsdWUiLCJjYW5kaWRhdGVWaWV3VmFsdWUiLCJlbXB0eVZpZXdWYWx1ZSIsIiRpdGVtIiwiJG1vZGVsIiwiJGxhYmVsIiwiZGlzbWlzc0NsaWNrSGFuZGxlciIsIm1hdGNoSWR4Iiwic2VsZWN0QWN0aXZlIiwic2VsZWN0TWF0Y2giLCJ0cGxVcmwiLCJ0cGxDb250ZW50IiwicmVwbGFjZVdpdGgiLCJlc2NhcGVSZWdleHAiLCJxdWVyeVRvRXNjYXBlIiwibWF0Y2hJdGVtIiwiVEVNUExBVEVTIiwiX2luaXQiLCIkYnRuQWxpZ25tZW50Iiwic2V0QWxpZ25tZW50IiwiYWxpZ25tZW50IiwiZ2V0QWxpZ25tZW50IiwiJHByaW1hcnlJY29uIiwiY3VycmVudENsYXNzIiwibmV3Q2xhc3MiLCJkZWZhdWx0QWxpZ25tZW50IiwiX3BsdWdpbk5hbWUiLCJXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHIiwiZmFtaWxpZXMiLCJzaXplcyIsIiRib2xkIiwiJGl0YWxpYyIsIiR1bmRlcmxpbmUiLCJzZXRTdHlsZXMiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiX3NldFN0eWxlIiwiX2dldFN0eWxlIiwiJHN0eWxlRWxlbSIsImlzQm9sZCIsInNldEJvbGQiLCJpc0l0YWxpYyIsInNldEl0YWxpYyIsImlzVW5kZXJsaW5lIiwic2V0VW5kZXJsaW5lIiwiZ2V0U3R5bGVzIiwic3R5bGVzIiwiZm9udFN0eWxlIiwiX2dldFVybCIsIiR1cmxJbnAiLCJfdGVzdFVybCIsInVybFJlZ0V4cCIsIl9zZXRVcmwiLCJfdmFsaWRhdGVVcmwiLCJkb1ZhbGlkYXRpb24iLCIkdmFsaWRhdGVVcmxDdG4iLCIkdmFsaWRhdGVVcmxDQiIsInNldFVybCIsImdldFVybCIsInZhbGlkYXRlVXJsIiwidXJsRmllbGQiLCJoaWRlTGFiZWwiLCJmaWxlVHlwZSIsImhhc1ZhbGlkRXh0ZW5zaW9uIiwiZXh0ZW5zaW9ucyIsInRlc3RVcmwiLCJ0ZXN0SW1hZ2UiLCJpbWFnZSIsIkltYWdlIiwiaW52YWxpZFR5cGUiLCJmb3JjZWRWYWxpZCIsImFsbG93SW5pdEVtcHR5IiwiaW5pdEVtcHR5IiwiYmx1ciIsImluZm8iLCJlcnIiLCJnb29nbGVGb250TG9hZGVyIiwiZm9udERhdGEiLCJwcmV2aWV3VGV4dCIsImluaXRUaW55TUNFIiwidGlueW1jZU9wdGlvbnMiLCJmb250X2Zvcm1hdHMiLCJnb29nbGVGb250TGlzdCIsImZvbnRzaXplX2Zvcm1hdHMiLCJjdXN0b21TaXplIiwibWVudWJhciIsInBsdWdpbnMiLCJza2luX3VybCIsInN0YXR1c2JhciIsInRvb2xiYXIiLCJzZXR1cCIsImVkaXRvciIsImluaXRUb29sYmFyIiwiX2lzTG9hZGluZyIsImFyZ3MiLCJpbml0Q29tbWFuZHMiLCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIiwib2xkQXBwbHkiLCJmb3JtYXR0ZXIiLCJvbGRSZW1vdmUiLCJ2YXJzIiwiY29tbWFuZCIsImZpcmUiLCJmb250IiwiZXhlY0NvbW1hbmQiLCJmYW1pbHkiLCJmb3JlY29sb3IiLCJiYWNrY29sb3IiLCJ0b2dnbGVCdXR0b24iLCIkY3VzdG9tRm9udCIsImdldEZvbnRUeXBlIiwiJGN1c3RvbUZvbnRTaXplIiwiZGVmYXVsdEZvbnQiLCJ1cGRhdGVQcmV2aWV3IiwiJHRleHRDb250YWluZXIiLCIkdGV4dCIsImdldEN1c3RvbUZvbnRGYW1pbHkiLCJwb3AiLCJsb2FkQ3VzdG9tRm9udCIsInNoZWV0IiwicnVsZSIsInN0eWxlU2hlZXRzIiwiYWRkUnVsZSIsImdldEZvbnRzIiwiZm9udHMiLCJjdXN0b21Gb250U2l6ZSIsImFwcGx5Q3VzdG9tRm9udCIsImFwcGx5Q3VzdG9tRm9udFNpemUiLCJ0aW55bWNlIiwiYWN0aXZlRWRpdG9yIiwid2F0Y2giLCIkd2F0Y2hHcm91cCIsIm5ld1ZhbHVlcyIsImFuZ3VsYXJMb2FkIiwiZm9udHNBcGkiLCJmb250QmFzZVVybCIsImV4Y2x1ZGUiLCJyZXNwb25zZSIsInNwYWNlcyIsIiRzY2UiLCJ1aVRpbnltY2VDb25maWciLCJnZW5lcmF0ZWRJZHMiLCJJRF9BVFRSIiwiYmFzZVVybCIsImJhc2VVUkwiLCJ0b2dnbGVEaXNhYmxlIiwiZW5zdXJlSW5zdGFuY2UiLCJ0aW55SW5zdGFuY2UiLCJnZXRCb2R5Iiwic2V0dGluZ3MiLCJleHByZXNzaW9uIiwiZm9ybSIsInVwZGF0ZVZpZXciLCJ0cnVzdEFzSHRtbCIsIiQkcGhhc2UiLCIkc2V0IiwidWlUaW55bWNlIiwic2V0dXBPcHRpb25zIiwiZWQiLCIkc2V0UHJpc3RpbmUiLCJzYXZlIiwibmdEaXNhYmxlZCIsImdldFRydXN0ZWRIdG1sIiwiZ2V0RG9jIiwiZWlkIiwicGFyZW50RWxlbWVudCIsImNsb25lZEVsZW1lbnQiLCJkaXNhYmxlU2F2ZSIsInNldHRpbmdzU2F2ZXIiLCJzZXR0aW5nc0dldHRlciIsInNldHRpbmdzQ2xvc2VyIiwiYWRkaXRpb25hbFBhcmFtcyIsImFsZXJ0cyIsImdldEFkZGl0aW9uYWxQYXJhbSIsImRlZmF1bHRWYWwiLCJzZXRBZGRpdGlvbmFsUGFyYW0iLCJsb2FkQWRkaXRpb25hbFBhcmFtcyIsImdldEFkZGl0aW9uYWxQYXJhbXMiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwic2F2ZVNldHRpbmdzIiwiY2xvc2VTZXR0aW5ncyIsImdldFBhcmFtcyIsIiRlbG0iLCIkd2F0Y2hDb2xsZWN0aW9uIiwibmV3QWxlcnRzIiwib2xkQWxlcnRzIiwiU1RPUkFHRV9GSUxFX1VSTF9CQVNFIiwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UiLCJnZXRTdG9yYWdlVXJsRGF0YSIsImdldFN0b3JhZ2VUeXBlIiwic3RvcmFnZVVybCIsImdldENvbXBhbnlJZCIsInAiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY29tcGFueUlkIiwiZmlsZU5hbWUiLCJmb2xkZXIiLCJnYWRnZXRzIiwiaTE4biIsImZhbGxiYWNrTG5nIiwicmVzR2V0UGF0aCIsImdhZGdldHNBcGkiLCJzZXR0aW5nc1BhcnNlciIsInByb2Nlc3NTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwiY29weSIsInJzVyIsInJzSCIsInZhbGlkYXRvciIsImRlYnVnIiwibGF5b3V0VVJMIiwiZW5jb2RlUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtc1N0ciIsImVuY29kZUFkZGl0aW9uYWxQYXJhbXMiLCJycGMiLCJKU09OIiwic3RyaW5naWZ5IiwiZGVmYXVsdFNldHRpbmdzIiwiZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMiLCJwYXJzZUFkZGl0aW9uYWxQYXJhbXMiLCJkZWZhdWx0UGFyYW1zIiwicGFyc2VQYXJhbXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN0cmlwUHJlZml4IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicGFyYW1zU3RyIiwiZ29vZ2xlIiwidmlzdWFsaXphdGlvbiIsInNldE9uTG9hZENhbGxiYWNrIiwiaGVhZGxpbmUiLCJ0aW1lc3RhbXAiLCJhdXRob3IiLCJpdGVtc0luUXVldWUiLCJpdGVtc1RvU2hvdyIsInN0b3J5IiwiZGF0YVNlbGVjdGlvbiIsInNob3dUaXRsZSIsInNob3dUaW1lc3RhbXAiLCJzaG93QXV0aG9yIiwic2hvd0ltYWdlIiwic2hvd0Rlc2NyaXB0aW9uIiwibGF5b3V0Il0sIm1hcHBpbmdzIjoiQUFvclNBLEdBeHFTQUEsUUFBUUMsT0FBTywwQkFBMkIsT0FFekNDLEtBQUssYUFBYyxTQUFVQyxHQUU1QixHQUFJQyxHQUFNRCxFQUFXRSxhQUNqQkMsRUFBVUgsRUFBV0csVUFFckJDLEVBQW9DLFdBQ3RDLEdBQUlDLEdBQVlMLEVBQVdNLG1CQUN2QlQsU0FBUVUsU0FBU0YsR0FDbkJMLEVBQVdRLElBQUlILEdBSWZGLEVBQVFNLElBQUlSLEVBQUtELEVBQVdRLE9BSTVCTCxHQUNHQSxFQUFRTyxJQUFJVCxHQUdmRCxFQUFXUSxJQUFJTCxFQUFRTyxJQUFJVCxJQUFNLFNBQVNHLEdBRjFDQSxJQUlPUCxRQUFRVSxTQUFTUCxFQUFXTSxzQkFDckNOLEVBQVdRLElBQUlSLEVBQVdNLHdCQWE5QlQsUUFBUUMsT0FBTywwQkFBMEJhLFNBQVMsY0FBZSxlQUFnQixTQUFVQyxHQUV6RixHQUNJQyxHQUVBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUVBQyxFQUNBQyxFQUNBQyxFQUdBQyxFQUVBQyxFQUNBQyxFQUNBQyxFQUdBQyxFQXRCQUMsS0FFQUMsS0FPQUMsRUFBY2xCLEVBSWRtQixLQUNBQyxHQUFxQyxFQUVyQ0MsRUFBa0Isa0JBSWxCQyxHQUF3QixFQUN4QkMsRUFBMEIsSUFHMUJDLEVBQVUsUUFHVkMsRUFBMEIsV0FDNUIsR0FFSUMsR0FDQUMsRUFIQUMs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QUFPLGtDQUNaMnRCLFdBQVcseUJBQTBCLFNBQVUsT0FDOUMsU0FBVUMsR0FHUkEsRUFBT2hlLE9BQU8sV0FBWSxTQUFVM0osR0FDYixtQkFBVkEsSUFBbUMsS0FBVkEsSUFDbEMybkIsRUFBT21zQixTQUFTc0IsaUJBQWlCbC9CLFdBQVdnRyxTQUFtQixJQUFSbGMsS0FHM0QybkIsRUFBT2hlLE9BQU8sZ0RBQWlELFNBQVUzSixHQUNsRCxtQkFBVkEsSUFBbUMsS0FBVkEsSUFDbEMybkIsRUFBT3pMLFNBQVdsYyxFQUFRLE9BSTlCMm5CLEVBQU9oZSxPQUFPLG9EQUFxRCxTQUFVM0osR0FDdEQsbUJBQVZBLElBQW1DLEtBQVZBLEdBQWlCQSxJQUNuRDJuQixFQUFPbXNCLFNBQVNzQixpQkFBaUI0RCxTQUFTeEwsZ0JBSTlDN2xCLEVBQU9oZSxPQUFPLHdEQUF5RCxTQUFVM0osR0FDMUQsbUJBQVZBLElBQW1DLEtBQVZBLEdBQWlCQSxJQUNuRDJuQixFQUFPbXNCLFNBQVNzQixpQkFBaUI2RCxVQUFVekwsZ0JBSS9DN2xCLEVBQU9oZSxPQUFPLHFEQUFzRCxTQUFVM0osR0FDdkQsbUJBQVZBLElBQW1DLEtBQVZBLEdBQWlCQSxJQUNuRDJuQixFQUFPbXNCLFNBQVNzQixpQkFBaUI4RCxPQUFPMUwsbUJBSy9DeHRDLE1BQU0sbUJBQ0x5SCxVQUNBMnRDLGtCQUNFMTBDLElBQU8sR0FDUHk0QyxhQUFnQixFQUNoQkMsWUFBZSxFQUNmSixVQUNFeEwsY0FFRjZMLE9BQ0U3TCxjQUVGeUwsV0FDRXpMLGNBRUYwTCxRQUNFMUwsY0FFRnQzQixZQUNFbEUsS0FBUSxPQUNSa0ssU0FBWSxLQUVkbzlCLGVBQ0VDLFdBQWEsRUFDYkMsZUFBaUIsRUFDakJDLFlBQWMsRUFDZEMsV0FBYSxFQUNiQyxnQkFBbUIsV0FFckJDLE9BQVUiLCJmaWxlIjoianMvc2V0dGluZ3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjUuMiAtIDIwMTQtMTItMTBcbiAqIGh0dHA6Ly9naXRodWIuY29tL2FuZ3VsYXItdHJhbnNsYXRlL2FuZ3VsYXItdHJhbnNsYXRlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgOyBMaWNlbnNlZCBNSVRcbiAqL1xuLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBtYWluIG1vZHVsZSB3aGljaCBob2xkcyBldmVyeXRoaW5nIHRvZ2V0aGVyLlxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScsIFsnbmcnXSlcblxuLnJ1bihbJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZSkge1xuXG4gIHZhciBrZXkgPSAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSxcbiAgICAgIHN0b3JhZ2UgPSAkdHJhbnNsYXRlLnN0b3JhZ2UoKTtcblxuICB2YXIgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByZWZlcnJlZCA9ICR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKTtcbiAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhwcmVmZXJyZWQpKSB7XG4gICAgICAkdHJhbnNsYXRlLnVzZShwcmVmZXJyZWQpO1xuICAgICAgLy8gJHRyYW5zbGF0ZS51c2UoKSB3aWxsIGFsc28gcmVtZW1iZXIgdGhlIGxhbmd1YWdlLlxuICAgICAgLy8gU28sIHdlIGRvbid0IG5lZWQgdG8gY2FsbCBzdG9yYWdlLnB1dCgpIGhlcmUuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JhZ2UucHV0KGtleSwgJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChzdG9yYWdlKSB7XG4gICAgaWYgKCFzdG9yYWdlLmdldChrZXkpKSB7XG4gICAgICBmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRyYW5zbGF0ZS51c2Uoc3RvcmFnZS5nZXQoa2V5KSlbJ2NhdGNoJ10oZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZygkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCkpKSB7XG4gICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKTtcbiAgfVxufV0pO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAkdHJhbnNsYXRlUHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gcmVnaXN0ZXIgdHJhbnNsYXRpb24tdGFibGVzLCBhc3luY2hyb25vdXMgbG9hZGVyc1xuICogYW5kIHNpbWlsYXIgdG8gY29uZmlndXJlIHRyYW5zbGF0aW9uIGJlaGF2aW9yIGRpcmVjdGx5IGluc2lkZSBvZiBhIG1vZHVsZS5cbiAqXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykucHJvdmlkZXIoJyR0cmFuc2xhdGUnLCBbJyRTVE9SQUdFX0tFWScsIGZ1bmN0aW9uICgkU1RPUkFHRV9LRVkpIHtcblxuICB2YXIgJHRyYW5zbGF0aW9uVGFibGUgPSB7fSxcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSxcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBbXSxcbiAgICAgICRsYW5ndWFnZUtleUFsaWFzZXMsXG4gICAgICAkZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICRmYWxsYmFja1dhc1N0cmluZyxcbiAgICAgICR1c2VzLFxuICAgICAgJG5leHRMYW5nLFxuICAgICAgJHN0b3JhZ2VGYWN0b3J5LFxuICAgICAgJHN0b3JhZ2VLZXkgPSAkU1RPUkFHRV9LRVksXG4gICAgICAkc3RvcmFnZVByZWZpeCxcbiAgICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSxcbiAgICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSxcbiAgICAgICRpbnRlcnBvbGF0b3JGYWN0b3JpZXMgPSBbXSxcbiAgICAgICRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kgPSBmYWxzZSxcbiAgICAgICRsb2FkZXJGYWN0b3J5LFxuICAgICAgJGNsb2FrQ2xhc3NOYW1lID0gJ3RyYW5zbGF0ZS1jbG9haycsXG4gICAgICAkbG9hZGVyT3B0aW9ucyxcbiAgICAgICRub3RGb3VuZEluZGljYXRvckxlZnQsXG4gICAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCxcbiAgICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9IGZhbHNlLFxuICAgICAgTkVTVEVEX09CSkVDVF9ERUxJTUlURVIgPSAnLicsXG4gICAgICBsb2FkZXJDYWNoZTtcblxuICB2YXIgdmVyc2lvbiA9ICcyLjUuMic7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsYW5ndWFnZVxuICB2YXIgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5hdiA9IHdpbmRvdy5uYXZpZ2F0b3IsXG4gICAgICAgIGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyA9IFsnbGFuZ3VhZ2UnLCAnYnJvd3Nlckxhbmd1YWdlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3VzZXJMYW5ndWFnZSddLFxuICAgICAgICBpLFxuICAgICAgICBsYW5ndWFnZTtcblxuICAgIC8vIHN1cHBvcnQgZm9yIEhUTUwgNS4xIFwibmF2aWdhdG9yLmxhbmd1YWdlc1wiXG4gICAgaWYgKGFuZ3VsYXIuaXNBcnJheShuYXYubGFuZ3VhZ2VzKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5hdi5sYW5ndWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFuZ3VhZ2UgPSBuYXYubGFuZ3VhZ2VzW2ldO1xuICAgICAgICBpZiAobGFuZ3VhZ2UgJiYgbGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGxhbmd1YWdlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydCBmb3Igb3RoZXIgd2VsbCBrbm93biBwcm9wZXJ0aWVzIGluIGJyb3dzZXJzXG4gICAgZm9yIChpID0gMDsgaSA8IGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGFuZ3VhZ2UgPSBuYXZbYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzW2ldXTtcbiAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGxhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZS5kaXNwbGF5TmFtZSA9ICdhbmd1bGFyLXRyYW5zbGF0ZS9zZXJ2aWNlOiBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSc7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsb2NhbGVcbiAgdmFyIGdldExvY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlKCkgfHwgJycpLnNwbGl0KCctJykuam9pbignXycpO1xuICB9O1xuICBnZXRMb2NhbGUuZGlzcGxheU5hbWUgPSAnYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0TG9jYWxlJztcblxuICAvKipcbiAgICogQG5hbWUgaW5kZXhPZlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogaW5kZXhPZiBwb2x5ZmlsbC4gS2luZGEgc29ydGEuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5IEFycmF5IHRvIHNlYXJjaCBpbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaEVsZW1lbnQgRWxlbWVudCB0byBzZWFyY2ggZm9yLlxuICAgKlxuICAgKiBAcmV0dXJucyB7aW50fSBJbmRleCBvZiBzZWFyY2ggZWxlbWVudC5cbiAgICovXG4gIHZhciBpbmRleE9mID0gZnVuY3Rpb24oYXJyYXksIHNlYXJjaEVsZW1lbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChhcnJheVtpXSA9PT0gc2VhcmNoRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSB0cmltXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiB0cmltIHBvbHlmaWxsXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBzdHJpbmcgc3RyaXBwZWQgb2Ygd2hpdGVzcGFjZSBmcm9tIGJvdGggZW5kc1xuICAgKi9cbiAgdmFyIHRyaW0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gIH07XG5cbiAgdmFyIG5lZ290aWF0ZUxvY2FsZSA9IGZ1bmN0aW9uIChwcmVmZXJyZWQpIHtcblxuICAgIHZhciBhdmFpbCA9IFtdLFxuICAgICAgICBsb2NhbGUgPSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbiA9ICRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoO1xuXG4gICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgIGF2YWlsLnB1c2goYW5ndWxhci5sb3dlcmNhc2UoJGF2YWlsYWJsZUxhbmd1YWdlS2V5c1tpXSkpO1xuICAgIH1cblxuICAgIGlmIChpbmRleE9mKGF2YWlsLCBsb2NhbGUpID4gLTEpIHtcbiAgICAgIHJldHVybiBwcmVmZXJyZWQ7XG4gICAgfVxuXG4gICAgaWYgKCRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgIHZhciBhbGlhcztcbiAgICAgIGZvciAodmFyIGxhbmdLZXlBbGlhcyBpbiAkbGFuZ3VhZ2VLZXlBbGlhc2VzKSB7XG4gICAgICAgIHZhciBoYXNXaWxkY2FyZEtleSA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFzRXhhY3RLZXkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJGxhbmd1YWdlS2V5QWxpYXNlcywgbGFuZ0tleUFsaWFzKSAmJlxuICAgICAgICAgIGFuZ3VsYXIubG93ZXJjYXNlKGxhbmdLZXlBbGlhcykgPT09IGFuZ3VsYXIubG93ZXJjYXNlKHByZWZlcnJlZCk7XG5cbiAgICAgICAgaWYgKGxhbmdLZXlBbGlhcy5zbGljZSgtMSkgPT09ICcqJykge1xuICAgICAgICAgIGhhc1dpbGRjYXJkS2V5ID0gbGFuZ0tleUFsaWFzLnNsaWNlKDAsIC0xKSA9PT0gcHJlZmVycmVkLnNsaWNlKDAsIGxhbmdLZXlBbGlhcy5sZW5ndGgtMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0V4YWN0S2V5IHx8IGhhc1dpbGRjYXJkS2V5KSB7XG4gICAgICAgICAgYWxpYXMgPSAkbGFuZ3VhZ2VLZXlBbGlhc2VzW2xhbmdLZXlBbGlhc107XG4gICAgICAgICAgaWYgKGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKGFsaWFzKSkgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGFsaWFzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwYXJ0cyA9IHByZWZlcnJlZC5zcGxpdCgnXycpO1xuXG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEgJiYgaW5kZXhPZihhdmFpbCwgYW5ndWxhci5sb3dlcmNhc2UocGFydHNbMF0pKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcGFydHNbMF07XG4gICAgfVxuXG4gICAgLy8gSWYgZXZlcnl0aGluZyBmYWlscywganVzdCByZXR1cm4gdGhlIHByZWZlcnJlZCwgdW5jaGFuZ2VkLlxuICAgIHJldHVybiBwcmVmZXJyZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbnNcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBuZXcgdHJhbnNsYXRpb24gdGFibGUgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICogVG8gcmVnaXN0ZXIgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UsIHBhc3MgYSBkZWZpbmVkIGxhbmd1YWdlXG4gICAqIGtleSBhcyBmaXJzdCBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAvLyByZWdpc3RlciB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgbGFuZ3VhZ2U6ICdkZV9ERSdcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2RlX0RFJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGFsbG8gV2VsdCEnXG4gICAqICB9KTtcbiAgICpcbiAgICogIC8vIHJlZ2lzdGVyIGFub3RoZXIgb25lXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbl9VUycsIHtcbiAgICogICAgJ0dSRUVUSU5HJzogJ0hlbGxvIHdvcmxkISdcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogV2hlbiByZWdpc3RlcmluZyBtdWx0aXBsZSB0cmFuc2xhdGlvbiB0YWJsZXMgZm9yIGZvciB0aGUgc2FtZSBsYW5ndWFnZSBrZXksXG4gICAqIHRoZSBhY3R1YWwgdHJhbnNsYXRpb24gdGFibGUgZ2V0cyBleHRlbmRlZC4gVGhpcyBhbGxvd3MgeW91IHRvIGRlZmluZSBtb2R1bGVcbiAgICogc3BlY2lmaWMgdHJhbnNsYXRpb24gd2hpY2ggb25seSBnZXQgYWRkZWQsIG9uY2UgYSBzcGVjaWZpYyBtb2R1bGUgaXMgbG9hZGVkIGluXG4gICAqIHlvdXIgYXBwLlxuICAgKlxuICAgKiBJbnZva2luZyB0aGlzIG1ldGhvZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB0YWJsZSB3aGljaCB3YXNcbiAgICogcmVnaXN0ZXJlZCB3aXRoIG5vIGxhbmd1YWdlIGtleS4gSW52b2tpbmcgaXQgd2l0aCBhIGxhbmd1YWdlIGtleSByZXR1cm5zIHRoZVxuICAgKiByZWxhdGVkIHRyYW5zbGF0aW9uIHRhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKiBAcGFyYW0ge29iamVjdH0gdHJhbnNsYXRpb25UYWJsZSBBIHBsYWluIG9sZCBKYXZhU2NyaXB0IG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiB0YWJsZS5cbiAgICpcbiAgICovXG4gIHZhciB0cmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25UYWJsZSkge1xuXG4gICAgaWYgKCFsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGU7XG4gICAgfVxuXG4gICAgaWYgKGxhbmdLZXkgJiYgIXRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGxhbmdLZXkpKSB7XG4gICAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSkge1xuICAgICAgICAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgYW5ndWxhci5leHRlbmQoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0sIGZsYXRPYmplY3QodHJhbnNsYXRpb25UYWJsZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucztcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogTGV0J3MgeW91IGNoYW5nZSB0aGUgY2xhc3MgbmFtZSBmb3IgYHRyYW5zbGF0ZS1jbG9ha2AgZGlyZWN0aXZlLlxuICAgKiBEZWZhdWx0IGNsYXNzIG5hbWUgaXMgYHRyYW5zbGF0ZS1jbG9ha2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRyYW5zbGF0ZS1jbG9hayBjbGFzcyBuYW1lXG4gICAqL1xuICB0aGlzLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgfVxuICAgICRjbG9ha0NsYXNzTmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIGZsYXRPYmplY3RcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEZsYXRzIGFuIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGZsYXR0ZW4gZ2l2ZW4gdHJhbnNsYXRpb24gZGF0YSB3aXRoXG4gICAqIG5hbWVzcGFjZXMsIHNvIHRoZXkgYXJlIGxhdGVyIGFjY2Vzc2libGUgdmlhIGRvdCBub3RhdGlvbi5cbiAgICovXG4gIHZhciBmbGF0T2JqZWN0ID0gZnVuY3Rpb24gKGRhdGEsIHBhdGgsIHJlc3VsdCwgcHJldktleSkge1xuICAgIHZhciBrZXksIGtleVdpdGhQYXRoLCBrZXlXaXRoU2hvcnRQYXRoLCB2YWw7XG5cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgIHBhdGggPSBbXTtcbiAgICB9XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IHt9O1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFsID0gZGF0YVtrZXldO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsKSkge1xuICAgICAgICBmbGF0T2JqZWN0KHZhbCwgcGF0aC5jb25jYXQoa2V5KSwgcmVzdWx0LCBrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5V2l0aFBhdGggPSBwYXRoLmxlbmd0aCA/ICgnJyArIHBhdGguam9pbihORVNURURfT0JKRUNUX0RFTElNSVRFUikgKyBORVNURURfT0JKRUNUX0RFTElNSVRFUiArIGtleSkgOiBrZXk7XG4gICAgICAgIGlmKHBhdGgubGVuZ3RoICYmIGtleSA9PT0gcHJldktleSl7XG4gICAgICAgICAgLy8gQ3JlYXRlIHNob3J0Y3V0IHBhdGggKGZvby5iYXIgPT0gZm9vLmJhci5iYXIpXG4gICAgICAgICAga2V5V2l0aFNob3J0UGF0aCA9ICcnICsgcGF0aC5qb2luKE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSKTtcbiAgICAgICAgICAvLyBMaW5rIGl0IHRvIG9yaWdpbmFsIHBhdGhcbiAgICAgICAgICByZXN1bHRba2V5V2l0aFNob3J0UGF0aF0gPSAnQDonICsga2V5V2l0aFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2tleVdpdGhQYXRoXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2FkZEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGludGVycG9sYXRpb24gc2VydmljZXMgdG8gYW5ndWxhci10cmFuc2xhdGUsIHNvIGl0IGNhbiBtYW5hZ2UgdGhlbS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGZhY3RvcnlcbiAgICovXG4gIHRoaXMuYWRkSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJGludGVycG9sYXRvckZhY3Rvcmllcy5wdXNoKGZhY3RvcnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbmFsaXR5IG9mIG1lc3NhZ2Vmb3JtYXQuanMuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gaGF2aW5nIGhpZ2ggbGV2ZWwgcGx1cmFsaXphdGlvbiBhbmQgZ2VuZGVyIHNlbGVjdGlvbi5cbiAgICovXG4gIHRoaXMudXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlSW50ZXJwb2xhdGlvbignJHRyYW5zbGF0ZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggaW50ZXJwb2xhdGlvbiBzdHlsZSB0byB1c2UgYXMgZGVmYXVsdCwgYXBwbGljYXRpb24td2lkZS5cbiAgICogU2ltcGx5IHBhc3MgYSBmYWN0b3J5L3NlcnZpY2UgbmFtZS4gVGhlIGludGVycG9sYXRpb24gc2VydmljZSBoYXMgdG8gaW1wbGVtZW50XG4gICAqIHRoZSBjb3JyZWN0IGludGVyZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIG5hbWUuXG4gICAqL1xuICB0aGlzLnVzZUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTYW5pdGl6ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2ltcGx5IHNldHMgYSBzYW5pdGF0aW9uIHN0cmF0ZWd5IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBTdHJhdGVneSB0eXBlLlxuICAgKi9cbiAgdGhpcy51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5ID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBvZiB0aGUgcmVnaXN0ZXJlZCB0cmFuc2xhdGlvbiB0YWJsZXMgdG8gdXNlIGZvciB0cmFuc2xhdGlvblxuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipwcmVmZXIqKi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqL1xuICB0aGlzLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24obGFuZ0tleSkge1xuICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgfTtcbiAgdmFyIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBsYW5nS2V5O1xuICAgIH1cbiAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICB9O1xuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZC4gRS5nLiB3aGVuXG4gICAqIHNldHRpbmcgdGhlIGluZGljYXRvciBhcyAnWCcgYW5kIG9uZSB0cmllcyB0byB0cmFuc2xhdGUgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiBjYWxsZWQgYE5PVF9GT1VORGAsIHRoaXMgd2lsbCByZXN1bHQgaW4gYFggTk9UX0ZPVU5EIFhgLlxuICAgKlxuICAgKiBJbnRlcm5hbGx5IHRoaXMgbWV0aG9kcyBzZXRzIGEgbGVmdCBpbmRpY2F0b3IgYW5kIGEgcmlnaHQgaW5kaWNhdG9yIHVzaW5nXG4gICAqIGAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoKWAgYW5kXG4gICAqIGAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0KClgLlxuICAgKlxuICAgKiAqKk5vdGUqKjogVGhlc2UgbWV0aG9kcyBhdXRvbWF0aWNhbGx5IGFkZCBhIHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgaW5kaWNhdG9yc1xuICAgKiBhbmQgdGhlIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvciwgY291bGQgYmUgYW55IHN0cmluZy5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvciA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0KGluZGljYXRvcik7XG4gICAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoaW5kaWNhdG9yKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZCBsZWZ0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIGlmICghaW5kaWNhdG9yKSB7XG4gICAgICByZXR1cm4gJG5vdEZvdW5kSW5kaWNhdG9yTGVmdDtcbiAgICB9XG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZCByaWdodCB0byB0aGVcbiAgICogdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JSaWdodDtcbiAgICB9XG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQgPSBpbmRpY2F0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNmYWxsYmFja0xhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBvZiB0aGUgcmVnaXN0ZXJlZCB0cmFuc2xhdGlvbiB0YWJsZXMgdG8gdXNlIHdoZW4gbWlzc2luZyB0cmFuc2xhdGlvbnNcbiAgICogYXQgaW5pdGlhbCBzdGFydHVwIGJ5IHBhc3NpbmcgYSBsYW5ndWFnZSBrZXkuIFNpbWlsYXIgdG8gYCR0cmFuc2xhdGVQcm92aWRlciN1c2VgXG4gICAqIG9ubHkgdGhhdCBpdCBzYXlzIHdoaWNoIGxhbmd1YWdlIHRvICoqZmFsbGJhY2sqKi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8fGFycmF5fSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKi9cbiAgdGhpcy5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBmYWxsYmFja1N0YWNrKGxhbmdLZXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBmYWxsYmFja1N0YWNrID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobGFuZ0tleSkpIHtcbiAgICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nID0gdHJ1ZTtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UgPSBbIGxhbmdLZXkgXTtcbiAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0FycmF5KGxhbmdLZXkpKSB7XG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IGZhbHNlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZygkcHJlZmVycmVkTGFuZ3VhZ2UpICAmJiBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCAkcHJlZmVycmVkTGFuZ3VhZ2UpIDwgMCkge1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZS5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJGZhbGxiYWNrV2FzU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXQgd2hpY2ggdHJhbnNsYXRpb24gdGFibGUgdG8gdXNlIGZvciB0cmFuc2xhdGlvbiBieSBnaXZlbiBsYW5ndWFnZSBrZXkuIFdoZW5cbiAgICogdHJ5aW5nIHRvICd1c2UnIGEgbGFuZ3VhZ2Ugd2hpY2ggaXNuJ3QgcHJvdmlkZWQsIGl0J2xsIHRocm93IGFuIGVycm9yLlxuICAgKlxuICAgKiBZb3UgYWN0dWFsbHkgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBtZXRob2Qgc2luY2UgYCR0cmFuc2xhdGVQcm92aWRlciNwcmVmZXJyZWRMYW5ndWFnZWBcbiAgICogZG9lcyB0aGUgam9iIHRvby5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqL1xuICB0aGlzLnVzZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0gJiYgKCEkbG9hZGVyRmFjdG9yeSkpIHtcbiAgICAgICAgLy8gb25seSB0aHJvdyBhbiBlcnJvciwgd2hlbiBub3QgbG9hZGluZyB0cmFuc2xhdGlvbiBkYXRhIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIiR0cmFuc2xhdGVQcm92aWRlciBjb3VsZG4ndCBmaW5kIHRyYW5zbGF0aW9uVGFibGUgZm9yIGxhbmdLZXk6ICdcIiArIGxhbmdLZXkgKyBcIidcIik7XG4gICAgICB9XG4gICAgICAkdXNlcyA9IGxhbmdLZXk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICR1c2VzO1xuICB9O1xuXG4gLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdG9yYWdlS2V5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBrZXkgbXVzdCByZXByZXNlbnQgdGhlIGNob29zZWQgbGFuZ3VhZ2UgYnkgYSB1c2VyIGluIHRoZSBzdG9yYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEEga2V5IGZvciB0aGUgc3RvcmFnZS5cbiAgICovXG4gIHZhciBzdG9yYWdlS2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGlmICgkc3RvcmFnZVByZWZpeCkge1xuICAgICAgICByZXR1cm4gJHN0b3JhZ2VQcmVmaXggKyAkc3RvcmFnZUtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkc3RvcmFnZUtleTtcbiAgICB9XG4gICAgJHN0b3JhZ2VLZXkgPSBrZXk7XG4gIH07XG5cbiAgdGhpcy5zdG9yYWdlS2V5ID0gc3RvcmFnZUtleTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVVybExvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVVybExvYWRlcmAgZXh0ZW5zaW9uIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybFxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlVXJsTG9hZGVyID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVVybExvYWRlcicsIGFuZ3VsYXIuZXh0ZW5kKHsgdXJsOiB1cmwgfSwgb3B0aW9ucykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RhdGljRmlsZXNMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcmAgZXh0ZW5zaW9uIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlU3RhdGljRmlsZXNMb2FkZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgb3B0aW9ucyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYW55IG90aGVyIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9hZGVyRmFjdG9yeSBGYWN0b3J5IG5hbWUgdG8gdXNlXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VMb2FkZXIgPSBmdW5jdGlvbiAobG9hZGVyRmFjdG9yeSwgb3B0aW9ucykge1xuICAgICRsb2FkZXJGYWN0b3J5ID0gbG9hZGVyRmFjdG9yeTtcbiAgICAkbG9hZGVyT3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2NhbFN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VgIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICpcbiAgICovXG4gIHRoaXMudXNlTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUNvb2tpZVN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVDb29raWVTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqL1xuICB0aGlzLnVzZUNvb2tpZVN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgY3VzdG9tIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICovXG4gIHRoaXMudXNlU3RvcmFnZSA9IGZ1bmN0aW9uIChzdG9yYWdlRmFjdG9yeSkge1xuICAgICRzdG9yYWdlRmFjdG9yeSA9IHN0b3JhZ2VGYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZVByZWZpeFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgcHJlZml4IGZvciBzdG9yYWdlIGtleS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBTdG9yYWdlIGtleSBwcmVmaXhcbiAgICovXG4gIHRoaXMuc3RvcmFnZVByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpZiAoIXByZWZpeCkge1xuICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9XG4gICAgJHN0b3JhZ2VQcmVmaXggPSBwcmVmaXg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGJ1aWx0LWluIGxvZyBoYW5kbGVyIHdoZW4gdHJ5aW5nIHRvIHRyYW5zbGF0ZVxuICAgKiBhIHRyYW5zbGF0aW9uIElkIHdoaWNoIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIFRoaXMgaXMgYWN0dWFsbHkgYSBzaG9ydGN1dCBtZXRob2QgZm9yIGB1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKClgLlxuICAgKlxuICAgKi9cbiAgdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoJyR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRXhwZWN0cyBhIGZhY3RvcnkgbmFtZSB3aGljaCBsYXRlciBnZXRzIGluc3RhbnRpYXRlZCB3aXRoIGAkaW5qZWN0b3JgLlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byB0ZWxsIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhIGN1c3RvbVxuICAgKiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyLiBKdXN0IGJ1aWxkIGEgZmFjdG9yeSB3aGljaCByZXR1cm5zIGEgZnVuY3Rpb25cbiAgICogYW5kIGV4cGVjdHMgYSB0cmFuc2xhdGlvbiBpZCBhcyBhcmd1bWVudC5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcignY3VzdG9tSGFuZGxlcicpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqICBhcHAuZmFjdG9yeSgnY3VzdG9tSGFuZGxlcicsIGZ1bmN0aW9uIChkZXAxLCBkZXAyKSB7XG4gICAqICAgIHJldHVybiBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgKiAgICAgIC8vIHNvbWV0aGluZyB3aXRoIHRyYW5zbGF0aW9uSWQgYW5kIGRlcDEgYW5kIGRlcDJcbiAgICogICAgfTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgRmFjdG9yeSBuYW1lXG4gICAqL1xuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VQb3N0Q29tcGlsaW5nXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCwgYWxsIHRyYW5zbGF0ZWQgdmFsdWVzIHdpbGwgYmUgcHJvY2Vzc2VkXG4gICAqIGFnYWluIHdpdGggQW5ndWxhckpTJyAkY29tcGlsZS5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlUG9zdENvbXBpbGluZyh0cnVlKTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgRmFjdG9yeSBuYW1lXG4gICAqL1xuICB0aGlzLnVzZVBvc3RDb21waWxpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkcG9zdENvbXBpbGluZ0VuYWJsZWQgPSAhKCF2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHRyeSB0byBkZXRlcm1pbmUgb24gaXRzIG93biB3aGljaCBsYW5ndWFnZSBrZXlcbiAgICogdG8gc2V0IGFzIHByZWZlcnJlZCBsYW5ndWFnZS4gV2hlbiBgZm5gIGlzIGdpdmVuLCBhbmd1bGFyLXRyYW5zbGF0ZSB1c2VzIGl0XG4gICAqIHRvIGRldGVybWluZSBhIGxhbmd1YWdlIGtleSwgb3RoZXJ3aXNlIGl0IHVzZXMgdGhlIGJ1aWx0LWluIGBnZXRMb2NhbGUoKWBcbiAgICogbWV0aG9kLlxuICAgKlxuICAgKiBUaGUgYGdldExvY2FsZSgpYCByZXR1cm5zIGEgbGFuZ3VhZ2Uga2V5IGluIHRoZSBmb3JtYXQgYFtsYW5nXV9bY291bnRyeV1gIG9yXG4gICAqIGBbbGFuZ11gIGRlcGVuZGluZyBvbiB3aGF0IHRoZSBicm93c2VyIHByb3ZpZGVzLlxuICAgKlxuICAgKiBVc2UgdGhpcyBtZXRob2QgYXQgeW91ciBvd24gcmlzaywgc2luY2Ugbm90IGFsbCBicm93c2VycyByZXR1cm4gYSB2YWxpZFxuICAgKiBsb2NhbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gZm4gRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGEgYnJvd3NlcidzIGxvY2FsZVxuICAgKi9cbiAgdGhpcy5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChmbikge1xuXG4gICAgdmFyIGxvY2FsZSA9IChmbiAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZm4pKSA/IGZuKCkgOiBnZXRMb2NhbGUoKTtcblxuICAgIGlmICghJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGgpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxvY2FsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbmVnb3RpYXRlTG9jYWxlKGxvY2FsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIHNldCBvZiBsYW5ndWFnZSBrZXlzIHRoZSBhcHAgd2lsbCB3b3JrIHdpdGguIFVzZSB0aGlzIG1ldGhvZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXG4gICAqIFdoZW4gYXZhaWxhYmxlIGxhbmd1YWdlcyBrZXlzIGFyZSByZWdpc3RlcmVkLCBhbmd1bGFyLXRyYW5zbGF0ZVxuICAgKiB0cmllcyB0byBmaW5kIHRoZSBiZXN0IGZpdHRpbmcgbGFuZ3VhZ2Uga2V5IGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlcnMgbG9jYWxlLFxuICAgKiBjb25zaWRlcmluZyB5b3VyIGxhbmd1YWdlIGtleSBjb252ZW50aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFuZ3VhZ2VLZXlzIEFycmF5IG9mIGxhbmd1YWdlIGtleXMgdGhlIHlvdXIgYXBwIHdpbGwgdXNlXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gYWxpYXNlcyBBbGlhcyBtYXAuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gZnVuY3Rpb24gKGxhbmd1YWdlS2V5cywgYWxpYXNlcykge1xuICAgIGlmIChsYW5ndWFnZUtleXMpIHtcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBsYW5ndWFnZUtleXM7XG4gICAgICBpZiAoYWxpYXNlcykge1xuICAgICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzID0gYWxpYXNlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlckNhY2hlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgY2FjaGUgZm9yIGludGVybmFsICRodHRwIGJhc2VkIGxvYWRlcnMuXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXG4gICAqIFdoZW4gZmFsc2UgdGhlIGNhY2hlIHdpbGwgYmUgZGlzYWJsZWQgKGRlZmF1bHQpLiBXaGVuIHRydWUgb3IgdW5kZWZpbmVkXG4gICAqIHRoZSBjYWNoZSB3aWxsIGJlIGEgZGVmYXVsdCAoc2VlICRjYWNoZUZhY3RvcnkpLiBXaGVuIGFuIG9iamVjdCBpdCB3aWxsXG4gICAqIGJlIHRyZWF0IGFzIGEgY2FjaGUgb2JqZWN0IGl0c2VsZjogdGhlIHVzYWdlIGlzICRodHRwKHtjYWNoZTogY2FjaGV9KVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FjaGUgYm9vbGVhbiwgc3RyaW5nIG9yIGNhY2hlLW9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VMb2FkZXJDYWNoZSA9IGZ1bmN0aW9uIChjYWNoZSkge1xuICAgIGlmIChjYWNoZSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGRpc2FibGUgY2FjaGVcbiAgICAgIGxvYWRlckNhY2hlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoY2FjaGUgPT09IHRydWUpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBBSlMgZGVmYXVsdHNcbiAgICAgIGxvYWRlckNhY2hlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihjYWNoZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgZGVmYXVsdFxuICAgICAgbG9hZGVyQ2FjaGUgPSAnJHRyYW5zbGF0aW9uQ2FjaGUnO1xuICAgIH0gZWxzZSBpZiAoY2FjaGUpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBnaXZlbiBvbmUgKHNlZSAkY2FjaGVGYWN0b3J5KVxuICAgICAgbG9hZGVyQ2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBvYmplY3RcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAgICogQHJlcXVpcmVzICRsb2dcbiAgICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAgICogQHJlcXVpcmVzICRxXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgYCR0cmFuc2xhdGVgIHNlcnZpY2UgaXMgdGhlIGFjdHVhbCBjb3JlIG9mIGFuZ3VsYXItdHJhbnNsYXRlLiBJdCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogYW5kIG9wdGlvbmFsIGludGVycG9sYXRlIHBhcmFtZXRlcnMgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgJHRyYW5zbGF0ZSgnSEVBRExJTkVfVEVYVCcpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAqICAgICRzY29wZS50cmFuc2xhdGVkVGV4dCA9IHRyYW5zbGF0aW9uO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIHRoYXQgdGhlIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IHdoZXJlIGVhY2gga2V5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIHRoZSB0cmFuc2xhdGlvbiBpZCBhbmQgdGhlIHZhbHVlIHRoZSB0cmFuc2xhdGlvbi5cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBpbnRlcnBvbGF0ZVBhcmFtcyBBbiBvYmplY3QgaGFzaCBmb3IgZHluYW1pYyB2YWx1ZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGludGVycG9sYXRpb25JZCBUaGUgaWQgb2YgdGhlIGludGVycG9sYXRpb24gdG8gdXNlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHByb21pc2VcbiAgICovXG4gIHRoaXMuJGdldCA9IFtcbiAgICAnJGxvZycsXG4gICAgJyRpbmplY3RvcicsXG4gICAgJyRyb290U2NvcGUnLFxuICAgICckcScsXG4gICAgZnVuY3Rpb24gKCRsb2csICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEpIHtcblxuICAgICAgdmFyIFN0b3JhZ2UsXG4gICAgICAgICAgZGVmYXVsdEludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoJGludGVycG9sYXRpb25GYWN0b3J5IHx8ICckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nKSxcbiAgICAgICAgICBwZW5kaW5nTG9hZGVyID0gZmFsc2UsXG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcCA9IHt9LFxuICAgICAgICAgIGxhbmdQcm9taXNlcyA9IHt9LFxuICAgICAgICAgIGZhbGxiYWNrSW5kZXgsXG4gICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbjtcblxuICAgICAgdmFyICR0cmFuc2xhdGUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgLy8gSW5zcGlyZWQgYnkgUS5hbGxTZXR0bGVkIGJ5IEtyaXMgS293YWxcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EvYmxvYi9iMGZhNzI5ODA3MTdkYzIwMmZmYzNjYmYwM2I5MzZlMTBlYmJiOWQ3L3EuanMjTDE1NTMtMTU2M1xuICAgICAgICAgIC8vIFRoaXMgdHJhbnNmb3JtcyBhbGwgcHJvbWlzZXMgcmVnYXJkbGVzcyByZXNvbHZlZCBvciByZWplY3RlZFxuICAgICAgICAgIHZhciB0cmFuc2xhdGVBbGwgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0ge307IC8vIHN0b3JpbmcgdGhlIGFjdHVhbCByZXN1bHRzXG4gICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTsgLy8gcHJvbWlzZXMgdG8gd2FpdCBmb3JcbiAgICAgICAgICAgIC8vIFdyYXBzIHRoZSBwcm9taXNlIGEpIGJlaW5nIGFsd2F5cyByZXNvbHZlZCBhbmQgYikgc3RvcmluZyB0aGUgbGluayBpZC0+dmFsdWVcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICB2YXIgcmVnYXJkbGVzcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKFt0cmFuc2xhdGlvbklkLCB2YWx1ZV0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBjYXJlIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlc29sdmVkIG9yIHJlamVjdGVkOyBqdXN0IHN0b3JlIHRoZSB2YWx1ZXNcbiAgICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKS50aGVuKHJlZ2FyZGxlc3MsIHJlZ2FyZGxlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYyA9IHRyYW5zbGF0aW9uSWRzLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2FpdCBmb3IgYWxsIChpbmNsdWRpbmcgc3RvcmluZyB0byByZXN1bHRzKVxuICAgICAgICAgICAgcmV0dXJuICRxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcmVzdWx0c1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZUFsbCh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgLy8gdHJpbSBvZmYgYW55IHdoaXRlc3BhY2VcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm9taXNlVG9XYWl0Rm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRwcmVmZXJyZWRMYW5ndWFnZSA/XG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJHByZWZlcnJlZExhbmd1YWdlXSA6XG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJHVzZXNdO1xuXG4gICAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG5cbiAgICAgICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5ICYmICFwcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZXJlJ3Mgbm8gcGVuZGluZyBwcm9taXNlIGZvciAkcHJlZmVycmVkTGFuZ3VhZ2Ugb3JcbiAgICAgICAgICAgIC8vICR1c2VzLiBNYXliZSB0aGVyZSdzIG9uZSBwZW5kaW5nIGZvciBhIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbVxuICAgICAgICAgICAgLy8gc3RvcmFnZS5cbiAgICAgICAgICAgIHZhciBsYW5nS2V5ID0gU3RvcmFnZS5nZXQoJHN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IGxhbmdQcm9taXNlc1tsYW5nS2V5XTtcblxuICAgICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgICAgIC8vIG1heWJlIHRoZSBsYW5ndWFnZSBmcm9tIHN0b3JhZ2UgaXMgYWxzbyBkZWZpbmVkIGFzIGZhbGxiYWNrIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gd2UgaW5jcmVhc2UgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIGluZGV4IHRvIG5vdCBzZWFyY2ggaW4gdGhhdCBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIC8vIGFzIGZhbGxiYWNrLCBzaW5jZSBpdCdzIHByb2JhYmx5IHRoZSBmaXJzdCB1c2VkIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIHRoZSBpbmRleCBzdGFydHMgYWZ0ZXIgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gKGluZGV4ID09PSAwKSA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgLy8gYnV0IHdlIGNhbiBtYWtlIHN1cmUgdG8gQUxXQVlTIGZhbGxiYWNrIHRvIHByZWZlcnJlZCBsYW5ndWFnZSBhdCBsZWFzdFxuICAgICAgICAgICAgICAgIGlmIChpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCAkcHJlZmVycmVkTGFuZ3VhZ2UpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgaWYgKCFwcm9taXNlVG9XYWl0Rm9yKSB7XG4gICAgICAgICAgLy8gbm8gcHJvbWlzZSB0byB3YWl0IGZvcj8gb2theS4gVGhlbiB0aGVyZSdzIG5vIGxvYWRlciByZWdpc3RlcmVkXG4gICAgICAgICAgLy8gbm9yIGlzIGEgb25lIHBlbmRpbmcgZm9yIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbSBzdG9yYWdlLlxuICAgICAgICAgIC8vIFdlIGNhbiBqdXN0IHRyYW5zbGF0ZS5cbiAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvbWlzZVRvV2FpdEZvci50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9LCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBhcHBseU5vdEZvdW5kSW5kaWNhdG9yc1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFwcGxpZXMgbm90IGZvdW50IGluZGljYXRvcnMgdG8gZ2l2ZW4gdHJhbnNsYXRpb24gaWQsIGlmIG5lZWRlZC5cbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gZ2V0cyBvbmx5IGV4ZWN1dGVkLCBpZiBhIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3QsXG4gICAgICAgKiB3aGljaCBpcyB3aHkgYSB0cmFuc2xhdGlvbiBpZCBpcyBleHBlY3RlZCBhcyBhcmd1bWVudC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBUcmFuc2xhdGlvbiBpZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbWUgYXMgZ2l2ZW4gdHJhbnNsYXRpb24gaWQgYnV0IGFwcGxpZWQgd2l0aCBub3QgZm91bmRcbiAgICAgICAqIGluZGljYXRvcnMuXG4gICAgICAgKi9cbiAgICAgIHZhciBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgIC8vIGFwcGx5aW5nIG5vdEZvdW5kSW5kaWNhdG9yc1xuICAgICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBbJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCwgdHJhbnNsYXRpb25JZF0uam9pbignICcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JSaWdodCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBbdHJhbnNsYXRpb25JZCwgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHRdLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgdXNlTGFuZ3VhZ2VcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBNYWtlcyBhY3R1YWwgdXNlIG9mIGEgbGFuZ3VhZ2UgYnkgc2V0dGluZyBhIGdpdmVuIGxhbmd1YWdlIGtleSBhcyB1c2VkXG4gICAgICAgKiBsYW5ndWFnZSBhbmQgaW5mb3JtcyByZWdpc3RlcmVkIGludGVycG9sYXRvcnMgdG8gYWxzbyB1c2UgdGhlIGdpdmVuXG4gICAgICAgKiBrZXkgYXMgbG9jYWxlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7a2V5fSBMb2NhbGUga2V5LlxuICAgICAgICovXG4gICAgICB2YXIgdXNlTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICR1c2VzID0ga2V5O1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgICAgIFN0b3JhZ2UucHV0KCR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLCAkdXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5mb3JtIGRlZmF1bHQgaW50ZXJwb2xhdG9yXG4gICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgLy8gaW5mb3JtIGFsbCBvdGhlcnMgdG9vIVxuICAgICAgICBhbmd1bGFyLmZvckVhY2goaW50ZXJwb2xhdG9ySGFzaE1hcCwgZnVuY3Rpb24gKGludGVycG9sYXRvciwgaWQpIHtcbiAgICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2lkXS5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGxvYWRBc3luY1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEtpY2tzIG9mIHJlZ2lzdGVyZWQgYXN5bmMgbG9hZGVyIHVzaW5nIGAkaW5qZWN0b3JgIGFuZCBhcHBsaWVzIGV4aXN0aW5nXG4gICAgICAgKiBsb2FkZXIgb3B0aW9ucy4gV2hlbiByZXNvbHZlZCwgaXQgdXBkYXRlcyB0cmFuc2xhdGlvbiB0YWJsZXMgYWNjb3JkaW5nbHlcbiAgICAgICAqIG9yIHJlamVjdHMgd2l0aCBnaXZlbiBsYW5ndWFnZSBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMYW5ndWFnZSBrZXkuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UuXG4gICAgICAgKi9cbiAgICAgIHZhciBsb2FkQXN5bmMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgdGhyb3cgJ05vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgZm9yIGxvYWRpbmcuJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgIHBlbmRpbmdMb2FkZXIgPSB0cnVlO1xuXG4gICAgICAgIHZhciBjYWNoZSA9IGxvYWRlckNhY2hlO1xuICAgICAgICBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyBnZXR0aW5nIG9uLWRlbWFuZCBpbnN0YW5jZSBvZiBsb2FkZXJcbiAgICAgICAgICBjYWNoZSA9ICRpbmplY3Rvci5nZXQoY2FjaGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvYWRlck9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJGxvYWRlck9wdGlvbnMsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAkaHR0cDogYW5ndWxhci5leHRlbmQoe30sIHtcbiAgICAgICAgICAgIGNhY2hlOiBjYWNoZVxuICAgICAgICAgIH0sICRsb2FkZXJPcHRpb25zLiRodHRwKVxuICAgICAgICB9KTtcblxuICAgICAgICAkaW5qZWN0b3IuZ2V0KCRsb2FkZXJGYWN0b3J5KShsb2FkZXJPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uVGFibGUgPSB7fTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N1Y2Nlc3MnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0cmFuc2xhdGlvblRhYmxlLCBmbGF0T2JqZWN0KHRhYmxlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdChkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdGFibGU6IHRyYW5zbGF0aW9uVGFibGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0VuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0Vycm9yJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0VuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgICAgU3RvcmFnZSA9ICRpbmplY3Rvci5nZXQoJHN0b3JhZ2VGYWN0b3J5KTtcblxuICAgICAgICBpZiAoIVN0b3JhZ2UuZ2V0IHx8ICFTdG9yYWdlLnB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2Ugc3RvcmFnZSBcXCcnICsgJHN0b3JhZ2VGYWN0b3J5ICsgJ1xcJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgYWRkaXRpb25hbCBzZXR0aW5nc1xuICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihkZWZhdWx0SW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSkpIHtcbiAgICAgICAgZGVmYXVsdEludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHdlIGhhdmUgYWRkaXRpb25hbCBpbnRlcnBvbGF0aW9ucyB0aGF0IHdlcmUgYWRkZWQgdmlhXG4gICAgICAvLyAkdHJhbnNsYXRlUHJvdmlkZXIuYWRkSW50ZXJwb2xhdGlvbigpLCB3ZSBoYXZlIHRvIG1hcCdlbVxuICAgICAgaWYgKCRpbnRlcnBvbGF0b3JGYWN0b3JpZXMubGVuZ3RoKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLCBmdW5jdGlvbiAoaW50ZXJwb2xhdG9yRmFjdG9yeSkge1xuICAgICAgICAgIHZhciBpbnRlcnBvbGF0b3IgPSAkaW5qZWN0b3IuZ2V0KGludGVycG9sYXRvckZhY3RvcnkpO1xuICAgICAgICAgIC8vIHNldHRpbmcgaW5pdGlhbCBsb2NhbGUgZm9yIGVhY2ggaW50ZXJwb2xhdGlvbiBzZXJ2aWNlXG4gICAgICAgICAgaW50ZXJwb2xhdG9yLnNldExvY2FsZSgkcHJlZmVycmVkTGFuZ3VhZ2UgfHwgJHVzZXMpO1xuICAgICAgICAgIC8vIGFwcGx5IGFkZGl0aW9uYWwgc2V0dGluZ3NcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kpKSB7XG4gICAgICAgICAgICBpbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBtYWtlJ2VtIHJlY29nbml6YWJsZSB0aHJvdWdoIGlkXG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIoKV0gPSBpbnRlcnBvbGF0b3I7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldFRyYW5zbGF0aW9uVGFibGVcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbiB0YWJsZVxuICAgICAgICogb3IgaXMgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igb2NjdXJyZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGxhbmdLZXlcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICAgKi9cbiAgICAgIHZhciBnZXRUcmFuc2xhdGlvblRhYmxlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkdHJhbnNsYXRpb25UYWJsZSwgbGFuZ0tleSkpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKTtcbiAgICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNbbGFuZ0tleV0pIHtcbiAgICAgICAgICBsYW5nUHJvbWlzZXNbbGFuZ0tleV0udGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS50YWJsZSk7XG4gICAgICAgICAgfSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvblxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHRvIHRoZSB0cmFuc2xhdGlvblxuICAgICAgICogb3IgYmUgcmVqZWN0ZWQgaWYgbm8gdHJhbnNsYXRpb24gd2FzIGZvdW5kIGZvciB0aGUgbGFuZ3VhZ2UuXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5IFRoZSBsYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8uXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfVxuICAgICAgICovXG4gICAgICB2YXIgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgZ2V0VHJhbnNsYXRpb25UYWJsZShsYW5nS2V5KS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0cmFuc2xhdGlvblRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlUGFyYW1zKSk7XG4gICAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudFxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvblxuICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBjdXJyZW50bHkgb25seSB1c2VkIGZvciBmYWxsYmFjayBsYW5ndWFnZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdCwgdHJhbnNsYXRpb25UYWJsZSA9ICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldO1xuXG4gICAgICAgIGlmICh0cmFuc2xhdGlvblRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0cmFuc2xhdGlvblRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XG4gICAgICAgICAgcmVzdWx0ID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgdHJhbnNsYXRlQnlIYW5kbGVyXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIFRyYW5zbGF0ZSBieSBtaXNzaW5nIHRyYW5zbGF0aW9uIGhhbmRsZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEByZXR1cm5zIHRyYW5zbGF0aW9uIGNyZWF0ZWQgYnkgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgb3IgdHJhbnNsYXRpb25JZCBpcyAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciBpc1xuICAgICAgICogYWJzZW50XG4gICAgICAgKi9cbiAgICAgIHZhciB0cmFuc2xhdGVCeUhhbmRsZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgaGFuZGxlciBmYWN0b3J5IC0gd2UgbWlnaHQgYWxzbyBjYWxsIGl0IGhlcmUgdG8gZGV0ZXJtaW5lIGlmIGl0IHByb3ZpZGVzXG4gICAgICAgIC8vIGEgZGVmYXVsdCB0ZXh0IGZvciBhIHRyYW5zbGF0aW9uaWQgdGhhdCBjYW4ndCBiZSBmb3VuZCBhbnl3aGVyZSBpbiBvdXIgdGFibGVzXG4gICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0U3RyaW5nID0gJGluamVjdG9yLmdldCgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpKHRyYW5zbGF0aW9uSWQsICR1c2VzKTtcbiAgICAgICAgICBpZiAocmVzdWx0U3RyaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRTdHJpbmc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xuICAgICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICovXG4gICAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcbiAgICAgICAgICBnZXRGYWxsYmFja1RyYW5zbGF0aW9uKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpLnRoZW4oXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyBMb29rIGluIHRoZSBuZXh0IGZhbGxiYWNrIGxhbmd1YWdlIGZvciBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgICAgICAvLyBJdCBkZWxheXMgdGhlIHJlc29sdmluZyBieSBwYXNzaW5nIGFub3RoZXIgcHJvbWlzZSB0byByZXNvbHZlLlxuICAgICAgICAgICAgICByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZShmYWxsYmFja0xhbmd1YWdlSW5kZXggKyAxLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKS50aGVuKGRlZmVycmVkLnJlc29sdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gdHJhbnNsYXRpb24gZm91bmQgaW4gYW55IGZhbGxiYWNrIGxhbmd1YWdlXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnRcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgICAqIGZvciBhIHRyYW5zbGF0aW9uIGluIHRoZSBmYWxsYmFja0xhbmd1YWdlcyBzdGFydGluZyB3aXRoIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50ID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICAgIGlmIChmYWxsYmFja0xhbmd1YWdlSW5kZXggPCAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgICAgcmVzdWx0ID0gZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudChmYWxsYmFja0xhbmd1YWdlSW5kZXggKyAxLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UsIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICovXG4gICAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICAgIHJldHVybiByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZSgoc3RhcnRGYWxsYmFja0l0ZXJhdGlvbj4wID8gc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA6IGZhbGxiYWNrSW5kZXgpLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIHZhciBmYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICAgIHJldHVybiByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24+MCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgdmFyIHRhYmxlID0gJHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVskdXNlc10gOiAkdHJhbnNsYXRpb25UYWJsZSxcbiAgICAgICAgICAgIEludGVycG9sYXRvciA9IChpbnRlcnBvbGF0aW9uSWQpID8gaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0aW9uSWRdIDogZGVmYXVsdEludGVycG9sYXRvcjtcblxuICAgICAgICAvLyBpZiB0aGUgdHJhbnNsYXRpb24gaWQgZXhpc3RzLCB3ZSBjYW4ganVzdCBpbnRlcnBvbGF0ZSBpdFxuICAgICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuXG4gICAgICAgICAgLy8gSWYgdXNpbmcgbGluaywgcmVydW4gJHRyYW5zbGF0ZSB3aXRoIGxpbmtlZCB0cmFuc2xhdGlvbklkIGFuZCByZXR1cm4gaXRcbiAgICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG5cbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKVxuICAgICAgICAgICAgICAudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcbiAgICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZWQuXG4gICAgICAgICAgaWYgKCR1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZmFsbGJhY2tUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKF90cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnMoX3RyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0cy5cbiAgICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIHZhciByZXN1bHQsIHRhYmxlID0gJHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVskdXNlc10gOiAkdHJhbnNsYXRpb25UYWJsZSxcbiAgICAgICAgICAgIEludGVycG9sYXRvciA9IChpbnRlcnBvbGF0aW9uSWQpID8gaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0aW9uSWRdIDogZGVmYXVsdEludGVycG9sYXRvcjtcblxuICAgICAgICAvLyBpZiB0aGUgdHJhbnNsYXRpb24gaWQgZXhpc3RzLCB3ZSBjYW4ganVzdCBpbnRlcnBvbGF0ZSBpdFxuICAgICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuXG4gICAgICAgICAgLy8gSWYgdXNpbmcgbGluaywgcmVydW4gJHRyYW5zbGF0ZSB3aXRoIGxpbmtlZCB0cmFuc2xhdGlvbklkIGFuZCByZXR1cm4gaXRcbiAgICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgLy8gZm9yIGxvZ2dpbmcgcHVycG9zZXMgb25seSAoYXMgaW4gJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cpLCB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgdG8gcHJvbWlzZVxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzaW5jZSB3ZSBjb3VsZG4ndCB0cmFuc2xhdGUgdGhlIGluaXRhbCByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQsXG4gICAgICAgICAgLy8gd2UgdHJ5IGl0IG5vdyB3aXRoIG9uZSBvciBtb3JlIGZhbGxiYWNrIGxhbmd1YWdlcywgaWYgZmFsbGJhY2sgbGFuZ3VhZ2UocykgaXNcbiAgICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICAgIGlmICgkdXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAwO1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cbiAgICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgIHJlc3VsdCA9IG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBmb3IgdGhlIHByZWZlcnJlZCBsYW5ndWFnZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgdG8gYmUgdXNlZCBhcyBwcmVmZXJyZWRMYW5ndWFnZSAoY2hhbmdpbmcgYXQgcnVudGltZSlcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByZWZlcnJlZCBsYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmKGxhbmdLZXkpIHtcbiAgICAgICAgICBzZXR1cFByZWZlcnJlZExhbmd1YWdlKGxhbmdLZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2Nsb2FrQ2xhc3NOYW1lXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmVkIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNsb2FrQ2xhc3NOYW1lXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBmb3IgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcyBvciBzZXRzIGEgbmV3IGZhbGxiYWNrIHN0YWNrLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgb2YgZmFsbGJhY2sgbGFuZ3VhZ2VzIHRvIGJlIHVzZWQgKHRvIGNoYW5nZSBzdGFjayBhdCBydW50aW1lKVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ3x8YXJyYXl9IGZhbGxiYWNrIGxhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZiAobGFuZ0tleSAhPT0gdW5kZWZpbmVkICYmIGxhbmdLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICBmYWxsYmFja1N0YWNrKGxhbmdLZXkpO1xuXG4gICAgICAgICAgLy8gYXMgd2UgbWlnaHQgaGF2ZSBhbiBhc3luYyBsb2FkZXIgaW5pdGlhdGVkIGFuZCBhIG5ldyB0cmFuc2xhdGlvbiBsYW5ndWFnZSBtaWdodCBoYXZlIGJlZW4gZGVmaW5lZFxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gYWRkIHRoZSBwcm9taXNlIHRvIHRoZSBzdGFjayBhbHNvLiBTbyAtIGl0ZXJhdGUuXG4gICAgICAgICAgaWYgKCRsb2FkZXJGYWN0b3J5KSB7XG4gICAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSkge1xuICAgICAgICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2VbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgICB9XG5cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlRmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2V0cyB0aGUgZmlyc3Qga2V5IG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBzdGFjayB0byBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbi5cbiAgICAgICAqIFRoZXJlZm9yZSBhbGwgbGFuZ3VhZ2VzIGluIHRoZSBmYWxsYmFjayBhcnJheSBCRUZPUkUgdGhpcyBrZXkgd2lsbCBiZSBza2lwcGVkIVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBDb250YWlucyB0aGUgbGFuZ0tleSB0aGUgaXRlcmF0aW9uIHNoYWxsIHN0YXJ0IHdpdGguIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCB0b1xuICAgICAgICogZ2V0IGJhY2sgdG8gdGhlIHdob2xlIHN0YWNrXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUudXNlRmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICghbGFuZ0tleSkge1xuICAgICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA9IDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsYW5nS2V5UG9zaXRpb24gPSBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCBsYW5nS2V5KTtcbiAgICAgICAgICAgIGlmIChsYW5nS2V5UG9zaXRpb24gPiAtMSkge1xuICAgICAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gbGFuZ0tleVBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcHJvcG9zZWRMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IG9mIGxhbmd1YWdlIHRoYXQgaXMgY3VycmVudGx5IGxvYWRlZCBhc3luY2hyb25vdXNseS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGxhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnByb3Bvc2VkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkbmV4dExhbmc7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3N0b3JhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgcmVnaXN0ZXJlZCBzdG9yYWdlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge29iamVjdH0gU3RvcmFnZVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBTdG9yYWdlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGxhbmd1YWdlIHRvIHVzZSBieSBnaXZlbiBsYW5ndWFnZSBrZXkuIFRoaXMgbWV0aG9kIGlzXG4gICAgICAgKiB1c2VkIHRvIGNoYW5nZSBsYW5ndWFnZSBhdCBydW50aW1lLiBJdCBhbHNvIHRha2VzIGNhcmUgb2Ygc3RvcmluZyB0aGUgbGFuZ3VhZ2VcbiAgICAgICAqIGtleSBpbiBhIGNvbmZpZ3VyZWQgc3RvcmUgdG8gbGV0IHlvdXIgYXBwIHJlbWVtYmVyIHRoZSBjaG9vc2VkIGxhbmd1YWdlLlxuICAgICAgICpcbiAgICAgICAqIFdoZW4gdHJ5aW5nIHRvICd1c2UnIGEgbGFuZ3VhZ2Ugd2hpY2ggaXNuJ3QgYXZhaWxhYmxlIGl0IHRyaWVzIHRvIGxvYWQgaXRcbiAgICAgICAqIGFzeW5jaHJvbm91c2x5IHdpdGggcmVnaXN0ZXJlZCBsb2FkZXJzLlxuICAgICAgICpcbiAgICAgICAqIFJldHVybnMgcHJvbWlzZSBvYmplY3Qgd2l0aCBsb2FkZWQgbGFuZ3VhZ2UgZmlsZSBkYXRhXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogJHRyYW5zbGF0ZS51c2UoXCJlbl9VU1wiKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICogICAkc2NvcGUudGV4dCA9ICR0cmFuc2xhdGUoXCJIRUxMT1wiKTtcbiAgICAgICAqIH0pO1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5XG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IExhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnVzZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICByZXR1cm4gJHVzZXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGdldCB0aGUgYWxpYXNlZCBsYW5ndWFnZSBrZXlcbiAgICAgICAgdmFyIGFsaWFzZWRLZXkgPSBuZWdvdGlhdGVMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGFsaWFzZWRLZXkpIHtcbiAgICAgICAgICBrZXkgPSBhbGlhc2VkS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXNuJ3QgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGxhbmd1YWdlIHdlJ3ZlIHJlcXVlc3RlZCxcbiAgICAgICAgLy8gd2UgbG9hZCBpdCBhc3luY2hyb25vdXNseVxuICAgICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2tleV0gJiYgJGxvYWRlckZhY3RvcnkgJiYgIWxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgICAgJG5leHRMYW5nID0ga2V5O1xuICAgICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24ua2V5KTtcblxuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgICAkbmV4dExhbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICRuZXh0TGFuZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFcnJvcicsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoa2V5KTtcbiAgICAgICAgICB1c2VMYW5ndWFnZShrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3N0b3JhZ2VLZXlcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBzdG9yYWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdG9yYWdlS2V5KCk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzUG9zdENvbXBpbGluZ0VuYWJsZWRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgd2hldGhlciBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkIG9yIG5vdFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2x9IHN0b3JhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRwb3N0Q29tcGlsaW5nRW5hYmxlZDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcmVmcmVzaFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmcmVzaGVzIGEgdHJhbnNsYXRpb24gdGFibGUgcG9pbnRlZCBieSB0aGUgZ2l2ZW4gbGFuZ0tleS4gSWYgbGFuZ0tleSBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAgICogdGhlIG1vZHVsZSB3aWxsIGRyb3AgYWxsIGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgbG9hZCBuZXcgdmVyc2lvbiBvZiB0aG9zZSB3aGljaFxuICAgICAgICogYXJlIGN1cnJlbnRseSBpbiB1c2UuXG4gICAgICAgKlxuICAgICAgICogUmVmcmVzaCBtZWFucyB0aGF0IHRoZSBtb2R1bGUgd2lsbCBkcm9wIHRhcmdldCB0cmFuc2xhdGlvbiB0YWJsZSBhbmQgdHJ5IHRvIGxvYWQgaXQgYWdhaW4uXG4gICAgICAgKlxuICAgICAgICogSW4gY2FzZSB0aGVyZSBhcmUgbm8gbG9hZGVycyByZWdpc3RlcmVkIHRoZSByZWZyZXNoKCkgbWV0aG9kIHdpbGwgdGhyb3cgYW4gRXJyb3IuXG4gICAgICAgKlxuICAgICAgICogSWYgdGhlIG1vZHVsZSBpcyBhYmxlIHRvIHJlZnJlc2ggdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2goKSBtZXRob2Qgd2lsbCBicm9hZGNhc3RcbiAgICAgICAqICR0cmFuc2xhdGVSZWZyZXNoU3RhcnQgYW5kICR0cmFuc2xhdGVSZWZyZXNoRW5kIGV2ZW50cy5cbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogLy8gdGhpcyB3aWxsIGRyb3AgYWxsIGN1cnJlbnRseSBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIHJlbG9hZCB0aG9zZSB3aGljaCBhcmVcbiAgICAgICAqIC8vIGN1cnJlbnRseSBpbiB1c2VcbiAgICAgICAqICR0cmFuc2xhdGUucmVmcmVzaCgpO1xuICAgICAgICogLy8gdGhpcyB3aWxsIHJlZnJlc2ggYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGVuX1VTIGxhbmd1YWdlXG4gICAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goJ2VuX1VTJyk7XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkgb2YgdGhlIHRhYmxlLCB3aGljaCBoYXMgdG8gYmUgcmVmcmVzaGVkXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7cHJvbWlzZX0gUHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCBpbiBjYXNlIGEgdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2hpbmdcbiAgICAgICAqIHByb2Nlc3MgaXMgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5LCBhbmQgcmVqZWN0IGlmIG5vdC5cbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5yZWZyZXNoID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKCEkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlLCBubyBsb2FkZXIgcmVnaXN0ZXJlZCEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2U6IGxhbmdLZXl9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuXG4gICAgICAgIGlmICghbGFuZ0tleSkge1xuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCB3ZSByZWZyZXNoIEFMTCBUSEUgVEhJTkdTIVxuICAgICAgICAgIHZhciB0YWJsZXMgPSBbXSwgbG9hZGluZ0tleXMgPSB7fTtcblxuICAgICAgICAgIC8vIHJlbG9hZCByZWdpc3RlcmVkIGZhbGxiYWNrIGxhbmd1YWdlc1xuICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pKTtcbiAgICAgICAgICAgICAgbG9hZGluZ0tleXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZWxvYWQgY3VycmVudGx5IHVzZWQgbGFuZ3VhZ2VcbiAgICAgICAgICBpZiAoJHVzZXMgJiYgIWxvYWRpbmdLZXlzWyR1c2VzXSkge1xuICAgICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCR1c2VzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJHEuYWxsKHRhYmxlcykudGhlbihmdW5jdGlvbiAodGFibGVEYXRhKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGFibGVEYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbZGF0YS5rZXldKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICR0cmFuc2xhdGlvblRhYmxlW2RhdGEua2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoJHVzZXMpIHtcbiAgICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pIHtcblxuICAgICAgICAgIGxvYWRBc3luYyhsYW5nS2V5KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgICAgaWYgKGxhbmdLZXkgPT09ICR1c2VzKSB7XG4gICAgICAgICAgICAgIHVzZUxhbmd1YWdlKCR1c2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2luc3RhbnRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvbiBpbnN0YW50bHkgZnJvbSB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgbG9hZGVkIHRyYW5zbGF0aW9uLiBBbGwgcnVsZXNcbiAgICAgICAqIHJlZ2FyZGluZyB0aGUgY3VycmVudCBsYW5ndWFnZSwgdGhlIHByZWZlcnJlZCBsYW5ndWFnZSBvZiBldmVuIGZhbGxiYWNrIGxhbmd1YWdlcyB3aWxsIGJlXG4gICAgICAgKiB1c2VkIGV4Y2VwdCBhbnkgcHJvbWlzZSBoYW5kbGluZy4gSWYgYSBsYW5ndWFnZSB3YXMgbm90IGZvdW5kLCBhbiBhc3luY2hyb25vdXMgbG9hZGluZ1xuICAgICAgICogd2lsbCBiZSBpbnZva2VkIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSB0cmFuc2xhdGlvbklkIEEgdG9rZW4gd2hpY2ggcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbidzIHByb21pc2UgcmV0dXJucyBhbiBvYmplY3Qgd2hlcmVcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2gga2V5IGlzIHRoZSB0cmFuc2xhdGlvbiBpZCBhbmQgdGhlIHZhbHVlIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbnRlcnBvbGF0ZVBhcmFtcyBQYXJhbXNcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uSWQgVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5pbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICAvLyBEZXRlY3QgdW5kZWZpbmVkIGFuZCBudWxsIHZhbHVlcyB0byBzaG9ydGVuIHRoZSBleGVjdXRpb24gYW5kIHByZXZlbnQgZXhjZXB0aW9uc1xuICAgICAgICBpZiAodHJhbnNsYXRpb25JZCA9PT0gbnVsbCB8fCBhbmd1bGFyLmlzVW5kZWZpbmVkKHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHZhciByZXN1bHRzID0ge307XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0c1t0cmFuc2xhdGlvbklkW2ldXSA9ICR0cmFuc2xhdGUuaW5zdGFudCh0cmFuc2xhdGlvbklkW2ldLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBkaXNjYXJkZWQgdW5hY2NlcHRhYmxlIHZhbHVlcy4gU28gd2UganVzdCBuZWVkIHRvIHZlcmlmeSBpZiB0cmFuc2xhdGlvbklkIGlzIGVtcHR5IFN0cmluZ1xuICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyh0cmFuc2xhdGlvbklkKSAmJiB0cmFuc2xhdGlvbklkLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0LCBwb3NzaWJsZUxhbmdLZXlzID0gW107XG4gICAgICAgIGlmICgkcHJlZmVycmVkTGFuZ3VhZ2UpIHtcbiAgICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJHVzZXMpIHtcbiAgICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2goJHVzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBwb3NzaWJsZUxhbmdLZXlzID0gcG9zc2libGVMYW5nS2V5cy5jb25jYXQoJGZhbGxiYWNrTGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBkID0gcG9zc2libGVMYW5nS2V5cy5sZW5ndGg7IGogPCBkOyBqKyspIHtcbiAgICAgICAgICB2YXIgcG9zc2libGVMYW5nS2V5ID0gcG9zc2libGVMYW5nS2V5c1tqXTtcbiAgICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldW3RyYW5zbGF0aW9uSWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZXN1bHQgJiYgcmVzdWx0ICE9PSAnJykge1xuICAgICAgICAgIC8vIFJldHVybiB0cmFuc2xhdGlvbiBvZiBkZWZhdWx0IGludGVycG9sYXRvciBpZiBub3QgZm91bmQgYW55dGhpbmcuXG4gICAgICAgICAgcmVzdWx0ID0gZGVmYXVsdEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgcmVzdWx0ID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ZlcnNpb25JbmZvXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZlcnNpb24gaW5mb3JtYXRpb24gZm9yIHRoZSBhbmd1bGFyLXRyYW5zbGF0ZSBsaWJyYXJ5XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBhbmd1bGFyLXRyYW5zbGF0ZSB2ZXJzaW9uXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUudmVyc2lvbkluZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNsb2FkZXJDYWNoZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgZGVmaW5lZCBsb2FkZXJDYWNoZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ3xvYmplY3R9IGN1cnJlbnQgdmFsdWUgb2YgbG9hZGVyQ2FjaGVcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5sb2FkZXJDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlckNhY2hlO1xuICAgICAgfTtcblxuICAgICAgaWYgKCRsb2FkZXJGYWN0b3J5KSB7XG5cbiAgICAgICAgLy8gSWYgYXQgbGVhc3Qgb25lIGFzeW5jIGxvYWRlciBpcyBkZWZpbmVkIGFuZCB0aGVyZSBhcmUgbm9cbiAgICAgICAgLy8gKGRlZmF1bHQpIHRyYW5zbGF0aW9ucyBhdmFpbGFibGUgd2Ugc2hvdWxkIHRyeSB0byBsb2FkIHRoZW0uXG4gICAgICAgIGlmIChhbmd1bGFyLmVxdWFscygkdHJhbnNsYXRpb25UYWJsZSwge30pKSB7XG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbHNvLCBpZiB0aGVyZSBhcmUgYW55IGZhbGxiYWNrIGxhbmd1YWdlIHJlZ2lzdGVyZWQsIHdlIHN0YXJ0XG4gICAgICAgIC8vIGxvYWRpbmcgdGhlbSBhc3luY2hyb25vdXNseSBhcyBzb29uIGFzIHdlIGNhbi5cbiAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwcm9jZXNzQXN5bmNSZXN1bHQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7IGxhbmd1YWdlOiB0cmFuc2xhdGlvbi5rZXkgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSBsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pLnRoZW4ocHJvY2Vzc0FzeW5jUmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuICR0cmFuc2xhdGU7XG4gICAgfVxuICBdO1xufV0pO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2VzIGFuZ3VsYXIncyBgJGludGVycG9sYXRlYCBzZXJ2aWNlcyB0byBpbnRlcnBvbGF0ZSBzdHJpbmdzIGFnYWluc3Qgc29tZSB2YWx1ZXMuXG4gKlxuICogQHJldHVybiB7b2JqZWN0fSAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIEludGVycG9sYXRvciBzZXJ2aWNlXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykuZmFjdG9yeSgnJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uJywgWyckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbiAoJGludGVycG9sYXRlKSB7XG5cbiAgdmFyICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IgPSB7fSxcbiAgICAgICRsb2NhbGUsXG4gICAgICAkaWRlbnRpZmllciA9ICdkZWZhdWx0JyxcbiAgICAgICRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBudWxsLFxuICAgICAgLy8gbWFwIG9mIGFsbCBzYW5pdGl6ZSBzdHJhdGVnaWVzXG4gICAgICBzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llcyA9IHtcbiAgICAgICAgZXNjYXBlZDogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywga2V5KSkge1xuICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj48L2Rpdj4nKS50ZXh0KHBhcmFtc1trZXldKS5odG1sKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgdmFyIHNhbml0aXplUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llc1skc2FuaXRpemVWYWx1ZVN0cmF0ZWd5XSkpIHtcbiAgICAgIHJlc3VsdCA9IHNhbml0aXplVmFsdWVTdHJhdGVnaWVzWyRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3ldKHBhcmFtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHBhcmFtcztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI3NldExvY2FsZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgY3VycmVudCBsb2NhbGUgKHRoaXMgaXMgY3VycmVudGx5IG5vdCB1c2UgaW4gdGhpcyBpbnRlcnBvbGF0aW9uKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsZSBMYW5ndWFnZSBrZXkgb3IgbG9jYWxlLlxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5zZXRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgJGxvY2FsZSA9IGxvY2FsZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2dldEludGVycG9sYXRpb25JZGVudGlmaWVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0dXJucyBhbiBpZGVudGlmaWVyIGZvciB0aGlzIGludGVycG9sYXRpb24gc2VydmljZS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gJGlkZW50aWZpZXJcbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICRpZGVudGlmaWVyO1xuICB9O1xuXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHNhbml0aXplVmFsdWVTdHJhdGVneSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jaW50ZXJwb2xhdGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnRlcnBvbGF0ZXMgZ2l2ZW4gc3RyaW5nIGFnYWlucyBnaXZlbiBpbnRlcnBvbGF0ZSBwYXJhbXMgdXNpbmcgYW5ndWxhcnNcbiAgICogYCRpbnRlcnBvbGF0ZWAgc2VydmljZS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiAoc3RyaW5nLCBpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgIGlmICgkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSB7XG4gICAgICBpbnRlcnBvbGF0ZVBhcmFtcyA9IHNhbml0aXplUGFyYW1zKGludGVycG9sYXRlUGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuICRpbnRlcnBvbGF0ZShzdHJpbmcpKGludGVycG9sYXRlUGFyYW1zIHx8IHt9KTtcbiAgfTtcblxuICByZXR1cm4gJHRyYW5zbGF0ZUludGVycG9sYXRvcjtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5jb25zdGFudCgnJFNUT1JBR0VfS0VZJywgJ05HX1RSQU5TTEFURV9MQU5HX0tFWScpO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZVxuICogQHJlcXVpcmVzICRjb21waWxlXG4gKiBAcmVxdWlyZXMgJGZpbHRlclxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRyYW5zbGF0ZXMgZ2l2ZW4gdHJhbnNsYXRpb24gaWQgZWl0aGVyIHRocm91Z2ggYXR0cmlidXRlIG9yIERPTSBjb250ZW50LlxuICogSW50ZXJuYWxseSBpdCB1c2VzIGB0cmFuc2xhdGVgIGZpbHRlciB0byB0cmFuc2xhdGUgdHJhbnNsYXRpb24gaWQuIEl0IHBvc3NpYmxlIHRvXG4gKiBwYXNzIGFuIG9wdGlvbmFsIGB0cmFuc2xhdGUtdmFsdWVzYCBvYmplY3QgbGl0ZXJhbCBhcyBzdHJpbmcgaW50byB0cmFuc2xhdGlvbiBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCB3aGljaCBjb3VsZCBiZSBlaXRoZXIgc3RyaW5nIG9yIGludGVycG9sYXRlZCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS12YWx1ZXMgVmFsdWVzIHRvIHBhc3MgaW50byB0cmFuc2xhdGlvbiBpZC4gQ2FuIGJlIHBhc3NlZCBhcyBvYmplY3QgbGl0ZXJhbCBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWF0dHItQVRUUiB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgYW5kIHB1dCBpdCBpbnRvIEFUVFIgYXR0cmlidXRlLlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtZGVmYXVsdCB3aWxsIGJlIHVzZWQgdW5sZXNzIHRyYW5zbGF0aW9uIHdhcyBzdWNjZXNzZnVsXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUtY29tcGlsZSAoZGVmYXVsdCB0cnVlIGlmIHByZXNlbnQpIGRlZmluZXMgbG9jYWxseSBhY3RpdmF0aW9uIG9mIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlUG9zdENvbXBpbGluZ31cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPlRSQU5TTEFUSU9OX0lEPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiVFJBTlNMQVRJT05fSURcIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIldJVEhfVkFMVUVTXCIgdHJhbnNsYXRlLXZhbHVlcz1cInt2YWx1ZTogNX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLXZhbHVlcz1cInt2YWx1ZTogNX1cIj5XSVRIX1ZBTFVFUzwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIldJVEhfVkFMVUVTXCIgdHJhbnNsYXRlLXZhbHVlcz1cInt7dmFsdWVzfX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLXZhbHVlcz1cInt7dmFsdWVzfX1cIj5XSVRIX1ZBTFVFUzwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIldJVEhfVkFMVUVTXCIgdHJhbnNsYXRlLXZhbHVlcz1cInt7dmFsdWVzfX1cIj48L3ByZT5cblxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnLCBbJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcblxuICAgICAgLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG5cbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLHtcbiAgICAgICAgICAnVFJBTlNMQVRJT05fSUQnOiAnSGVsbG8gdGhlcmUhJyxcbiAgICAgICAgICAnV0lUSF9WQUxVRVMnOiAnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiB7e3ZhbHVlfX0nXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY2VuYXJpby5qc1wiPlxuICAgICAgaXQoJ3Nob3VsZCB0cmFuc2xhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbXBpbGUpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LmF0dHIoJ3RpdGxlJykpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlJywgWyckdHJhbnNsYXRlJywgJyRxJywgJyRpbnRlcnBvbGF0ZScsICckY29tcGlsZScsICckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkdHJhbnNsYXRlLCAkcSwgJGludGVycG9sYXRlLCAkY29tcGlsZSwgJHBhcnNlLCAkcm9vdFNjb3BlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FFJyxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZXNFeGlzdCA9ICh0QXR0ci50cmFuc2xhdGVWYWx1ZXMpID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlVmFsdWVzIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA9ICh0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24gOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZUV4aXN0ID0gdEVsZW1lbnRbMF0ub3V0ZXJIVE1MLm1hdGNoKC90cmFuc2xhdGUtdmFsdWUtKy9pKTtcblxuICAgICAgdmFyIGludGVycG9sYXRlUmVnRXhwID0gXCJeKC4qKShcIiArICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpICsgXCIuKlwiICsgJGludGVycG9sYXRlLmVuZFN5bWJvbCgpICsgXCIpKC4qKVwiLFxuICAgICAgICAgIHdhdGNoZXJSZWdFeHAgPSBcIl4oLiopXCIgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArIFwiKC4qKVwiICsgJGludGVycG9sYXRlLmVuZFN5bWJvbCgpICsgXCIoLiopXCI7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuXG4gICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zID0ge307XG4gICAgICAgIHNjb3BlLnByZVRleHQgPSBcIlwiO1xuICAgICAgICBzY29wZS5wb3N0VGV4dCA9IFwiXCI7XG4gICAgICAgIHZhciB0cmFuc2xhdGlvbklkcyA9IHt9O1xuXG4gICAgICAgIC8vIEVuc3VyZXMgYW55IGNoYW5nZSBvZiB0aGUgYXR0cmlidXRlIFwidHJhbnNsYXRlXCIgY29udGFpbmluZyB0aGUgaWQgd2lsbFxuICAgICAgICAvLyBiZSByZS1zdG9yZWQgdG8gdGhlIHNjb3BlJ3MgXCJ0cmFuc2xhdGlvbklkXCIuXG4gICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIG5vIGNvbnRlbnQsIHRoZSBlbGVtZW50J3MgdGV4dCB2YWx1ZSAod2hpdGUgc3BhY2VzIHRyaW1tZWQgb2ZmKSB3aWxsIGJlIHVzZWQuXG4gICAgICAgIHZhciBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHModHJhbnNsYXRpb25JZCAsICcnKSB8fCAhYW5ndWxhci5pc0RlZmluZWQodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIC8vIFJlc29sdmUgdHJhbnNsYXRpb24gaWQgYnkgaW5uZXIgaHRtbCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlTWF0Y2hlcyA9IGlFbGVtZW50LnRleHQoKS5tYXRjaChpbnRlcnBvbGF0ZVJlZ0V4cCk7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0cmFuc2xhdGlvbiBpZCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnRlcnBvbGF0ZU1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnByZVRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbMV07XG4gICAgICAgICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gaW50ZXJwb2xhdGVNYXRjaGVzWzNdO1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSAkaW50ZXJwb2xhdGUoaW50ZXJwb2xhdGVNYXRjaGVzWzJdKShzY29wZS4kcGFyZW50KTtcbiAgICAgICAgICAgICAgd2F0Y2hlck1hdGNoZXMgPSBpRWxlbWVudC50ZXh0KCkubWF0Y2god2F0Y2hlclJlZ0V4cCk7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkod2F0Y2hlck1hdGNoZXMpICYmIHdhdGNoZXJNYXRjaGVzWzJdICYmIHdhdGNoZXJNYXRjaGVzWzJdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaGVyTWF0Y2hlc1syXSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSBpRWxlbWVudC50ZXh0KCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRlQXR0cikge1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKHRyYW5zbGF0ZUF0dHIsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkc1t0cmFuc2xhdGVBdHRyXSA9IHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciB0cmFuc2xhdGVBdHRyIGluIGlBdHRyKSB7XG4gICAgICAgICAgaWYoaUF0dHIuaGFzT3duUHJvcGVydHkodHJhbnNsYXRlQXR0cikgJiYgdHJhbnNsYXRlQXR0ci5zdWJzdHIoMCwgMTMpID09PSAndHJhbnNsYXRlQXR0cicpIHtcbiAgICAgICAgICAgIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbih0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlRGVmYXVsdCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRlZmF1bHRUZXh0ID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZXNFeGlzdCkge1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVWYWx1ZXMnLCBmdW5jdGlvbiAoaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMsICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykoc2NvcGUuJHBhcmVudCkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZUV4aXN0KSB7XG4gICAgICAgICAgdmFyIG9ic2VydmVWYWx1ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICAgICAgaUF0dHIuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKGF0dHJOYW1lLnN1YnN0cigxNCwgMSkpICsgYXR0ck5hbWUuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXNbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBpQXR0cikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpQXR0ciwgYXR0cikgJiYgYXR0ci5zdWJzdHIoMCwgMTQpID09PSAndHJhbnNsYXRlVmFsdWUnICYmIGF0dHIgIT09ICd0cmFuc2xhdGVWYWx1ZXMnKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVWYWx1ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYXN0ZXIgdXBkYXRlIGZ1bmN0aW9uXG4gICAgICAgIHZhciB1cGRhdGVUcmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHRyYW5zbGF0aW9uSWRzKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNsYXRpb25JZHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiB0cmFuc2xhdGlvbklkc1trZXldKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9uKGtleSwgdHJhbnNsYXRpb25JZHNba2V5XSwgc2NvcGUsIHNjb3BlLmludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHV0IHRyYW5zbGF0aW9uIHByb2Nlc3NpbmcgZnVuY3Rpb24gb3V0c2lkZSBsb29wXG4gICAgICAgIHZhciB1cGRhdGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uKHRyYW5zbGF0ZUF0dHIsIHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIHRyYW5zbGF0ZUludGVycG9sYXRpb24pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbih0cmFuc2xhdGlvbiwgc2NvcGUsIHRydWUsIHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBzY29wZSwgZmFsc2UsIHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFwcGx5VHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodmFsdWUsIHNjb3BlLCBzdWNjZXNzZnVsLCB0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaWYgKHRyYW5zbGF0ZUF0dHIgPT09ICd0cmFuc2xhdGUnKSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRyYW5zbGF0ZSBpbnRvIGlubmVySFRNTFxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzZnVsICYmIHR5cGVvZiBzY29wZS5kZWZhdWx0VGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBzY29wZS5kZWZhdWx0VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlFbGVtZW50Lmh0bWwoc2NvcGUucHJlVGV4dCArIHZhbHVlICsgc2NvcGUucG9zdFRleHQpO1xuICAgICAgICAgICAgdmFyIGdsb2JhbGx5RW5hYmxlZCA9ICR0cmFuc2xhdGUuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCgpO1xuICAgICAgICAgICAgdmFyIGxvY2FsbHlEZWZpbmVkID0gdHlwZW9mIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgdmFyIGxvY2FsbHlFbmFibGVkID0gbG9jYWxseURlZmluZWQgJiYgdEF0dHIudHJhbnNsYXRlQ29tcGlsZSAhPT0gJ2ZhbHNlJztcbiAgICAgICAgICAgIGlmICgoZ2xvYmFsbHlFbmFibGVkICYmICFsb2NhbGx5RGVmaW5lZCkgfHwgbG9jYWxseUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgJGNvbXBpbGUoaUVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0cmFuc2xhdGUgYXR0cmlidXRlXG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3NmdWwgJiYgdHlwZW9mIHNjb3BlLmRlZmF1bHRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBpQXR0ci4kYXR0clt0cmFuc2xhdGVBdHRyXS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgaUVsZW1lbnQuYXR0cihhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnaW50ZXJwb2xhdGVQYXJhbXMnLCB1cGRhdGVUcmFuc2xhdGlvbnMsIHRydWUpO1xuXG4gICAgICAgIC8vIEVuc3VyZXMgdGhlIHRleHQgd2lsbCBiZSByZWZyZXNoZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgbGFuZ3VhZ2Ugd2FzIGNoYW5nZWRcbiAgICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgICB2YXIgdW5iaW5kID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgICAvLyBlbnN1cmUgdHJhbnNsYXRpb24gd2lsbCBiZSBsb29rZWQgdXAgYXQgbGVhc3Qgb25lXG4gICAgICAgIGlmIChpRWxlbWVudC50ZXh0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbignJyk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmQpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlQ2xvYWtcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKiBAcmVxdWlyZXMgJHRyYW5zbGF0ZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiAkZGVzY3JpcHRpb25cbiAqIEFkZHMgYSBgdHJhbnNsYXRlLWNsb2FrYCBjbGFzcyBuYW1lIHRvIHRoZSBnaXZlbiBlbGVtZW50IHdoZXJlIHRoaXMgZGlyZWN0aXZlXG4gKiBpcyBhcHBsaWVkIGluaXRpYWxseSBhbmQgcmVtb3ZlcyBpdCwgb25jZSBhIGxvYWRlciBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgdXNlZCB0byBwcmV2ZW50IGluaXRpYWwgZmxpY2tlcmluZyB3aGVuIGxvYWRpbmcgdHJhbnNsYXRpb25cbiAqIGRhdGEgYXN5bmNocm9ub3VzbHkuXG4gKlxuICogVGhlIGNsYXNzIG5hbWUgaXMgZGVmaW5lZCBpblxuICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKX0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtY2xvYWsgSWYgYSB0cmFuc2xhdGlvbklkIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWQgZm9yIHNob3dpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGhpZGluZyB0aGUgY2xvYWsuIEJhc2ljYWxseSBpdCByZWxpZXMgb24gdGhlIHRyYW5zbGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVDbG9haycsIFsnJHJvb3RTY29wZScsICckdHJhbnNsYXRlJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICR0cmFuc2xhdGUpIHtcblxuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCkge1xuICAgICAgdmFyIGFwcGx5Q2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LnJlbW92ZUNsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlTGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlQ2xvYWsoKTtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoKTtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgfSk7XG4gICAgICBhcHBseUNsb2FrKCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuICAgICAgICAvLyBSZWdpc3RlciBhIHdhdGNoZXIgZm9yIHRoZSBkZWZpbmVkIHRyYW5zbGF0aW9uIGFsbG93aW5nIGEgZmluZSB0dW5lZCBjbG9ha1xuICAgICAgICBpZiAoaUF0dHIudHJhbnNsYXRlQ2xvYWsgJiYgaUF0dHIudHJhbnNsYXRlQ2xvYWsubGVuZ3RoKSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZUNsb2FrJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCkudGhlbihyZW1vdmVDbG9haywgYXBwbHlDbG9hayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZmlsdGVyOnRyYW5zbGF0ZVxuICogQHJlcXVpcmVzICRwYXJzZVxuICogQHJlcXVpcmVzIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICogQGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2VzIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIHRvIHRyYW5zbGF0ZSBjb250ZW50cy4gQWNjZXB0cyBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzXG4gKiB0byBwYXNzIGR5bmFtaXplZCB2YWx1ZXMgdGhvdWdoIHRyYW5zbGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbklkIEEgdHJhbnNsYXRpb24gaWQgdG8gYmUgdHJhbnNsYXRlZC5cbiAqIEBwYXJhbSB7Kj19IGludGVycG9sYXRlUGFyYW1zIE9wdGlvbmFsIG9iamVjdCBsaXRlcmFsIChhcyBoYXNoIG9yIHN0cmluZykgdG8gcGFzcyB2YWx1ZXMgaW50byB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUcmFuc2xhdGVkIHRleHQuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUcmFuc2xhdGVDdHJsXCI+XG5cbiAgICAgICAgPHByZT57eyAnVFJBTlNMQVRJT05fSUQnIHwgdHJhbnNsYXRlIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgdHJhbnNsYXRpb25JZCB8IHRyYW5zbGF0ZSB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6J3t2YWx1ZTogNX0nIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgJ1dJVEhfVkFMVUVTJyB8IHRyYW5zbGF0ZTp2YWx1ZXMgfX08L3ByZT5cblxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnLCBbJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcblxuICAgICAgLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG5cbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19J1xuICAgICAgICB9KTtcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZmlsdGVyKCd0cmFuc2xhdGUnLCBbJyRwYXJzZScsICckdHJhbnNsYXRlJywgZnVuY3Rpb24gKCRwYXJzZSwgJHRyYW5zbGF0ZSkge1xuICB2YXIgdHJhbnNsYXRlRmlsdGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uKSB7XG5cbiAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoaW50ZXJwb2xhdGVQYXJhbXMpKSB7XG4gICAgICBpbnRlcnBvbGF0ZVBhcmFtcyA9ICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICR0cmFuc2xhdGUuaW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbik7XG4gIH07XG5cbiAgLy8gU2luY2UgQW5ndWxhckpTIDEuMywgZmlsdGVycyB3aGljaCBhcmUgbm90IHN0YXRlbGVzcyAoZGVwZW5kaW5nIGF0IHRoZSBzY29wZSlcbiAgLy8gaGF2ZSB0byBleHBsaWNpdCBkZWZpbmUgdGhpcyBiZWhhdmlvci5cbiAgdHJhbnNsYXRlRmlsdGVyLiRzdGF0ZWZ1bCA9IHRydWU7XG5cbiAgcmV0dXJuIHRyYW5zbGF0ZUZpbHRlcjtcbn1dKTtcblxuLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuMy4yMFxuICogKGMpIDIwMTAtMjAxNCBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4oZnVuY3Rpb24od2luZG93LCBhbmd1bGFyLCB1bmRlZmluZWQpIHsndXNlIHN0cmljdCc7XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXG5cbnZhciAkc2FuaXRpemVNaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyKCckc2FuaXRpemUnKTtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ1Nhbml0aXplXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAjIG5nU2FuaXRpemVcbiAqXG4gKiBUaGUgYG5nU2FuaXRpemVgIG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHNhbml0aXplIEhUTUwuXG4gKlxuICpcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdTYW5pdGl6ZVwiPjwvZGl2PlxuICpcbiAqIFNlZSB7QGxpbmsgbmdTYW5pdGl6ZS4kc2FuaXRpemUgYCRzYW5pdGl6ZWB9IGZvciB1c2FnZS5cbiAqL1xuXG4vKlxuICogSFRNTCBQYXJzZXIgQnkgTWlza28gSGV2ZXJ5IChtaXNrb0BoZXZlcnkuY29tKVxuICogYmFzZWQgb246ICBIVE1MIFBhcnNlciBCeSBKb2huIFJlc2lnIChlam9obi5vcmcpXG4gKiBPcmlnaW5hbCBjb2RlIGJ5IEVyaWsgQXJ2aWRzc29uLCBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlXG4gKiBodHRwOi8vZXJpay5lYWUubmV0L3NpbXBsZWh0bWxwYXJzZXIvc2ltcGxlaHRtbHBhcnNlci5qc1xuICpcbiAqIC8vIFVzZSBsaWtlIHNvOlxuICogaHRtbFBhcnNlcihodG1sU3RyaW5nLCB7XG4gKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMsIHVuYXJ5KSB7fSxcbiAqICAgICBlbmQ6IGZ1bmN0aW9uKHRhZykge30sXG4gKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxuICogICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKHRleHQpIHt9XG4gKiB9KTtcbiAqXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkc2FuaXRpemVcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAgIFRoZSBpbnB1dCBpcyBzYW5pdGl6ZWQgYnkgcGFyc2luZyB0aGUgSFRNTCBpbnRvIHRva2Vucy4gQWxsIHNhZmUgdG9rZW5zIChmcm9tIGEgd2hpdGVsaXN0KSBhcmVcbiAqICAgdGhlbiBzZXJpYWxpemVkIGJhY2sgdG8gcHJvcGVybHkgZXNjYXBlZCBodG1sIHN0cmluZy4gVGhpcyBtZWFucyB0aGF0IG5vIHVuc2FmZSBpbnB1dCBjYW4gbWFrZVxuICogICBpdCBpbnRvIHRoZSByZXR1cm5lZCBzdHJpbmcsIGhvd2V2ZXIsIHNpbmNlIG91ciBwYXJzZXIgaXMgbW9yZSBzdHJpY3QgdGhhbiBhIHR5cGljYWwgYnJvd3NlclxuICogICBwYXJzZXIsIGl0J3MgcG9zc2libGUgdGhhdCBzb21lIG9ic2N1cmUgaW5wdXQsIHdoaWNoIHdvdWxkIGJlIHJlY29nbml6ZWQgYXMgdmFsaWQgSFRNTCBieSBhXG4gKiAgIGJyb3dzZXIsIHdvbid0IG1ha2UgaXQgdGhyb3VnaCB0aGUgc2FuaXRpemVyLiBUaGUgaW5wdXQgbWF5IGFsc28gY29udGFpbiBTVkcgbWFya3VwLlxuICogICBUaGUgd2hpdGVsaXN0IGlzIGNvbmZpZ3VyZWQgdXNpbmcgdGhlIGZ1bmN0aW9ucyBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgIGFuZFxuICogICBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YCBvZiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciBgJGNvbXBpbGVQcm92aWRlcmB9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIEhUTUwgaW5wdXQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBTYW5pdGl6ZWQgSFRNTC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwic2FuaXRpemVFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc2FuaXRpemVFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzY2UnLCBmdW5jdGlvbigkc2NvcGUsICRzY2UpIHtcbiAgICAgICAgICAgICAkc2NvcGUuc25pcHBldCA9XG4gICAgICAgICAgICAgICAnPHAgc3R5bGU9XCJjb2xvcjpibHVlXCI+YW4gaHRtbFxcbicgK1xuICAgICAgICAgICAgICAgJzxlbSBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9XFwnUFdOM0QhXFwnXCI+Y2xpY2sgaGVyZTwvZW0+XFxuJyArXG4gICAgICAgICAgICAgICAnc25pcHBldDwvcD4nO1xuICAgICAgICAgICAgICRzY29wZS5kZWxpYmVyYXRlbHlUcnVzdERhbmdlcm91c1NuaXBwZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKCRzY29wZS5zbmlwcGV0KTtcbiAgICAgICAgICAgICB9O1xuICAgICAgICAgICB9XSk7XG4gICAgIDwvc2NyaXB0PlxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICBTbmlwcGV0OiA8dGV4dGFyZWEgbmctbW9kZWw9XCJzbmlwcGV0XCIgY29scz1cIjYwXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgIDx0YWJsZT5cbiAgICAgICAgIDx0cj5cbiAgICAgICAgICAgPHRkPkRpcmVjdGl2ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5Ib3c8L3RkPlxuICAgICAgICAgICA8dGQ+U291cmNlPC90ZD5cbiAgICAgICAgICAgPHRkPlJlbmRlcmVkPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZVwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZC1odG1sPC90ZD5cbiAgICAgICAgICAgPHRkPkF1dG9tYXRpY2FsbHkgdXNlcyAkc2FuaXRpemU8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRcIiZndDs8YnIvPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtaHRtbC13aXRoLXRydXN0XCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kLWh0bWw8L3RkPlxuICAgICAgICAgICA8dGQ+QnlwYXNzICRzYW5pdGl6ZSBieSBleHBsaWNpdGx5IHRydXN0aW5nIHRoZSBkYW5nZXJvdXMgdmFsdWU8L3RkPlxuICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJkZWxpYmVyYXRlbHlUcnVzdERhbmdlcm91c1NuaXBwZXQoKVwiJmd0O1xuJmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQtaHRtbD1cImRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCgpXCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWRlZmF1bHRcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQ8L3RkPlxuICAgICAgICAgICA8dGQ+QXV0b21hdGljYWxseSBlc2NhcGVzPC90ZD5cbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kPVwic25pcHBldFwiJmd0Ozxici8+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICBpdCgnc2hvdWxkIHNhbml0aXplIHRoZSBodG1sIHNuaXBwZXQgYnkgZGVmYXVsdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXNhbml0aXplIGRpdicpKS5nZXRJbm5lckh0bWwoKSkuXG4gICAgICAgICB0b0JlKCc8cD5hbiBodG1sXFxuPGVtPmNsaWNrIGhlcmU8L2VtPlxcbnNuaXBwZXQ8L3A+Jyk7XG4gICAgIH0pO1xuXG4gICAgIGl0KCdzaG91bGQgaW5saW5lIHJhdyBzbmlwcGV0IGlmIGJvdW5kIHRvIGEgdHJ1c3RlZCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXRydXN0IGRpdicpKS5nZXRJbm5lckh0bWwoKSkuXG4gICAgICAgICB0b0JlKFwiPHAgc3R5bGU9XFxcImNvbG9yOmJsdWVcXFwiPmFuIGh0bWxcXG5cIiArXG4gICAgICAgICAgICAgIFwiPGVtIG9ubW91c2VvdmVyPVxcXCJ0aGlzLnRleHRDb250ZW50PSdQV04zRCEnXFxcIj5jbGljayBoZXJlPC9lbT5cXG5cIiArXG4gICAgICAgICAgICAgIFwic25pcHBldDwvcD5cIik7XG4gICAgIH0pO1xuXG4gICAgIGl0KCdzaG91bGQgZXNjYXBlIHNuaXBwZXQgd2l0aG91dCBhbnkgZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1kZWZhdWx0IGRpdicpKS5nZXRJbm5lckh0bWwoKSkuXG4gICAgICAgICB0b0JlKFwiJmx0O3Agc3R5bGU9XFxcImNvbG9yOmJsdWVcXFwiJmd0O2FuIGh0bWxcXG5cIiArXG4gICAgICAgICAgICAgIFwiJmx0O2VtIG9ubW91c2VvdmVyPVxcXCJ0aGlzLnRleHRDb250ZW50PSdQV04zRCEnXFxcIiZndDtjbGljayBoZXJlJmx0Oy9lbSZndDtcXG5cIiArXG4gICAgICAgICAgICAgIFwic25pcHBldCZsdDsvcCZndDtcIik7XG4gICAgIH0pO1xuXG4gICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5jbGVhcigpO1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuc2VuZEtleXMoJ25ldyA8YiBvbmNsaWNrPVwiYWxlcnQoMSlcIj50ZXh0PC9iPicpO1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXNhbml0aXplIGRpdicpKS5nZXRJbm5lckh0bWwoKSkuXG4gICAgICAgICB0b0JlKCduZXcgPGI+dGV4dDwvYj4nKTtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC10cnVzdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLnRvQmUoXG4gICAgICAgICAnbmV3IDxiIG9uY2xpY2s9XCJhbGVydCgxKVwiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1kZWZhdWx0IGRpdicpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcbiAgICAgICAgIFwibmV3ICZsdDtiIG9uY2xpY2s9XFxcImFsZXJ0KDEpXFxcIiZndDt0ZXh0Jmx0Oy9iJmd0O1wiKTtcbiAgICAgfSk7XG4gICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICRTYW5pdGl6ZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyQkc2FuaXRpemVVcmknLCBmdW5jdGlvbigkJHNhbml0aXplVXJpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgIGh0bWxQYXJzZXIoaHRtbCwgaHRtbFNhbml0aXplV3JpdGVyKGJ1ZiwgZnVuY3Rpb24odXJpLCBpc0ltYWdlKSB7XG4gICAgICAgIHJldHVybiAhL151bnNhZmUvLnRlc3QoJCRzYW5pdGl6ZVVyaSh1cmksIGlzSW1hZ2UpKTtcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiBidWYuam9pbignJyk7XG4gICAgfTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplVGV4dChjaGFycykge1xuICB2YXIgYnVmID0gW107XG4gIHZhciB3cml0ZXIgPSBodG1sU2FuaXRpemVXcml0ZXIoYnVmLCBhbmd1bGFyLm5vb3ApO1xuICB3cml0ZXIuY2hhcnMoY2hhcnMpO1xuICByZXR1cm4gYnVmLmpvaW4oJycpO1xufVxuXG5cbi8vIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIHBhcnNpbmcgdGFncyBhbmQgYXR0cmlidXRlc1xudmFyIFNUQVJUX1RBR19SRUdFWFAgPVxuICAgICAgIC9ePCgoPzpbYS16QS1aXSlbXFx3Oi1dKikoKD86XFxzK1tcXHc6LV0rKD86XFxzKj1cXHMqKD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8W14+XFxzXSspKT8pKilcXHMqKFxcLz8pXFxzKig+PykvLFxuICBFTkRfVEFHX1JFR0VYUCA9IC9ePFxcL1xccyooW1xcdzotXSspW14+XSo+LyxcbiAgQVRUUl9SRUdFWFAgPSAvKFtcXHc6LV0rKSg/Olxccyo9XFxzKig/Oig/OlwiKCg/OlteXCJdKSopXCIpfCg/OicoKD86W14nXSkqKScpfChbXj5cXHNdKykpKT8vZyxcbiAgQkVHSU5fVEFHX1JFR0VYUCA9IC9ePC8sXG4gIEJFR0lOR19FTkRfVEFHRV9SRUdFWFAgPSAvXjxcXC8vLFxuICBDT01NRU5UX1JFR0VYUCA9IC88IS0tKC4qPyktLT4vZyxcbiAgRE9DVFlQRV9SRUdFWFAgPSAvPCFET0NUWVBFKFtePl0qPyk+L2ksXG4gIENEQVRBX1JFR0VYUCA9IC88IVxcW0NEQVRBXFxbKC4qPyldXT4vZyxcbiAgU1VSUk9HQVRFX1BBSVJfUkVHRVhQID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZyxcbiAgLy8gTWF0Y2ggZXZlcnl0aGluZyBvdXRzaWRlIG9mIG5vcm1hbCBjaGFycyBhbmQgXCIgKHF1b3RlIGNoYXJhY3RlcilcbiAgTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAgPSAvKFteXFwjLX58IHwhXSkvZztcblxuXG4vLyBHb29kIHNvdXJjZSBvZiBpbmZvIGFib3V0IGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzXG4vLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjc2VtYW50aWNzXG4vLyBodHRwOi8vc2ltb24uaHRtbDUub3JnL2h0bWwtZWxlbWVudHNcblxuLy8gU2FmZSBWb2lkIEVsZW1lbnRzIC0gSFRNTDVcbi8vIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMvT3ZlcnZpZXcuaHRtbCN2b2lkLWVsZW1lbnRzXG52YXIgdm9pZEVsZW1lbnRzID0gbWFrZU1hcChcImFyZWEsYnIsY29sLGhyLGltZyx3YnJcIik7XG5cbi8vIEVsZW1lbnRzIHRoYXQgeW91IGNhbiwgaW50ZW50aW9uYWxseSwgbGVhdmUgb3BlbiAoYW5kIHdoaWNoIGNsb3NlIHRoZW1zZWx2ZXMpXG4vLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjb3B0aW9uYWwtdGFnc1xudmFyIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyA9IG1ha2VNYXAoXCJjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyXCIpLFxuICAgIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMgPSBtYWtlTWFwKFwicnAscnRcIiksXG4gICAgb3B0aW9uYWxFbmRUYWdFbGVtZW50cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0Jsb2NrRWxlbWVudHMpO1xuXG4vLyBTYWZlIEJsb2NrIEVsZW1lbnRzIC0gSFRNTDVcbnZhciBibG9ja0VsZW1lbnRzID0gYW5ndWxhci5leHRlbmQoe30sIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cywgbWFrZU1hcChcImFkZHJlc3MsYXJ0aWNsZSxcIiArXG4gICAgICAgIFwiYXNpZGUsYmxvY2txdW90ZSxjYXB0aW9uLGNlbnRlcixkZWwsZGlyLGRpdixkbCxmaWd1cmUsZmlnY2FwdGlvbixmb290ZXIsaDEsaDIsaDMsaDQsaDUsXCIgK1xuICAgICAgICBcImg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1hcCxtZW51LG5hdixvbCxwcmUsc2NyaXB0LHNlY3Rpb24sdGFibGUsdWxcIikpO1xuXG4vLyBJbmxpbmUgRWxlbWVudHMgLSBIVE1MNVxudmFyIGlubGluZUVsZW1lbnRzID0gYW5ndWxhci5leHRlbmQoe30sIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMsIG1ha2VNYXAoXCJhLGFiYnIsYWNyb255bSxiLFwiICtcbiAgICAgICAgXCJiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscSxydWJ5LHJwLHJ0LHMsXCIgK1xuICAgICAgICBcInNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0dCx1LHZhclwiKSk7XG5cbi8vIFNWRyBFbGVtZW50c1xuLy8gaHR0cHM6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9TYW5pdGl6YXRpb25fcnVsZXMjc3ZnX0VsZW1lbnRzXG52YXIgc3ZnRWxlbWVudHMgPSBtYWtlTWFwKFwiYW5pbWF0ZSxhbmltYXRlQ29sb3IsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxkZWZzLFwiICtcbiAgICAgICAgXCJkZXNjLGVsbGlwc2UsZm9udC1mYWNlLGZvbnQtZmFjZS1uYW1lLGZvbnQtZmFjZS1zcmMsZyxnbHlwaCxoa2VybixpbWFnZSxsaW5lYXJHcmFkaWVudCxcIiArXG4gICAgICAgIFwibGluZSxtYXJrZXIsbWV0YWRhdGEsbWlzc2luZy1nbHlwaCxtcGF0aCxwYXRoLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsXCIgK1xuICAgICAgICBcInN0b3Asc3ZnLHN3aXRjaCx0ZXh0LHRpdGxlLHRzcGFuLHVzZVwiKTtcblxuLy8gU3BlY2lhbCBFbGVtZW50cyAoY2FuIGNvbnRhaW4gYW55dGhpbmcpXG52YXIgc3BlY2lhbEVsZW1lbnRzID0gbWFrZU1hcChcInNjcmlwdCxzdHlsZVwiKTtcblxudmFyIHZhbGlkRWxlbWVudHMgPSBhbmd1bGFyLmV4dGVuZCh7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZEVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0VsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnRWxlbWVudHMpO1xuXG4vL0F0dHJpYnV0ZXMgdGhhdCBoYXZlIGhyZWYgYW5kIGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXG52YXIgdXJpQXR0cnMgPSBtYWtlTWFwKFwiYmFja2dyb3VuZCxjaXRlLGhyZWYsbG9uZ2Rlc2Msc3JjLHVzZW1hcCx4bGluazpocmVmXCIpO1xuXG52YXIgaHRtbEF0dHJzID0gbWFrZU1hcCgnYWJicixhbGlnbixhbHQsYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhciwnICtcbiAgICAnY29sb3IsY29scyxjb2xzcGFuLGNvbXBhY3QsY29vcmRzLGRpcixmYWNlLGhlYWRlcnMsaGVpZ2h0LGhyZWZsYW5nLGhzcGFjZSwnICtcbiAgICAnaXNtYXAsbGFuZyxsYW5ndWFnZSxub2hyZWYsbm93cmFwLHJlbCxyZXYscm93cyxyb3dzcGFuLHJ1bGVzLCcgK1xuICAgICdzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzcGFuLHN0YXJ0LHN1bW1hcnksdGFyZ2V0LHRpdGxlLHR5cGUsJyArXG4gICAgJ3ZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGgnKTtcblxuLy8gU1ZHIGF0dHJpYnV0ZXMgKHdpdGhvdXQgXCJpZFwiIGFuZCBcIm5hbWVcIiBhdHRyaWJ1dGVzKVxuLy8gaHR0cHM6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9TYW5pdGl6YXRpb25fcnVsZXMjc3ZnX0F0dHJpYnV0ZXNcbnZhciBzdmdBdHRycyA9IG1ha2VNYXAoJ2FjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbHBoYWJldGljLGFyYWJpYy1mb3JtLGFzY2VudCwnICtcbiAgICAnYXR0cmlidXRlTmFtZSxhdHRyaWJ1dGVUeXBlLGJhc2VQcm9maWxlLGJib3gsYmVnaW4sYnksY2FsY01vZGUsY2FwLWhlaWdodCxjbGFzcyxjb2xvciwnICtcbiAgICAnY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSwnICtcbiAgICAnZm9udC1zaXplLGZvbnQtc3RyZXRjaCxmb250LXN0eWxlLGZvbnQtdmFyaWFudCxmb250LXdlaWdodCxmcm9tLGZ4LGZ5LGcxLGcyLGdseXBoLW5hbWUsJyArXG4gICAgJ2dyYWRpZW50VW5pdHMsaGFuZ2luZyxoZWlnaHQsaG9yaXotYWR2LXgsaG9yaXotb3JpZ2luLXgsaWRlb2dyYXBoaWMsayxrZXlQb2ludHMsJyArXG4gICAgJ2tleVNwbGluZXMsa2V5VGltZXMsbGFuZyxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cywnICtcbiAgICAnbWFya2VyV2lkdGgsbWF0aGVtYXRpY2FsLG1heCxtaW4sb2Zmc2V0LG9wYWNpdHksb3JpZW50LG9yaWdpbixvdmVybGluZS1wb3NpdGlvbiwnICtcbiAgICAnb3ZlcmxpbmUtdGhpY2tuZXNzLHBhbm9zZS0xLHBhdGgscGF0aExlbmd0aCxwb2ludHMscHJlc2VydmVBc3BlY3RSYXRpbyxyLHJlZlgscmVmWSwnICtcbiAgICAncmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLCcgK1xuICAgICdzdGVtdixzdG9wLWNvbG9yLHN0b3Atb3BhY2l0eSxzdHJpa2V0aHJvdWdoLXBvc2l0aW9uLHN0cmlrZXRocm91Z2gtdGhpY2tuZXNzLHN0cm9rZSwnICtcbiAgICAnc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxzdHJva2UtbGluZWNhcCxzdHJva2UtbGluZWpvaW4sc3Ryb2tlLW1pdGVybGltaXQsJyArXG4gICAgJ3N0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsJyArXG4gICAgJ3VuZGVybGluZS1wb3NpdGlvbix1bmRlcmxpbmUtdGhpY2tuZXNzLHVuaWNvZGUsdW5pY29kZS1yYW5nZSx1bml0cy1wZXItZW0sdmFsdWVzLHZlcnNpb24sJyArXG4gICAgJ3ZpZXdCb3gsdmlzaWJpbGl0eSx3aWR0aCx3aWR0aHMseCx4LWhlaWdodCx4MSx4Mix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6cm9sZSwnICtcbiAgICAneGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLCcgK1xuICAgICd6b29tQW5kUGFuJyk7XG5cbnZhciB2YWxpZEF0dHJzID0gYW5ndWxhci5leHRlbmQoe30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVyaUF0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEF0dHJzKTtcblxuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcbiAgdmFyIG9iaiA9IHt9LCBpdGVtcyA9IHN0ci5zcGxpdCgnLCcpLCBpO1xuICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIG9ialtpdGVtc1tpXV0gPSB0cnVlO1xuICByZXR1cm4gb2JqO1xufVxuXG5cbi8qKlxuICogQGV4YW1wbGVcbiAqIGh0bWxQYXJzZXIoaHRtbFN0cmluZywge1xuICogICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzLCB1bmFyeSkge30sXG4gKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxuICogICAgIGNoYXJzOiBmdW5jdGlvbih0ZXh0KSB7fSxcbiAqICAgICBjb21tZW50OiBmdW5jdGlvbih0ZXh0KSB7fVxuICogfSk7XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgc3RyaW5nXG4gKiBAcGFyYW0ge29iamVjdH0gaGFuZGxlclxuICovXG5mdW5jdGlvbiBodG1sUGFyc2VyKGh0bWwsIGhhbmRsZXIpIHtcbiAgaWYgKHR5cGVvZiBodG1sICE9PSAnc3RyaW5nJykge1xuICAgIGlmIChodG1sID09PSBudWxsIHx8IHR5cGVvZiBodG1sID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaHRtbCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBodG1sID0gJycgKyBodG1sO1xuICAgIH1cbiAgfVxuICB2YXIgaW5kZXgsIGNoYXJzLCBtYXRjaCwgc3RhY2sgPSBbXSwgbGFzdCA9IGh0bWwsIHRleHQ7XG4gIHN0YWNrLmxhc3QgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdOyB9O1xuXG4gIHdoaWxlIChodG1sKSB7XG4gICAgdGV4dCA9ICcnO1xuICAgIGNoYXJzID0gdHJ1ZTtcblxuICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBub3QgaW4gYSBzY3JpcHQgb3Igc3R5bGUgZWxlbWVudFxuICAgIGlmICghc3RhY2subGFzdCgpIHx8ICFzcGVjaWFsRWxlbWVudHNbc3RhY2subGFzdCgpXSkge1xuXG4gICAgICAvLyBDb21tZW50XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKFwiPCEtLVwiKSA9PT0gMCkge1xuICAgICAgICAvLyBjb21tZW50cyBjb250YWluaW5nIC0tIGFyZSBub3QgYWxsb3dlZCB1bmxlc3MgdGhleSB0ZXJtaW5hdGUgdGhlIGNvbW1lbnRcbiAgICAgICAgaW5kZXggPSBodG1sLmluZGV4T2YoXCItLVwiLCA0KTtcblxuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBodG1sLmxhc3RJbmRleE9mKFwiLS0+XCIsIGluZGV4KSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaGFuZGxlci5jb21tZW50KSBoYW5kbGVyLmNvbW1lbnQoaHRtbC5zdWJzdHJpbmcoNCwgaW5kZXgpKTtcbiAgICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcoaW5kZXggKyAzKTtcbiAgICAgICAgICBjaGFycyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAvLyBET0NUWVBFXG4gICAgICB9IGVsc2UgaWYgKERPQ1RZUEVfUkVHRVhQLnRlc3QoaHRtbCkpIHtcbiAgICAgICAgbWF0Y2ggPSBodG1sLm1hdGNoKERPQ1RZUEVfUkVHRVhQKTtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKG1hdGNoWzBdLCAnJyk7XG4gICAgICAgICAgY2hhcnMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgLy8gZW5kIHRhZ1xuICAgICAgfSBlbHNlIGlmIChCRUdJTkdfRU5EX1RBR0VfUkVHRVhQLnRlc3QoaHRtbCkpIHtcbiAgICAgICAgbWF0Y2ggPSBodG1sLm1hdGNoKEVORF9UQUdfUkVHRVhQKTtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICBtYXRjaFswXS5yZXBsYWNlKEVORF9UQUdfUkVHRVhQLCBwYXJzZUVuZFRhZyk7XG4gICAgICAgICAgY2hhcnMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAvLyBzdGFydCB0YWdcbiAgICAgIH0gZWxzZSBpZiAoQkVHSU5fVEFHX1JFR0VYUC50ZXN0KGh0bWwpKSB7XG4gICAgICAgIG1hdGNoID0gaHRtbC5tYXRjaChTVEFSVF9UQUdfUkVHRVhQKTtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAvLyBXZSBvbmx5IGhhdmUgYSB2YWxpZCBzdGFydC10YWcgaWYgdGhlcmUgaXMgYSAnPicuXG4gICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1hdGNoWzBdLnJlcGxhY2UoU1RBUlRfVEFHX1JFR0VYUCwgcGFyc2VTdGFydFRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoYXJzID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm8gZW5kaW5nIHRhZyBmb3VuZCAtLS0gdGhpcyBwaWVjZSBzaG91bGQgYmUgZW5jb2RlZCBhcyBhbiBlbnRpdHkuXG4gICAgICAgICAgdGV4dCArPSAnPCc7XG4gICAgICAgICAgaHRtbCA9IGh0bWwuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFycykge1xuICAgICAgICBpbmRleCA9IGh0bWwuaW5kZXhPZihcIjxcIik7XG5cbiAgICAgICAgdGV4dCArPSBpbmRleCA8IDAgPyBodG1sIDogaHRtbC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICBodG1sID0gaW5kZXggPCAwID8gXCJcIiA6IGh0bWwuc3Vic3RyaW5nKGluZGV4KTtcblxuICAgICAgICBpZiAoaGFuZGxlci5jaGFycykgaGFuZGxlci5jaGFycyhkZWNvZGVFbnRpdGllcyh0ZXh0KSk7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSUUgdmVyc2lvbnMgOSBhbmQgMTAgZG8gbm90IHVuZGVyc3RhbmQgdGhlIHJlZ2V4ICdbXl0nLCBzbyB1c2luZyBhIHdvcmthcm91bmQgd2l0aCBbXFxXXFx3XS5cbiAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UobmV3IFJlZ0V4cChcIihbXFxcXFdcXFxcd10qKTxcXFxccypcXFxcL1xcXFxzKlwiICsgc3RhY2subGFzdCgpICsgXCJbXj5dKj5cIiwgJ2knKSxcbiAgICAgICAgZnVuY3Rpb24oYWxsLCB0ZXh0KSB7XG4gICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShDT01NRU5UX1JFR0VYUCwgXCIkMVwiKS5yZXBsYWNlKENEQVRBX1JFR0VYUCwgXCIkMVwiKTtcblxuICAgICAgICAgIGlmIChoYW5kbGVyLmNoYXJzKSBoYW5kbGVyLmNoYXJzKGRlY29kZUVudGl0aWVzKHRleHQpKTtcblxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfSk7XG5cbiAgICAgIHBhcnNlRW5kVGFnKFwiXCIsIHN0YWNrLmxhc3QoKSk7XG4gICAgfVxuXG4gICAgaWYgKGh0bWwgPT0gbGFzdCkge1xuICAgICAgdGhyb3cgJHNhbml0aXplTWluRXJyKCdiYWRwYXJzZScsIFwiVGhlIHNhbml0aXplciB3YXMgdW5hYmxlIHRvIHBhcnNlIHRoZSBmb2xsb3dpbmcgYmxvY2sgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib2YgaHRtbDogezB9XCIsIGh0bWwpO1xuICAgIH1cbiAgICBsYXN0ID0gaHRtbDtcbiAgfVxuXG4gIC8vIENsZWFuIHVwIGFueSByZW1haW5pbmcgdGFnc1xuICBwYXJzZUVuZFRhZygpO1xuXG4gIGZ1bmN0aW9uIHBhcnNlU3RhcnRUYWcodGFnLCB0YWdOYW1lLCByZXN0LCB1bmFyeSkge1xuICAgIHRhZ05hbWUgPSBhbmd1bGFyLmxvd2VyY2FzZSh0YWdOYW1lKTtcbiAgICBpZiAoYmxvY2tFbGVtZW50c1t0YWdOYW1lXSkge1xuICAgICAgd2hpbGUgKHN0YWNrLmxhc3QoKSAmJiBpbmxpbmVFbGVtZW50c1tzdGFjay5sYXN0KCldKSB7XG4gICAgICAgIHBhcnNlRW5kVGFnKFwiXCIsIHN0YWNrLmxhc3QoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbmFsRW5kVGFnRWxlbWVudHNbdGFnTmFtZV0gJiYgc3RhY2subGFzdCgpID09IHRhZ05hbWUpIHtcbiAgICAgIHBhcnNlRW5kVGFnKFwiXCIsIHRhZ05hbWUpO1xuICAgIH1cblxuICAgIHVuYXJ5ID0gdm9pZEVsZW1lbnRzW3RhZ05hbWVdIHx8ICEhdW5hcnk7XG5cbiAgICBpZiAoIXVuYXJ5KVxuICAgICAgc3RhY2sucHVzaCh0YWdOYW1lKTtcblxuICAgIHZhciBhdHRycyA9IHt9O1xuXG4gICAgcmVzdC5yZXBsYWNlKEFUVFJfUkVHRVhQLFxuICAgICAgZnVuY3Rpb24obWF0Y2gsIG5hbWUsIGRvdWJsZVF1b3RlZFZhbHVlLCBzaW5nbGVRdW90ZWRWYWx1ZSwgdW5xdW90ZWRWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBkb3VibGVRdW90ZWRWYWx1ZVxuICAgICAgICAgIHx8IHNpbmdsZVF1b3RlZFZhbHVlXG4gICAgICAgICAgfHwgdW5xdW90ZWRWYWx1ZVxuICAgICAgICAgIHx8ICcnO1xuXG4gICAgICAgIGF0dHJzW25hbWVdID0gZGVjb2RlRW50aXRpZXModmFsdWUpO1xuICAgIH0pO1xuICAgIGlmIChoYW5kbGVyLnN0YXJ0KSBoYW5kbGVyLnN0YXJ0KHRhZ05hbWUsIGF0dHJzLCB1bmFyeSk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUVuZFRhZyh0YWcsIHRhZ05hbWUpIHtcbiAgICB2YXIgcG9zID0gMCwgaTtcbiAgICB0YWdOYW1lID0gYW5ndWxhci5sb3dlcmNhc2UodGFnTmFtZSk7XG4gICAgaWYgKHRhZ05hbWUpXG4gICAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IG9wZW5lZCB0YWcgb2YgdGhlIHNhbWUgdHlwZVxuICAgICAgZm9yIChwb3MgPSBzdGFjay5sZW5ndGggLSAxOyBwb3MgPj0gMDsgcG9zLS0pXG4gICAgICAgIGlmIChzdGFja1twb3NdID09IHRhZ05hbWUpXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICBpZiAocG9zID49IDApIHtcbiAgICAgIC8vIENsb3NlIGFsbCB0aGUgb3BlbiBlbGVtZW50cywgdXAgdGhlIHN0YWNrXG4gICAgICBmb3IgKGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IHBvczsgaS0tKVxuICAgICAgICBpZiAoaGFuZGxlci5lbmQpIGhhbmRsZXIuZW5kKHN0YWNrW2ldKTtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSBvcGVuIGVsZW1lbnRzIGZyb20gdGhlIHN0YWNrXG4gICAgICBzdGFjay5sZW5ndGggPSBwb3M7XG4gICAgfVxuICB9XG59XG5cbnZhciBoaWRkZW5QcmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbi8qKlxuICogZGVjb2RlcyBhbGwgZW50aXRpZXMgaW50byByZWd1bGFyIHN0cmluZ1xuICogQHBhcmFtIHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyB3aXRoIGRlY29kZWQgZW50aXRpZXMuXG4gKi9cbmZ1bmN0aW9uIGRlY29kZUVudGl0aWVzKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHsgcmV0dXJuICcnOyB9XG5cbiAgaGlkZGVuUHJlLmlubmVySFRNTCA9IHZhbHVlLnJlcGxhY2UoLzwvZyxcIiZsdDtcIik7XG4gIC8vIGlubmVyVGV4dCBkZXBlbmRzIG9uIHN0eWxpbmcgYXMgaXQgZG9lc24ndCBkaXNwbGF5IGhpZGRlbiBlbGVtZW50cy5cbiAgLy8gVGhlcmVmb3JlLCBpdCdzIGJldHRlciB0byB1c2UgdGV4dENvbnRlbnQgbm90IHRvIGNhdXNlIHVubmVjZXNzYXJ5IHJlZmxvd3MuXG4gIHJldHVybiBoaWRkZW5QcmUudGV4dENvbnRlbnQ7XG59XG5cbi8qKlxuICogRXNjYXBlcyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnMsIHNvIHRoYXQgdGhlXG4gKiByZXN1bHRpbmcgc3RyaW5nIGNhbiBiZSBzYWZlbHkgaW5zZXJ0ZWQgaW50byBhdHRyaWJ1dGUgb3JcbiAqIGVsZW1lbnQgdGV4dC5cbiAqIEBwYXJhbSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ30gZXNjYXBlZCB0ZXh0XG4gKi9cbmZ1bmN0aW9uIGVuY29kZUVudGl0aWVzKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5cbiAgICByZXBsYWNlKC8mL2csICcmYW1wOycpLlxuICAgIHJlcGxhY2UoU1VSUk9HQVRFX1BBSVJfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGhpID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgICAgIHZhciBsb3cgPSB2YWx1ZS5jaGFyQ29kZUF0KDEpO1xuICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuICAgIH0pLlxuICAgIHJlcGxhY2UoTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gJyYjJyArIHZhbHVlLmNoYXJDb2RlQXQoMCkgKyAnOyc7XG4gICAgfSkuXG4gICAgcmVwbGFjZSgvPC9nLCAnJmx0OycpLlxuICAgIHJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn1cblxuLyoqXG4gKiBjcmVhdGUgYW4gSFRNTC9YTUwgd3JpdGVyIHdoaWNoIHdyaXRlcyB0byBidWZmZXJcbiAqIEBwYXJhbSB7QXJyYXl9IGJ1ZiB1c2UgYnVmLmphaW4oJycpIHRvIGdldCBvdXQgc2FuaXRpemVkIGh0bWwgc3RyaW5nXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBpbiB0aGUgZm9ybSBvZiB7XG4gKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMsIHVuYXJ5KSB7fSxcbiAqICAgICBlbmQ6IGZ1bmN0aW9uKHRhZykge30sXG4gKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxuICogICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKHRleHQpIHt9XG4gKiB9XG4gKi9cbmZ1bmN0aW9uIGh0bWxTYW5pdGl6ZVdyaXRlcihidWYsIHVyaVZhbGlkYXRvcikge1xuICB2YXIgaWdub3JlID0gZmFsc2U7XG4gIHZhciBvdXQgPSBhbmd1bGFyLmJpbmQoYnVmLCBidWYucHVzaCk7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMsIHVuYXJ5KSB7XG4gICAgICB0YWcgPSBhbmd1bGFyLmxvd2VyY2FzZSh0YWcpO1xuICAgICAgaWYgKCFpZ25vcmUgJiYgc3BlY2lhbEVsZW1lbnRzW3RhZ10pIHtcbiAgICAgICAgaWdub3JlID0gdGFnO1xuICAgICAgfVxuICAgICAgaWYgKCFpZ25vcmUgJiYgdmFsaWRFbGVtZW50c1t0YWddID09PSB0cnVlKSB7XG4gICAgICAgIG91dCgnPCcpO1xuICAgICAgICBvdXQodGFnKTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGF0dHJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgdmFyIGxrZXk9YW5ndWxhci5sb3dlcmNhc2Uoa2V5KTtcbiAgICAgICAgICB2YXIgaXNJbWFnZSA9ICh0YWcgPT09ICdpbWcnICYmIGxrZXkgPT09ICdzcmMnKSB8fCAobGtleSA9PT0gJ2JhY2tncm91bmQnKTtcbiAgICAgICAgICBpZiAodmFsaWRBdHRyc1tsa2V5XSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgKHVyaUF0dHJzW2xrZXldICE9PSB0cnVlIHx8IHVyaVZhbGlkYXRvcih2YWx1ZSwgaXNJbWFnZSkpKSB7XG4gICAgICAgICAgICBvdXQoJyAnKTtcbiAgICAgICAgICAgIG91dChrZXkpO1xuICAgICAgICAgICAgb3V0KCc9XCInKTtcbiAgICAgICAgICAgIG91dChlbmNvZGVFbnRpdGllcyh2YWx1ZSkpO1xuICAgICAgICAgICAgb3V0KCdcIicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG91dCh1bmFyeSA/ICcvPicgOiAnPicpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZW5kOiBmdW5jdGlvbih0YWcpIHtcbiAgICAgICAgdGFnID0gYW5ndWxhci5sb3dlcmNhc2UodGFnKTtcbiAgICAgICAgaWYgKCFpZ25vcmUgJiYgdmFsaWRFbGVtZW50c1t0YWddID09PSB0cnVlKSB7XG4gICAgICAgICAgb3V0KCc8LycpO1xuICAgICAgICAgIG91dCh0YWcpO1xuICAgICAgICAgIG91dCgnPicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gaWdub3JlKSB7XG4gICAgICAgICAgaWdub3JlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgY2hhcnM6IGZ1bmN0aW9uKGNoYXJzKSB7XG4gICAgICAgIGlmICghaWdub3JlKSB7XG4gICAgICAgICAgb3V0KGVuY29kZUVudGl0aWVzKGNoYXJzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfTtcbn1cblxuXG4vLyBkZWZpbmUgbmdTYW5pdGl6ZSBtb2R1bGUgYW5kIHJlZ2lzdGVyICRzYW5pdGl6ZSBzZXJ2aWNlXG5hbmd1bGFyLm1vZHVsZSgnbmdTYW5pdGl6ZScsIFtdKS5wcm92aWRlcignJHNhbml0aXplJywgJFNhbml0aXplUHJvdmlkZXIpO1xuXG4vKiBnbG9iYWwgc2FuaXRpemVUZXh0OiBmYWxzZSAqL1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGxpbmt5XG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmluZHMgbGlua3MgaW4gdGV4dCBpbnB1dCBhbmQgdHVybnMgdGhlbSBpbnRvIGh0bWwgbGlua3MuIFN1cHBvcnRzIGh0dHAvaHR0cHMvZnRwL21haWx0byBhbmRcbiAqIHBsYWluIGVtYWlsIGFkZHJlc3MgbGlua3MuXG4gKlxuICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1Nhbml0aXplIGBuZ1Nhbml0aXplYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBJbnB1dCB0ZXh0LlxuICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldCBXaW5kb3cgKF9ibGFua3xfc2VsZnxfcGFyZW50fF90b3ApIG9yIG5hbWVkIGZyYW1lIHRvIG9wZW4gbGlua3MgaW4uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIdG1sLWxpbmtpZmllZCB0ZXh0LlxuICpcbiAqIEB1c2FnZVxuICAgPHNwYW4gbmctYmluZC1odG1sPVwibGlua3lfZXhwcmVzc2lvbiB8IGxpbmt5XCI+PC9zcGFuPlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsaW5reUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbGlua3lFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnNuaXBwZXQgPVxuICAgICAgICAgICAgICAgJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczpcXG4nK1xuICAgICAgICAgICAgICAgJ2h0dHA6Ly9hbmd1bGFyanMub3JnLyxcXG4nK1xuICAgICAgICAgICAgICAgJ21haWx0bzp1c0Bzb21ld2hlcmUub3JnLFxcbicrXG4gICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLFxcbicrXG4gICAgICAgICAgICAgICAnYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLic7XG4gICAgICAgICAgICAgJHNjb3BlLnNuaXBwZXRXaXRoVGFyZ2V0ID0gJ2h0dHA6Ly9hbmd1bGFyanMub3JnLyc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgIFNuaXBwZXQ6IDx0ZXh0YXJlYSBuZy1tb2RlbD1cInNuaXBwZXRcIiBjb2xzPVwiNjBcIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XG4gICAgICAgPHRhYmxlPlxuICAgICAgICAgPHRyPlxuICAgICAgICAgICA8dGQ+RmlsdGVyPC90ZD5cbiAgICAgICAgICAgPHRkPlNvdXJjZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5SZW5kZXJlZDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwibGlua3ktZmlsdGVyXCI+XG4gICAgICAgICAgIDx0ZD5saW5reSBmaWx0ZXI8L3RkPlxuICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXQgfCBsaW5reVwiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgIDxkaXYgbmctYmluZC1odG1sPVwic25pcHBldCB8IGxpbmt5XCI+PC9kaXY+XG4gICAgICAgICAgIDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwibGlua3ktdGFyZ2V0XCI+XG4gICAgICAgICAgPHRkPmxpbmt5IHRhcmdldDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRXaXRoVGFyZ2V0IHwgbGlua3k6J19ibGFuaydcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRXaXRoVGFyZ2V0IHwgbGlua3k6J19ibGFuaydcIj48L2Rpdj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImVzY2FwZWQtaHRtbFwiPlxuICAgICAgICAgICA8dGQ+bm8gZmlsdGVyPC90ZD5cbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kPVwic25pcHBldFwiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgbGlua2lmeSB0aGUgc25pcHBldCB3aXRoIHVybHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1maWx0ZXInKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0IHwgbGlua3knKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgICB0b0JlKCdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6IGh0dHA6Ly9hbmd1bGFyanMub3JnLywgdXNAc29tZXdoZXJlLm9yZywgJyArXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjbGlua3ktZmlsdGVyIGEnKSkuY291bnQoKSkudG9FcXVhbCg0KTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgbm90IGxpbmtpZnkgc25pcHBldCB3aXRob3V0IHRoZSBsaW5reSBmaWx0ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdlc2NhcGVkLWh0bWwnKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIG1haWx0bzp1c0Bzb21ld2hlcmUub3JnLCAnICtcbiAgICAgICAgICAgICAgICAgICdhbm90aGVyQHNvbWV3aGVyZS5vcmcsIGFuZCBvbmUgbW9yZTogZnRwOi8vMTI3LjAuMC4xLy4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJyNlc2NhcGVkLWh0bWwgYScpKS5jb3VudCgpKS50b0VxdWFsKDApO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuc2VuZEtleXMoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1maWx0ZXInKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0IHwgbGlua3knKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgICB0b0JlKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjbGlua3ktZmlsdGVyIGEnKSkuY291bnQoKSkudG9FcXVhbCgxKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdlc2NhcGVkLWh0bWwnKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0JykpLmdldFRleHQoKSlcbiAgICAgICAgICAgICAudG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggdGhlIHRhcmdldCBwcm9wZXJ0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktdGFyZ2V0JykpLlxuICAgICAgICAgICAgZWxlbWVudChieS5iaW5kaW5nKFwic25pcHBldFdpdGhUYXJnZXQgfCBsaW5reTonX2JsYW5rJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvQmUoJ2h0dHA6Ly9hbmd1bGFyanMub3JnLycpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNsaW5reS10YXJnZXQgYScpKS5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpKS50b0VxdWFsKCdfYmxhbmsnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbmdTYW5pdGl6ZScpLmZpbHRlcignbGlua3knLCBbJyRzYW5pdGl6ZScsIGZ1bmN0aW9uKCRzYW5pdGl6ZSkge1xuICB2YXIgTElOS1lfVVJMX1JFR0VYUCA9XG4gICAgICAgIC8oKGZ0cHxodHRwcz8pOlxcL1xcL3wod3d3XFwuKXwobWFpbHRvOik/W0EtWmEtejAtOS5fJSstXStAKVxcUypbXlxccy47LCgpe308Plwi4oCd4oCZXS9pLFxuICAgICAgTUFJTFRPX1JFR0VYUCA9IC9ebWFpbHRvOi9pO1xuXG4gIHJldHVybiBmdW5jdGlvbih0ZXh0LCB0YXJnZXQpIHtcbiAgICBpZiAoIXRleHQpIHJldHVybiB0ZXh0O1xuICAgIHZhciBtYXRjaDtcbiAgICB2YXIgcmF3ID0gdGV4dDtcbiAgICB2YXIgaHRtbCA9IFtdO1xuICAgIHZhciB1cmw7XG4gICAgdmFyIGk7XG4gICAgd2hpbGUgKChtYXRjaCA9IHJhdy5tYXRjaChMSU5LWV9VUkxfUkVHRVhQKSkpIHtcbiAgICAgIC8vIFdlIGNhbiBub3QgZW5kIGluIHRoZXNlIGFzIHRoZXkgYXJlIHNvbWV0aW1lcyBmb3VuZCBhdCB0aGUgZW5kIG9mIHRoZSBzZW50ZW5jZVxuICAgICAgdXJsID0gbWF0Y2hbMF07XG4gICAgICAvLyBpZiB3ZSBkaWQgbm90IG1hdGNoIGZ0cC9odHRwL3d3dy9tYWlsdG8gdGhlbiBhc3N1bWUgbWFpbHRvXG4gICAgICBpZiAoIW1hdGNoWzJdICYmICFtYXRjaFs0XSkge1xuICAgICAgICB1cmwgPSAobWF0Y2hbM10gPyAnaHR0cDovLycgOiAnbWFpbHRvOicpICsgdXJsO1xuICAgICAgfVxuICAgICAgaSA9IG1hdGNoLmluZGV4O1xuICAgICAgYWRkVGV4dChyYXcuc3Vic3RyKDAsIGkpKTtcbiAgICAgIGFkZExpbmsodXJsLCBtYXRjaFswXS5yZXBsYWNlKE1BSUxUT19SRUdFWFAsICcnKSk7XG4gICAgICByYXcgPSByYXcuc3Vic3RyaW5nKGkgKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgIH1cbiAgICBhZGRUZXh0KHJhdyk7XG4gICAgcmV0dXJuICRzYW5pdGl6ZShodG1sLmpvaW4oJycpKTtcblxuICAgIGZ1bmN0aW9uIGFkZFRleHQodGV4dCkge1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGh0bWwucHVzaChzYW5pdGl6ZVRleHQodGV4dCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZExpbmsodXJsLCB0ZXh0KSB7XG4gICAgICBodG1sLnB1c2goJzxhICcpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRhcmdldCkpIHtcbiAgICAgICAgaHRtbC5wdXNoKCd0YXJnZXQ9XCInLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgJ1wiICcpO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKCdocmVmPVwiJyxcbiAgICAgICAgICAgICAgICB1cmwucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLFxuICAgICAgICAgICAgICAgICdcIj4nKTtcbiAgICAgIGFkZFRleHQodGV4dCk7XG4gICAgICBodG1sLnB1c2goJzwvYT4nKTtcbiAgICB9XG4gIH07XG59XSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG5cbi8qIGFuZ3VsYXItbG9hZC5qcyAvIHYwLjQuMSAvIChjKSAyMDE0LCAyMDE1LCAyMDE2IFVyaSBTaGFrZWQgLyBNSVQgTGljZW5jZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJMb2FkJywgW10pXG5cdFx0LnNlcnZpY2UoJ2FuZ3VsYXJMb2FkJywgWyckZG9jdW1lbnQnLCAnJHEnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJGRvY3VtZW50LCAkcSwgJHRpbWVvdXQpIHtcblx0XHRcdHZhciBkb2N1bWVudCA9ICRkb2N1bWVudFswXTtcblxuXHRcdFx0ZnVuY3Rpb24gbG9hZGVyKGNyZWF0ZUVsZW1lbnQpIHtcblx0XHRcdFx0dmFyIHByb21pc2VzID0ge307XG5cblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKHVybCkge1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgcHJvbWlzZXNbdXJsXSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cdFx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQodXJsKTtcblxuXHRcdFx0XHRcdFx0ZWxlbWVudC5vbmxvYWQgPSBlbGVtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChlbGVtZW50LnJlYWR5U3RhdGUgJiYgZWxlbWVudC5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnICYmIGVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShlKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRwcm9taXNlc1t1cmxdID0gZGVmZXJyZWQucHJvbWlzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZXNbdXJsXTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEeW5hbWljYWxseSBsb2FkcyB0aGUgZ2l2ZW4gc2NyaXB0XG5cdFx0XHQgKiBAcGFyYW0gc3JjIFRoZSB1cmwgb2YgdGhlIHNjcmlwdCB0byBsb2FkIGR5bmFtaWNhbGx5XG5cdFx0XHQgKiBAcmV0dXJucyB7Kn0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb25jZSB0aGUgc2NyaXB0IGhhcyBiZWVuIGxvYWRlZC5cblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5sb2FkU2NyaXB0ID0gbG9hZGVyKGZ1bmN0aW9uIChzcmMpIHtcblx0XHRcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0XHRcdHNjcmlwdC5zcmMgPSBzcmM7XG5cblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXHRcdFx0XHRyZXR1cm4gc2NyaXB0O1xuXHRcdFx0fSk7XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogRHluYW1pY2FsbHkgbG9hZHMgdGhlIGdpdmVuIENTUyBmaWxlXG5cdFx0XHQgKiBAcGFyYW0gaHJlZiBUaGUgdXJsIG9mIHRoZSBDU1MgdG8gbG9hZCBkeW5hbWljYWxseVxuXHRcdFx0ICogQHJldHVybnMgeyp9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9uY2UgdGhlIENTUyBmaWxlIGhhcyBiZWVuIGxvYWRlZC5cblx0XHRcdCAqL1xuXHRcdFx0dGhpcy5sb2FkQ1NTID0gbG9hZGVyKGZ1bmN0aW9uIChocmVmKSB7XG5cdFx0XHRcdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcblxuXHRcdFx0XHRzdHlsZS5yZWwgPSAnc3R5bGVzaGVldCc7XG5cdFx0XHRcdHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXHRcdFx0XHRzdHlsZS5ocmVmID0gaHJlZjtcblxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHRcdFx0cmV0dXJuIHN0eWxlO1xuXHRcdFx0fSk7XG5cdFx0fV0pO1xufSkoKTtcblxuLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjUuMiAtIDIwMTQtMTItMTBcbiAqIGh0dHA6Ly9naXRodWIuY29tL2FuZ3VsYXItdHJhbnNsYXRlL2FuZ3VsYXItdHJhbnNsYXRlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgOyBMaWNlbnNlZCBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclxuICogQHJlcXVpcmVzICRxXG4gKiBAcmVxdWlyZXMgJGh0dHBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhIHR5cGljYWwgc3RhdGljIGZpbGUgdXJsIHBhdHRlcm46XG4gKiBcImxhbmctZW5fVVMuanNvblwiLCBcImxhbmctZGVfREUuanNvblwiLCBldGMuIFVzaW5nIHRoaXMgYnVpbGRlcixcbiAqIHRoZSByZXNwb25zZSBvZiB0aGVzZSB1cmxzIG11c3QgYmUgYW4gb2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCwgd2hpY2ggZ2V0cyBwcmVmaXgsIHN1ZmZpeCBhbmQga2V5LlxuICovXG4uZmFjdG9yeSgnJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgWyckcScsICckaHR0cCcsIGZ1bmN0aW9uICgkcSwgJGh0dHApIHtcblxuICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIGlmICghb3B0aW9ucyB8fCAoIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBsb2FkIHN0YXRpYyBmaWxlcywgbm8gcHJlZml4IG9yIHN1ZmZpeCBzcGVjaWZpZWQhJyk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgIHVybDogW1xuICAgICAgICBvcHRpb25zLnByZWZpeCxcbiAgICAgICAgb3B0aW9ucy5rZXksXG4gICAgICAgIG9wdGlvbnMuc3VmZml4XG4gICAgICBdLmpvaW4oJycpLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczogJydcbiAgICB9LCBvcHRpb25zLiRodHRwKSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KG9wdGlvbnMua2V5KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xufV0pO1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBhbmd1bGFyLCB3aW5kb3cgKi9cblxuLyoqXG4gKiBSZWltcGxlbWVudGF0aW9uIG9mICR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlciB0byBoYW5kbGUgbWlzc2luZyBmaWxlcyBhbmQgbG9jYWxlIGhpZXJhcmNoeSAoZW4vZW5fVVMpXG4gKi9cbmFuZ3VsYXIubW9kdWxlKFwicGFzY2FscHJlY2h0LnRyYW5zbGF0ZVwiKS5mYWN0b3J5KFwiJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXCIsIFtcbiAgXCIkcVwiLFxuICBcIiRodHRwXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGh0dHApIHtcbiAgICBmdW5jdGlvbiBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdGlvbnMsIGRlZmVycmVkKSB7XG4gICAgICAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIHVybDogW1xuICAgICAgICAgIG9wdGlvbnMucHJlZml4LFxuICAgICAgICAgIG9wdGlvbnMua2V5LnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgb3B0aW9ucy5zdWZmaXhcbiAgICAgICAgXS5qb2luKFwiXCIpLFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIHBhcmFtczogXCJcIlxuICAgICAgfSwgb3B0aW9ucy4kaHR0cCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYob3B0aW9ucy5rZXkuaW5kZXhPZihcIl9cIikgPj0gMCkge1xuICAgICAgICAgIHZhciBrZXkgPSBvcHRpb25zLmtleS5zdWJzdHIoMCwgb3B0aW9ucy5rZXkubGFzdEluZGV4T2YoXCJfXCIpKTtcbiAgICAgICAgICB2YXIgb3B0cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGtleToga2V5IH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0cywgZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoXCJ7fVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkblxcXCJ0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCFcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuICB9XG5dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsIFtcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIiwgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiXSlcbi5jb25maWcoW1wiJHRyYW5zbGF0ZVByb3ZpZGVyXCIsIFwiTE9DQUxFU19QUkVGSVhcIiwgXCJMT0NBTEVTX1NVRklYXCIsIGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIsIExPQ0FMRVNfUFJFRklYLCBMT0NBTEVTX1NVRklYKSB7XG4gIC8vIFRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbG9jYWxlXG4gICR0cmFuc2xhdGVQcm92aWRlci51c2VTdGF0aWNGaWxlc0xvYWRlcih7XG4gICAgcHJlZml4OiBMT0NBTEVTX1BSRUZJWCxcbiAgICBzdWZmaXg6IExPQ0FMRVNfU1VGSVhcbiAgfSk7XG4gIFxuICAkdHJhbnNsYXRlUHJvdmlkZXJcbiAgICAuZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UoKVxuICAgIC5mYWxsYmFja0xhbmd1YWdlKFwiZW5cIik7XG59XSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhZmZpeC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FmZml4XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUZGSVggQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEFmZml4ID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQWZmaXguREVGQVVMVFMsIG9wdGlvbnMpXG5cbiAgICB0aGlzLiR0YXJnZXQgPSAkKHRoaXMub3B0aW9ucy50YXJnZXQpXG4gICAgICAub24oJ3Njcm9sbC5icy5hZmZpeC5kYXRhLWFwaScsICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSlcbiAgICAgIC5vbignY2xpY2suYnMuYWZmaXguZGF0YS1hcGknLCAgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wLCB0aGlzKSlcblxuICAgIHRoaXMuJGVsZW1lbnQgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuYWZmaXhlZCAgICAgID1cbiAgICB0aGlzLnVucGluICAgICAgICA9XG4gICAgdGhpcy5waW5uZWRPZmZzZXQgPSBudWxsXG5cbiAgICB0aGlzLmNoZWNrUG9zaXRpb24oKVxuICB9XG5cbiAgQWZmaXguVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQWZmaXguUkVTRVQgICAgPSAnYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSdcblxuICBBZmZpeC5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGFyZ2V0OiB3aW5kb3dcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucGlubmVkT2Zmc2V0KSByZXR1cm4gdGhpcy5waW5uZWRPZmZzZXRcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKS5hZGRDbGFzcygnYWZmaXgnKVxuICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHJldHVybiAodGhpcy5waW5uZWRPZmZzZXQgPSBwb3NpdGlvbi50b3AgLSBzY3JvbGxUb3ApXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCgkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcyksIDEpXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHJldHVyblxuXG4gICAgdmFyIHNjcm9sbEhlaWdodCA9ICQoZG9jdW1lbnQpLmhlaWdodCgpXG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgICAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgdmFyIG9mZnNldCAgICAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcFxuICAgIHZhciBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tXG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCAhPSAnb2JqZWN0JykgICAgICAgICBvZmZzZXRCb3R0b20gPSBvZmZzZXRUb3AgPSBvZmZzZXRcbiAgICBpZiAodHlwZW9mIG9mZnNldFRvcCA9PSAnZnVuY3Rpb24nKSAgICBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wKHRoaXMuJGVsZW1lbnQpXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRCb3R0b20gPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSh0aGlzLiRlbGVtZW50KVxuXG4gICAgdmFyIGFmZml4ID0gdGhpcy51bnBpbiAgICE9IG51bGwgJiYgKHNjcm9sbFRvcCArIHRoaXMudW5waW4gPD0gcG9zaXRpb24udG9wKSA/IGZhbHNlIDpcbiAgICAgICAgICAgICAgICBvZmZzZXRCb3R0b20gIT0gbnVsbCAmJiAocG9zaXRpb24udG9wICsgdGhpcy4kZWxlbWVudC5oZWlnaHQoKSA+PSBzY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b20pID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgIG9mZnNldFRvcCAgICAhPSBudWxsICYmIChzY3JvbGxUb3AgPD0gb2Zmc2V0VG9wKSA/ICd0b3AnIDogZmFsc2VcblxuICAgIGlmICh0aGlzLmFmZml4ZWQgPT09IGFmZml4KSByZXR1cm5cbiAgICBpZiAodGhpcy51bnBpbiAhPSBudWxsKSB0aGlzLiRlbGVtZW50LmNzcygndG9wJywgJycpXG5cbiAgICB2YXIgYWZmaXhUeXBlID0gJ2FmZml4JyArIChhZmZpeCA/ICctJyArIGFmZml4IDogJycpXG4gICAgdmFyIGUgICAgICAgICA9ICQuRXZlbnQoYWZmaXhUeXBlICsgJy5icy5hZmZpeCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuYWZmaXhlZCA9IGFmZml4XG4gICAgdGhpcy51bnBpbiA9IGFmZml4ID09ICdib3R0b20nID8gdGhpcy5nZXRQaW5uZWRPZmZzZXQoKSA6IG51bGxcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVClcbiAgICAgIC5hZGRDbGFzcyhhZmZpeFR5cGUpXG4gICAgICAudHJpZ2dlcigkLkV2ZW50KGFmZml4VHlwZS5yZXBsYWNlKCdhZmZpeCcsICdhZmZpeGVkJykpKVxuXG4gICAgaWYgKGFmZml4ID09ICdib3R0b20nKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZnNldCh7XG4gICAgICAgIHRvcDogc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kZWxlbWVudC5oZWlnaHQoKSAtIG9mZnNldEJvdHRvbVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuXG4gIC8vIEFGRklYIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmFmZml4JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hZmZpeCcsIChkYXRhID0gbmV3IEFmZml4KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5hZmZpeFxuXG4gICQuZm4uYWZmaXggICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5hZmZpeC5Db25zdHJ1Y3RvciA9IEFmZml4XG5cblxuICAvLyBBRkZJWCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYWZmaXgubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmFmZml4ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQUZGSVggREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwiYWZmaXhcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgPSAkc3B5LmRhdGEoKVxuXG4gICAgICBkYXRhLm9mZnNldCA9IGRhdGEub2Zmc2V0IHx8IHt9XG5cbiAgICAgIGlmIChkYXRhLm9mZnNldEJvdHRvbSkgZGF0YS5vZmZzZXQuYm90dG9tID0gZGF0YS5vZmZzZXRCb3R0b21cbiAgICAgIGlmIChkYXRhLm9mZnNldFRvcCkgICAgZGF0YS5vZmZzZXQudG9wICAgID0gZGF0YS5vZmZzZXRUb3BcblxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgZGF0YSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhbGVydC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FsZXJ0c1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFMRVJUIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBkaXNtaXNzID0gJ1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXSdcbiAgdmFyIEFsZXJ0ICAgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKVxuICB9XG5cbiAgQWxlcnQuVkVSU0lPTiA9ICczLjIuMCdcblxuICBBbGVydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgICA9ICQodGhpcylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gJChzZWxlY3RvcilcblxuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmICghJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgICRwYXJlbnQgPSAkdGhpcy5oYXNDbGFzcygnYWxlcnQnKSA/ICR0aGlzIDogJHRoaXMucGFyZW50KClcbiAgICB9XG5cbiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlLmJzLmFsZXJ0JykpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xuICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgJHBhcmVudC5kZXRhY2goKS50cmlnZ2VyKCdjbG9zZWQuYnMuYWxlcnQnKS5yZW1vdmUoKVxuICAgIH1cblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkcGFyZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIHJlbW92ZUVsZW1lbnQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgIHJlbW92ZUVsZW1lbnQoKVxuICB9XG5cblxuICAvLyBBTEVSVCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hbGVydCcsIChkYXRhID0gbmV3IEFsZXJ0KHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcblxuICAkLmZuLmFsZXJ0ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWxlcnQuQ29uc3RydWN0b3IgPSBBbGVydFxuXG5cbiAgLy8gQUxFUlQgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFsZXJ0Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hbGVydCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFMRVJUIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBidXR0b24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNidXR0b25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQlVUVE9OIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBCdXR0b24gPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gJC5leHRlbmQoe30sIEJ1dHRvbi5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gIH1cblxuICBCdXR0b24uVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQnV0dG9uLkRFRkFVTFRTID0ge1xuICAgIGxvYWRpbmdUZXh0OiAnbG9hZGluZy4uLidcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICB2YXIgZCAgICA9ICdkaXNhYmxlZCdcbiAgICB2YXIgJGVsICA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgdmFsICA9ICRlbC5pcygnaW5wdXQnKSA/ICd2YWwnIDogJ2h0bWwnXG4gICAgdmFyIGRhdGEgPSAkZWwuZGF0YSgpXG5cbiAgICBzdGF0ZSA9IHN0YXRlICsgJ1RleHQnXG5cbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAkZWxbdmFsXShkYXRhW3N0YXRlXSA9PSBudWxsID8gdGhpcy5vcHRpb25zW3N0YXRlXSA6IGRhdGFbc3RhdGVdKVxuXG4gICAgLy8gcHVzaCB0byBldmVudCBsb29wIHRvIGFsbG93IGZvcm1zIHRvIHN1Ym1pdFxuICAgIHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc3RhdGUgPT0gJ2xvYWRpbmdUZXh0Jykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWVcbiAgICAgICAgJGVsLmFkZENsYXNzKGQpLmF0dHIoZCwgZClcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoZCkucmVtb3ZlQXR0cihkKVxuICAgICAgfVxuICAgIH0sIHRoaXMpLCAwKVxuICB9XG5cbiAgQnV0dG9uLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNoYW5nZWQgPSB0cnVlXG4gICAgdmFyICRwYXJlbnQgPSB0aGlzLiRlbGVtZW50LmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvbnNcIl0nKVxuXG4gICAgaWYgKCRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICB2YXIgJGlucHV0ID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbnB1dCcpXG4gICAgICBpZiAoJGlucHV0LnByb3AoJ3R5cGUnKSA9PSAncmFkaW8nKSB7XG4gICAgICAgIGlmICgkaW5wdXQucHJvcCgnY2hlY2tlZCcpICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgZWxzZSAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgIGlmIChjaGFuZ2VkKSAkaW5wdXQucHJvcCgnY2hlY2tlZCcsICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkudHJpZ2dlcignY2hhbmdlJylcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZCkgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgfVxuXG5cbiAgLy8gQlVUVE9OIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5idXR0b24nKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicsIChkYXRhID0gbmV3IEJ1dHRvbih0aGlzLCBvcHRpb25zKSkpXG5cbiAgICAgIGlmIChvcHRpb24gPT0gJ3RvZ2dsZScpIGRhdGEudG9nZ2xlKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbikgZGF0YS5zZXRTdGF0ZShvcHRpb24pXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmJ1dHRvblxuXG4gICQuZm4uYnV0dG9uICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yID0gQnV0dG9uXG5cblxuICAvLyBCVVRUT04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5idXR0b24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmJ1dHRvbiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkYnRuID0gJChlLnRhcmdldClcbiAgICBpZiAoISRidG4uaGFzQ2xhc3MoJ2J0bicpKSAkYnRuID0gJGJ0bi5jbG9zZXN0KCcuYnRuJylcbiAgICBQbHVnaW4uY2FsbCgkYnRuLCAndG9nZ2xlJylcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENBUk9VU0VMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudCkub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG4gICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgdGhpcy5wYXVzZWQgICAgICA9XG4gICAgdGhpcy5zbGlkaW5nICAgICA9XG4gICAgdGhpcy5pbnRlcnZhbCAgICA9XG4gICAgdGhpcy4kYWN0aXZlICAgICA9XG4gICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXG4gICAgICAub24oJ21vdXNlbGVhdmUuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMuY3ljbGUsIHRoaXMpKVxuICB9XG5cbiAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgcGF1c2U6ICdob3ZlcicsXG4gICAgd3JhcDogdHJ1ZVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcbiAgICAgIGRlZmF1bHQ6IHJldHVyblxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuXG4gICAgdGhpcy5pbnRlcnZhbCAmJiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICYmICF0aGlzLnBhdXNlZFxuICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgIHZhciB0aGF0ICAgICAgICA9IHRoaXNcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuXG4gICAgaWYgKHBvcyA+ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm5cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCAkKHRoaXMuJGl0ZW1zW3Bvc10pKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IHRydWUpXG5cbiAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICB0aGlzLmN5Y2xlKHRydWUpXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbiAodHlwZSwgbmV4dCkge1xuICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgdmFyICRuZXh0ICAgICA9IG5leHQgfHwgJGFjdGl2ZVt0eXBlXSgpXG4gICAgdmFyIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWxcbiAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgdmFyIGZhbGxiYWNrICA9IHR5cGUgPT0gJ25leHQnID8gJ2ZpcnN0JyA6ICdsYXN0J1xuICAgIHZhciB0aGF0ICAgICAgPSB0aGlzXG5cbiAgICBpZiAoISRuZXh0Lmxlbmd0aCkge1xuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMud3JhcCkgcmV0dXJuXG4gICAgICAkbmV4dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0nKVtmYWxsYmFja10oKVxuICAgIH1cblxuICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG5cbiAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgIH0pXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRlRXZlbnQpXG4gICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuXG4gICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIHZhciAkbmV4dEluZGljYXRvciA9ICQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pXG4gICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudCgnc2xpZC5icy5jYXJvdXNlbCcsIHsgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKVxuICAgICAgJG5leHRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcyhbJ2FjdGl2ZScsIGRpcmVjdGlvbl0uam9pbignICcpKVxuICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgICAgIH0sIDApXG4gICAgICAgIH0pXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgkYWN0aXZlLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicpLnNsaWNlKDAsIC0xKSAqIDEwMDApXG4gICAgfSBlbHNlIHtcbiAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgIH1cblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJywgKGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxuICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5wYXVzZSgpLmN5Y2xlKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcblxuICAkLmZuLmNhcm91c2VsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuXG5cbiAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXSwgW2RhdGEtc2xpZGUtdG9dJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnY2Fyb3VzZWwnKSkgcmV0dXJuXG4gICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcbiAgICB2YXIgc2xpZGVJbmRleCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2xpZGUtdG8nKVxuICAgIGlmIChzbGlkZUluZGV4KSBvcHRpb25zLmludGVydmFsID0gZmFsc2VcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbnMpXG5cbiAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gbnVsbFxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQpIHRoaXMuJHBhcmVudCA9ICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuICB9XG5cbiAgQ29sbGFwc2UuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgdG9nZ2xlOiB0cnVlXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5maW5kKCc+IC5wYW5lbCA+IC5pbicpXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgdmFyIGhhc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIGlmIChoYXNEYXRhICYmIGhhc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgICBQbHVnaW4uY2FsbChhY3RpdmVzLCAnaGlkZScpXG4gICAgICBoYXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgIH1cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuY29sbGFwc2UnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpID8gJ2hpZGUnIDogJ3Nob3cnXSgpXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgb3B0aW9uID09ICdzaG93Jykgb3B0aW9uID0gIW9wdGlvblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jb2xsYXBzZVxuXG4gICQuZm4uY29sbGFwc2UgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlXG5cblxuICAvLyBDT0xMQVBTRSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY29sbGFwc2Uubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNvbGxhcHNlID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBocmVmXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyIHRhcmdldCAgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG4gICAgICAgIHx8IGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciAkdGFyZ2V0ID0gJCh0YXJnZXQpXG4gICAgdmFyIGRhdGEgICAgPSAkdGFyZ2V0LmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICB2YXIgb3B0aW9uICA9IGRhdGEgPyAndG9nZ2xlJyA6ICR0aGlzLmRhdGEoKVxuICAgIHZhciBwYXJlbnQgID0gJHRoaXMuYXR0cignZGF0YS1wYXJlbnQnKVxuICAgIHZhciAkcGFyZW50ID0gcGFyZW50ICYmICQocGFyZW50KVxuXG4gICAgaWYgKCFkYXRhIHx8ICFkYXRhLnRyYW5zaXRpb25pbmcpIHtcbiAgICAgIGlmICgkcGFyZW50KSAkcGFyZW50LmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHBhcmVudCArICdcIl0nKS5ub3QoJHRoaXMpLmFkZENsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgJHRoaXNbJHRhcmdldC5oYXNDbGFzcygnaW4nKSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXSgnY29sbGFwc2VkJylcbiAgICB9XG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGRyb3Bkb3duLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jZHJvcGRvd25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gRFJPUERPV04gQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGJhY2tkcm9wID0gJy5kcm9wZG93bi1iYWNrZHJvcCdcbiAgdmFyIHRvZ2dsZSAgID0gJ1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJ1xuICB2YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICQoZWxlbWVudCkub24oJ2NsaWNrLmJzLmRyb3Bkb3duJywgdGhpcy50b2dnbGUpXG4gIH1cblxuICBEcm9wZG93bi5WRVJTSU9OID0gJzMuMi4wJ1xuXG4gIERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcylcblxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHBhcmVudCAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICBjbGVhck1lbnVzKClcblxuICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgISRwYXJlbnQuY2xvc2VzdCgnLm5hdmJhci1uYXYnKS5sZW5ndGgpIHtcbiAgICAgICAgLy8gaWYgbW9iaWxlIHdlIHVzZSBhIGJhY2tkcm9wIGJlY2F1c2UgY2xpY2sgZXZlbnRzIGRvbid0IGRlbGVnYXRlXG4gICAgICAgICQoJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1iYWNrZHJvcFwiLz4nKS5pbnNlcnRBZnRlcigkKHRoaXMpKS5vbignY2xpY2snLCBjbGVhck1lbnVzKVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ3Nob3cuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpcy50cmlnZ2VyKCdmb2N1cycpXG5cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdvcGVuJylcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIS8oMzh8NDB8MjcpLy50ZXN0KGUua2V5Q29kZSkpIHJldHVyblxuXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGlmICghaXNBY3RpdmUgfHwgKGlzQWN0aXZlICYmIGUua2V5Q29kZSA9PSAyNykpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDI3KSAkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgIH1cblxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpdmlkZXIpOnZpc2libGUgYSdcbiAgICB2YXIgJGl0ZW1zID0gJHBhcmVudC5maW5kKCdbcm9sZT1cIm1lbnVcIl0nICsgZGVzYyArICcsIFtyb2xlPVwibGlzdGJveFwiXScgKyBkZXNjKVxuXG4gICAgaWYgKCEkaXRlbXMubGVuZ3RoKSByZXR1cm5cblxuICAgIHZhciBpbmRleCA9ICRpdGVtcy5pbmRleCgkaXRlbXMuZmlsdGVyKCc6Zm9jdXMnKSlcblxuICAgIGlmIChlLmtleUNvZGUgPT0gMzggJiYgaW5kZXggPiAwKSAgICAgICAgICAgICAgICAgaW5kZXgtLSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwXG4gICAgaWYgKGUua2V5Q29kZSA9PSA0MCAmJiBpbmRleCA8ICRpdGVtcy5sZW5ndGggLSAxKSBpbmRleCsrICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG93blxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwXG5cbiAgICAkaXRlbXMuZXEoaW5kZXgpLnRyaWdnZXIoJ2ZvY3VzJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTWVudXMoZSkge1xuICAgIGlmIChlICYmIGUud2hpY2ggPT09IDMpIHJldHVyblxuICAgICQoYmFja2Ryb3ApLnJlbW92ZSgpXG4gICAgJCh0b2dnbGUpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRwYXJlbnQgPSBnZXRQYXJlbnQoJCh0aGlzKSlcbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0geyByZWxhdGVkVGFyZ2V0OiB0aGlzIH1cbiAgICAgIGlmICghJHBhcmVudC5oYXNDbGFzcygnb3BlbicpKSByZXR1cm5cbiAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnaGlkZS5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnb3BlbicpLnRyaWdnZXIoJ2hpZGRlbi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBhcmVudCgkdGhpcykge1xuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIC8jW0EtWmEtel0vLnRlc3Qoc2VsZWN0b3IpICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSBzZWxlY3RvciAmJiAkKHNlbGVjdG9yKVxuXG4gICAgcmV0dXJuICRwYXJlbnQgJiYgJHBhcmVudC5sZW5ndGggPyAkcGFyZW50IDogJHRoaXMucGFyZW50KClcbiAgfVxuXG5cbiAgLy8gRFJPUERPV04gUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nLCAoZGF0YSA9IG5ldyBEcm9wZG93bih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmRyb3Bkb3duXG5cbiAgJC5mbi5kcm9wZG93biAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yID0gRHJvcGRvd25cblxuXG4gIC8vIERST1BET1dOIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5kcm9wZG93bi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uZHJvcGRvd24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBUFBMWSBUTyBTVEFOREFSRCBEUk9QRE9XTiBFTEVNRU5UU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIGNsZWFyTWVudXMpXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24gZm9ybScsIGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCkgfSlcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlLCBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSArICcsIFtyb2xlPVwibWVudVwiXSwgW3JvbGU9XCJsaXN0Ym94XCJdJywgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRhYi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RhYnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUQUIgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBUYWIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudClcbiAgfVxuXG4gIFRhYi5WRVJTSU9OID0gJzMuMi4wJ1xuXG4gIFRhYi5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgICAgPSB0aGlzLmVsZW1lbnRcbiAgICB2YXIgJHVsICAgICAgPSAkdGhpcy5jbG9zZXN0KCd1bDpub3QoLmRyb3Bkb3duLW1lbnUpJylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5kYXRhKCd0YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICBpZiAoJHRoaXMucGFyZW50KCdsaScpLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuXG5cbiAgICB2YXIgcHJldmlvdXMgPSAkdWwuZmluZCgnLmFjdGl2ZTpsYXN0IGEnKVswXVxuICAgIHZhciBlICAgICAgICA9ICQuRXZlbnQoJ3Nob3cuYnMudGFiJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICB9KVxuXG4gICAgJHRoaXMudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHNlbGVjdG9yKVxuXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCdsaScpLCAkdWwpXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCAkdGFyZ2V0LnBhcmVudCgpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3Nob3duLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBUYWIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICB2YXIgJGFjdGl2ZSAgICA9IGNvbnRhaW5lci5maW5kKCc+IC5hY3RpdmUnKVxuICAgIHZhciB0cmFuc2l0aW9uID0gY2FsbGJhY2tcbiAgICAgICYmICQuc3VwcG9ydC50cmFuc2l0aW9uXG4gICAgICAmJiAkYWN0aXZlLmhhc0NsYXNzKCdmYWRlJylcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJz4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIHJlZmxvdyBmb3IgdHJhbnNpdGlvblxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdmYWRlJylcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50KCcuZHJvcGRvd24tbWVudScpKSB7XG4gICAgICAgIGVsZW1lbnQuY2xvc2VzdCgnbGkuZHJvcGRvd24nKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgIHRyYW5zaXRpb24gP1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBuZXh0KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICBuZXh0KClcblxuICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2luJylcbiAgfVxuXG5cbiAgLy8gVEFCIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLnRhYicpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMudGFiJywgKGRhdGEgPSBuZXcgVGFiKHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi50YWJcblxuICAkLmZuLnRhYiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRhYi5Db25zdHJ1Y3RvciA9IFRhYlxuXG5cbiAgLy8gVEFCIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PVxuXG4gICQuZm4udGFiLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi50YWIgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBUQUIgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLnRhYi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJ0YWJcIl0sIFtkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIFBsdWdpbi5jYWxsKCQodGhpcyksICdzaG93JylcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHA6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcblxuICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgIH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICB9XG5cbiAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICB2YXIgJGVsID0gdGhpc1xuICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuXG4gICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBzY3JvbGxzcHkuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNzY3JvbGxzcHlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyIHByb2Nlc3MgID0gJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpXG5cbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJCgnYm9keScpXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudCA9ICQoZWxlbWVudCkuaXMoJ2JvZHknKSA/ICQod2luZG93KSA6ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLnNlbGVjdG9yICAgICAgID0gKHRoaXMub3B0aW9ucy50YXJnZXQgfHwgJycpICsgJyAubmF2IGxpID4gYSdcbiAgICB0aGlzLm9mZnNldHMgICAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICAgID0gW11cbiAgICB0aGlzLmFjdGl2ZVRhcmdldCAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ICAgPSAwXG5cbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwuYnMuc2Nyb2xsc3B5JywgcHJvY2VzcylcbiAgICB0aGlzLnJlZnJlc2goKVxuICAgIHRoaXMucHJvY2VzcygpXG4gIH1cblxuICBTY3JvbGxTcHkuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgU2Nyb2xsU3B5LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMTBcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuZ2V0U2Nyb2xsSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodCB8fCBNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodClcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb2Zmc2V0TWV0aG9kID0gJ29mZnNldCdcbiAgICB2YXIgb2Zmc2V0QmFzZSAgID0gMFxuXG4gICAgaWYgKCEkLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pKSB7XG4gICAgICBvZmZzZXRNZXRob2QgPSAncG9zaXRpb24nXG4gICAgICBvZmZzZXRCYXNlICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpXG4gICAgfVxuXG4gICAgdGhpcy5vZmZzZXRzID0gW11cbiAgICB0aGlzLnRhcmdldHMgPSBbXVxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuXG4gICAgdmFyIHNlbGYgICAgID0gdGhpc1xuXG4gICAgdGhpcy4kYm9keVxuICAgICAgLmZpbmQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsICAgPSAkKHRoaXMpXG4gICAgICAgIHZhciBocmVmICA9ICRlbC5kYXRhKCd0YXJnZXQnKSB8fCAkZWwuYXR0cignaHJlZicpXG4gICAgICAgIHZhciAkaHJlZiA9IC9eIy4vLnRlc3QoaHJlZikgJiYgJChocmVmKVxuXG4gICAgICAgIHJldHVybiAoJGhyZWZcbiAgICAgICAgICAmJiAkaHJlZi5sZW5ndGhcbiAgICAgICAgICAmJiAkaHJlZi5pcygnOnZpc2libGUnKVxuICAgICAgICAgICYmIFtbJGhyZWZbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIGhyZWZdXSkgfHwgbnVsbFxuICAgICAgfSlcbiAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXSB9KVxuICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLm9mZnNldHMucHVzaCh0aGlzWzBdKVxuICAgICAgICBzZWxmLnRhcmdldHMucHVzaCh0aGlzWzFdKVxuICAgICAgfSlcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSArIHRoaXMub3B0aW9ucy5vZmZzZXRcbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5nZXRTY3JvbGxIZWlnaHQoKVxuICAgIHZhciBtYXhTY3JvbGwgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy4kc2Nyb2xsRWxlbWVudC5oZWlnaHQoKVxuICAgIHZhciBvZmZzZXRzICAgICAgPSB0aGlzLm9mZnNldHNcbiAgICB2YXIgdGFyZ2V0cyAgICAgID0gdGhpcy50YXJnZXRzXG4gICAgdmFyIGFjdGl2ZVRhcmdldCA9IHRoaXMuYWN0aXZlVGFyZ2V0XG4gICAgdmFyIGlcblxuICAgIGlmICh0aGlzLnNjcm9sbEhlaWdodCAhPSBzY3JvbGxIZWlnaHQpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgpXG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcbiAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzW3RhcmdldHMubGVuZ3RoIC0gMV0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlVGFyZ2V0ICYmIHNjcm9sbFRvcCA8PSBvZmZzZXRzWzBdKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1swXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICBhY3RpdmVUYXJnZXQgIT0gdGFyZ2V0c1tpXVxuICAgICAgICAmJiBzY3JvbGxUb3AgPj0gb2Zmc2V0c1tpXVxuICAgICAgICAmJiAoIW9mZnNldHNbaSArIDFdIHx8IHNjcm9sbFRvcCA8PSBvZmZzZXRzW2kgKyAxXSlcbiAgICAgICAgJiYgdGhpcy5hY3RpdmF0ZSh0YXJnZXRzW2ldKVxuICAgIH1cbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgPSB0YXJnZXRcblxuICAgICQodGhpcy5zZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwgJy5hY3RpdmUnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuXG4gICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciArXG4gICAgICAgICdbZGF0YS10YXJnZXQ9XCInICsgdGFyZ2V0ICsgJ1wiXSwnICtcbiAgICAgICAgdGhpcy5zZWxlY3RvciArICdbaHJlZj1cIicgKyB0YXJnZXQgKyAnXCJdJ1xuXG4gICAgdmFyIGFjdGl2ZSA9ICQoc2VsZWN0b3IpXG4gICAgICAucGFyZW50cygnbGknKVxuICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgaWYgKGFjdGl2ZS5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICBhY3RpdmUgPSBhY3RpdmVcbiAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIGFjdGl2ZS50cmlnZ2VyKCdhY3RpdmF0ZS5icy5zY3JvbGxzcHknKVxuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JywgKGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5zY3JvbGxzcHlcblxuICAkLmZuLnNjcm9sbHNweSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnNjcm9sbHNweS5Db25zdHJ1Y3RvciA9IFNjcm9sbFNweVxuXG5cbiAgLy8gU0NST0xMU1BZIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uc2Nyb2xsc3B5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5zY3JvbGxzcHkgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBTQ1JPTExTUFkgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaScsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJHNweSwgJHNweS5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogbW9kYWwuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNtb2RhbHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBNT0RBTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgTW9kYWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSBvcHRpb25zXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuJGJhY2tkcm9wICAgICAgPVxuICAgIHRoaXMuaXNTaG93biAgICAgICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IDBcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3RlKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5maW5kKCcubW9kYWwtY29udGVudCcpXG4gICAgICAgIC5sb2FkKHRoaXMub3B0aW9ucy5yZW1vdGUsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignbG9hZGVkLmJzLm1vZGFsJylcbiAgICAgICAgfSwgdGhpcykpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgTW9kYWwuREVGQVVMVFMgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmlzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdzaG93LmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAodGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZVxuXG4gICAgdGhpcy5jaGVja1Njcm9sbGJhcigpXG4gICAgdGhpcy4kYm9keS5hZGRDbGFzcygnbW9kYWwtb3BlbicpXG5cbiAgICB0aGlzLnNldFNjcm9sbGJhcigpXG4gICAgdGhpcy5lc2NhcGUoKVxuXG4gICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLCAkLnByb3h5KHRoaXMuaGlkZSwgdGhpcykpXG5cbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhhdC4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpXG5cbiAgICAgIGlmICghdGhhdC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC5hcHBlbmRUbyh0aGF0LiRib2R5KSAvLyBkb24ndCBtb3ZlIG1vZGFscyBkb20gcG9zaXRpb25cbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5zY3JvbGxUb3AoMClcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuYWRkQ2xhc3MoJ2luJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpXG5cbiAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKClcblxuICAgICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93bi5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgICAgdHJhbnNpdGlvbiA/XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuZmluZCgnLm1vZGFsLWRpYWxvZycpIC8vIHdhaXQgZm9yIG1vZGFsIHRvIHNsaWRlIGluXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApIDpcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGUgPSAkLkV2ZW50KCdoaWRlLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKCF0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmlzU2hvd24gPSBmYWxzZVxuXG4gICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpXG5cbiAgICB0aGlzLnJlc2V0U2Nyb2xsYmFyKClcbiAgICB0aGlzLmVzY2FwZSgpXG5cbiAgICAkKGRvY3VtZW50KS5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG4gICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKVxuICAgICAgLm9mZignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KHRoaXMuaGlkZU1vZGFsLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCkgOlxuICAgICAgdGhpcy5oaWRlTW9kYWwoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9mZignZm9jdXNpbi5icy5tb2RhbCcpIC8vIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgLm9uKCdmb2N1c2luLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy4kZWxlbWVudFswXSAhPT0gZS50YXJnZXQgJiYgIXRoaXMuJGVsZW1lbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcykpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZXNjYXBlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdrZXl1cC5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLndoaWNoID09IDI3ICYmIHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdrZXl1cC5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy5tb2RhbCcpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRiYWNrZHJvcCAmJiB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKVxuICAgIHRoaXMuJGJhY2tkcm9wID0gbnVsbFxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmJhY2tkcm9wID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGFuaW1hdGUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAnZmFkZScgOiAnJ1xuXG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMuYmFja2Ryb3ApIHtcbiAgICAgIHZhciBkb0FuaW1hdGUgPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiBhbmltYXRlXG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wID0gJCgnPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wICcgKyBhbmltYXRlICsgJ1wiIC8+JylcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuJGJvZHkpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm5cbiAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tkcm9wID09ICdzdGF0aWMnXG4gICAgICAgICAgPyB0aGlzLiRlbGVtZW50WzBdLmZvY3VzLmNhbGwodGhpcy4kZWxlbWVudFswXSlcbiAgICAgICAgICA6IHRoaXMuaGlkZS5jYWxsKHRoaXMpXG4gICAgICB9LCB0aGlzKSlcblxuICAgICAgaWYgKGRvQW5pbWF0ZSkgdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCdpbicpXG5cbiAgICAgIGlmICghY2FsbGJhY2spIHJldHVyblxuXG4gICAgICBkb0FuaW1hdGUgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY2FsbGJhY2soKVxuXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duICYmIHRoaXMuJGJhY2tkcm9wKSB7XG4gICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQucmVtb3ZlQmFja2Ryb3AoKVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrUmVtb3ZlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY2FsbGJhY2tSZW1vdmUoKVxuXG4gICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA+PSB3aW5kb3cuaW5uZXJXaWR0aCkgcmV0dXJuXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHRoaXMuc2Nyb2xsYmFyV2lkdGggfHwgdGhpcy5tZWFzdXJlU2Nyb2xsYmFyKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJvZHlQYWQgPSBwYXJzZUludCgodGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwKSwgMTApXG4gICAgaWYgKHRoaXMuc2Nyb2xsYmFyV2lkdGgpIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZCArIHRoaXMuc2Nyb2xsYmFyV2lkdGgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCAnJylcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkgeyAvLyB0aHggd2Fsc2hcbiAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJ1xuICAgIHRoaXMuJGJvZHkuYXBwZW5kKHNjcm9sbERpdilcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGhcbiAgICB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKHNjcm9sbERpdilcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGhcbiAgfVxuXG5cbiAgLy8gTU9EQUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLCBfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLm1vZGFsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIE1vZGFsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLm1vZGFsJywgKGRhdGEgPSBuZXcgTW9kYWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXShfcmVsYXRlZFRhcmdldClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuc2hvdykgZGF0YS5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5tb2RhbFxuXG4gICQuZm4ubW9kYWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5tb2RhbC5Db25zdHJ1Y3RvciA9IE1vZGFsXG5cblxuICAvLyBNT0RBTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ubW9kYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLm1vZGFsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gTU9EQUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMubW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciBocmVmICAgID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgdmFyIG9wdGlvbiAgPSAkdGFyZ2V0LmRhdGEoJ2JzLm1vZGFsJykgPyAndG9nZ2xlJyA6ICQuZXh0ZW5kKHsgcmVtb3RlOiAhLyMvLnRlc3QoaHJlZikgJiYgaHJlZiB9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuXG4gICAgaWYgKCR0aGlzLmlzKCdhJykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgJHRhcmdldC5vbmUoJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgJHRhcmdldC5vbmUoJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHRoaXMuaXMoJzp2aXNpYmxlJykgJiYgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfSlcbiAgICB9KVxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbiwgdGhpcylcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdG9vbHRpcC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcbiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUT09MVElQIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlICAgICAgID1cbiAgICB0aGlzLm9wdGlvbnMgICAgPVxuICAgIHRoaXMuZW5hYmxlZCAgICA9XG4gICAgdGhpcy50aW1lb3V0ICAgID1cbiAgICB0aGlzLmhvdmVyU3RhdGUgPVxuICAgIHRoaXMuJGVsZW1lbnQgICA9IG51bGxcblxuICAgIHRoaXMuaW5pdCgndG9vbHRpcCcsIGVsZW1lbnQsIG9wdGlvbnMpXG4gIH1cblxuICBUb29sdGlwLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFRvb2x0aXAuREVGQVVMVFMgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJ0b29sdGlwLWFycm93XCI+PC9kaXY+PGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj48L2Rpdj48L2Rpdj4nLFxuICAgIHRyaWdnZXI6ICdob3ZlciBmb2N1cycsXG4gICAgdGl0bGU6ICcnLFxuICAgIGRlbGF5OiAwLFxuICAgIGh0bWw6IGZhbHNlLFxuICAgIGNvbnRhaW5lcjogZmFsc2UsXG4gICAgdmlld3BvcnQ6IHtcbiAgICAgIHNlbGVjdG9yOiAnYm9keScsXG4gICAgICBwYWRkaW5nOiAwXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh0eXBlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5lbmFibGVkICAgPSB0cnVlXG4gICAgdGhpcy50eXBlICAgICAgPSB0eXBlXG4gICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgPSB0aGlzLmdldE9wdGlvbnMob3B0aW9ucylcbiAgICB0aGlzLiR2aWV3cG9ydCA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiAkKHRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMudmlld3BvcnQpXG5cbiAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgnICcpXG5cbiAgICBmb3IgKHZhciBpID0gdHJpZ2dlcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IHRyaWdnZXJzW2ldXG5cbiAgICAgIGlmICh0cmlnZ2VyID09ICdjbGljaycpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMudG9nZ2xlLCB0aGlzKSlcbiAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPSAnbWFudWFsJykge1xuICAgICAgICB2YXIgZXZlbnRJbiAgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VlbnRlcicgOiAnZm9jdXNpbidcbiAgICAgICAgdmFyIGV2ZW50T3V0ID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2ZvY3Vzb3V0J1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiAgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmVudGVyLCB0aGlzKSlcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudE91dCArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMubGVhdmUsIHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XG4gICAgICAodGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHsgdHJpZ2dlcjogJ21hbnVhbCcsIHNlbGVjdG9yOiAnJyB9KSkgOlxuICAgICAgdGhpcy5maXhUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVG9vbHRpcC5ERUZBVUxUU1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmdldERlZmF1bHRzKCksIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKVxuXG4gICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMuZGVsYXkgPSB7XG4gICAgICAgIHNob3c6IG9wdGlvbnMuZGVsYXksXG4gICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zICA9IHt9XG4gICAgdmFyIGRlZmF1bHRzID0gdGhpcy5nZXREZWZhdWx0cygpXG5cbiAgICB0aGlzLl9vcHRpb25zICYmICQuZWFjaCh0aGlzLl9vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXG4gICAgfSlcblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5zaG93KSByZXR1cm4gc2VsZi5zaG93KClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnaW4nKSBzZWxmLnNob3coKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5zaG93KVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpIHJldHVybiBzZWxmLmhpZGUoKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5oaWRlKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3cuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICB2YXIgaW5Eb20gPSAkLmNvbnRhaW5zKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy4kZWxlbWVudFswXSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICFpbkRvbSkgcmV0dXJuXG4gICAgICB2YXIgdGhhdCA9IHRoaXNcblxuICAgICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG5cbiAgICAgIHZhciB0aXBJZCA9IHRoaXMuZ2V0VUlEKHRoaXMudHlwZSlcblxuICAgICAgdGhpcy5zZXRDb250ZW50KClcbiAgICAgICR0aXAuYXR0cignaWQnLCB0aXBJZClcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1kZXNjcmliZWRieScsIHRpcElkKVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikgJHRpcC5hZGRDbGFzcygnZmFkZScpXG5cbiAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsICR0aXBbMF0sIHRoaXMuJGVsZW1lbnRbMF0pIDpcbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudFxuXG4gICAgICB2YXIgYXV0b1Rva2VuID0gL1xccz9hdXRvP1xccz8vaVxuICAgICAgdmFyIGF1dG9QbGFjZSA9IGF1dG9Ub2tlbi50ZXN0KHBsYWNlbWVudClcbiAgICAgIGlmIChhdXRvUGxhY2UpIHBsYWNlbWVudCA9IHBsYWNlbWVudC5yZXBsYWNlKGF1dG9Ub2tlbiwgJycpIHx8ICd0b3AnXG5cbiAgICAgICR0aXBcbiAgICAgICAgLmRldGFjaCgpXG4gICAgICAgIC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIGRpc3BsYXk6ICdibG9jaycgfSlcbiAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgICAgLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHRoaXMpXG5cbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPyAkdGlwLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpIDogJHRpcC5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KVxuXG4gICAgICB2YXIgcG9zICAgICAgICAgID0gdGhpcy5nZXRQb3NpdGlvbigpXG4gICAgICB2YXIgYWN0dWFsV2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAgIGlmIChhdXRvUGxhY2UpIHtcbiAgICAgICAgdmFyIG9yZ1BsYWNlbWVudCA9IHBsYWNlbWVudFxuICAgICAgICB2YXIgJHBhcmVudCAgICAgID0gdGhpcy4kZWxlbWVudC5wYXJlbnQoKVxuICAgICAgICB2YXIgcGFyZW50RGltICAgID0gdGhpcy5nZXRQb3NpdGlvbigkcGFyZW50KVxuXG4gICAgICAgIHBsYWNlbWVudCA9IHBsYWNlbWVudCA9PSAnYm90dG9tJyAmJiBwb3MudG9wICAgKyBwb3MuaGVpZ2h0ICAgICAgICsgYWN0dWFsSGVpZ2h0IC0gcGFyZW50RGltLnNjcm9sbCA+IHBhcmVudERpbS5oZWlnaHQgPyAndG9wJyAgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICAmJiBwb3MudG9wICAgLSBwYXJlbnREaW0uc2Nyb2xsIC0gYWN0dWFsSGVpZ2h0IDwgMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgKyBhY3R1YWxXaWR0aCAgICAgID4gcGFyZW50RGltLndpZHRoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnbGVmdCcgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICAmJiBwb3MubGVmdCAgLSBhY3R1YWxXaWR0aCAgICAgIDwgcGFyZW50RGltLmxlZnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAncmlnaHQnICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudFxuXG4gICAgICAgICR0aXBcbiAgICAgICAgICAucmVtb3ZlQ2xhc3Mob3JnUGxhY2VtZW50KVxuICAgICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICB9XG5cbiAgICAgIHZhciBjYWxjdWxhdGVkT2Zmc2V0ID0gdGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KGNhbGN1bGF0ZWRPZmZzZXQsIHBsYWNlbWVudClcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ3Nob3duLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICAgIHRoYXQuaG92ZXJTdGF0ZSA9IG51bGxcbiAgICAgIH1cblxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICAkdGlwXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgICBjb21wbGV0ZSgpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQgPSBmdW5jdGlvbiAob2Zmc2V0LCBwbGFjZW1lbnQpIHtcbiAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxuICAgIHZhciB3aWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAvLyBtYW51YWxseSByZWFkIG1hcmdpbnMgYmVjYXVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5jbHVkZXMgZGlmZmVyZW5jZVxuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLXRvcCcpLCAxMClcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMClcblxuICAgIC8vIHdlIG11c3QgY2hlY2sgZm9yIE5hTiBmb3IgaWUgOC85XG4gICAgaWYgKGlzTmFOKG1hcmdpblRvcCkpICBtYXJnaW5Ub3AgID0gMFxuICAgIGlmIChpc05hTihtYXJnaW5MZWZ0KSkgbWFyZ2luTGVmdCA9IDBcblxuICAgIG9mZnNldC50b3AgID0gb2Zmc2V0LnRvcCAgKyBtYXJnaW5Ub3BcbiAgICBvZmZzZXQubGVmdCA9IG9mZnNldC5sZWZ0ICsgbWFyZ2luTGVmdFxuXG4gICAgLy8gJC5mbi5vZmZzZXQgZG9lc24ndCByb3VuZCBwaXhlbCB2YWx1ZXNcbiAgICAvLyBzbyB3ZSB1c2Ugc2V0T2Zmc2V0IGRpcmVjdGx5IHdpdGggb3VyIG93biBmdW5jdGlvbiBCLTBcbiAgICAkLm9mZnNldC5zZXRPZmZzZXQoJHRpcFswXSwgJC5leHRlbmQoe1xuICAgICAgdXNpbmc6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAkdGlwLmNzcyh7XG4gICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKHByb3BzLnRvcCksXG4gICAgICAgICAgbGVmdDogTWF0aC5yb3VuZChwcm9wcy5sZWZ0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIG9mZnNldCksIDApXG5cbiAgICAkdGlwLmFkZENsYXNzKCdpbicpXG5cbiAgICAvLyBjaGVjayB0byBzZWUgaWYgcGxhY2luZyB0aXAgaW4gbmV3IG9mZnNldCBjYXVzZWQgdGhlIHRpcCB0byByZXNpemUgaXRzZWxmXG4gICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIGlmIChwbGFjZW1lbnQgPT0gJ3RvcCcgJiYgYWN0dWFsSGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgb2Zmc2V0LnRvcCA9IG9mZnNldC50b3AgKyBoZWlnaHQgLSBhY3R1YWxIZWlnaHRcbiAgICB9XG5cbiAgICB2YXIgZGVsdGEgPSB0aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShwbGFjZW1lbnQsIG9mZnNldCwgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgIGlmIChkZWx0YS5sZWZ0KSBvZmZzZXQubGVmdCArPSBkZWx0YS5sZWZ0XG4gICAgZWxzZSBvZmZzZXQudG9wICs9IGRlbHRhLnRvcFxuXG4gICAgdmFyIGFycm93RGVsdGEgICAgICAgICAgPSBkZWx0YS5sZWZ0ID8gZGVsdGEubGVmdCAqIDIgLSB3aWR0aCArIGFjdHVhbFdpZHRoIDogZGVsdGEudG9wICogMiAtIGhlaWdodCArIGFjdHVhbEhlaWdodFxuICAgIHZhciBhcnJvd1Bvc2l0aW9uICAgICAgID0gZGVsdGEubGVmdCA/ICdsZWZ0JyAgICAgICAgOiAndG9wJ1xuICAgIHZhciBhcnJvd09mZnNldFBvc2l0aW9uID0gZGVsdGEubGVmdCA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0J1xuXG4gICAgJHRpcC5vZmZzZXQob2Zmc2V0KVxuICAgIHRoaXMucmVwbGFjZUFycm93KGFycm93RGVsdGEsICR0aXBbMF1bYXJyb3dPZmZzZXRQb3NpdGlvbl0sIGFycm93UG9zaXRpb24pXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5yZXBsYWNlQXJyb3cgPSBmdW5jdGlvbiAoZGVsdGEsIGRpbWVuc2lvbiwgcG9zaXRpb24pIHtcbiAgICB0aGlzLmFycm93KCkuY3NzKHBvc2l0aW9uLCBkZWx0YSA/ICg1MCAqICgxIC0gZGVsdGEgLyBkaW1lbnNpb24pICsgJyUnKSA6ICcnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpXG5cbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0JylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdoaWRlLmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkdGlwXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICBjb21wbGV0ZSgpXG5cbiAgICB0aGlzLmhvdmVyU3RhdGUgPSBudWxsXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZml4VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIGlmICgkZS5hdHRyKCd0aXRsZScpIHx8IHR5cGVvZiAoJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpKSAhPSAnc3RyaW5nJykge1xuICAgICAgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICRlLmF0dHIoJ3RpdGxlJykgfHwgJycpLmF0dHIoJ3RpdGxlJywgJycpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICRlbGVtZW50ICAgPSAkZWxlbWVudCB8fCB0aGlzLiRlbGVtZW50XG4gICAgdmFyIGVsICAgICA9ICRlbGVtZW50WzBdXG4gICAgdmFyIGlzQm9keSA9IGVsLnRhZ05hbWUgPT0gJ0JPRFknXG4gICAgcmV0dXJuICQuZXh0ZW5kKHt9LCAodHlwZW9mIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PSAnZnVuY3Rpb24nKSA/IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogbnVsbCwge1xuICAgICAgc2Nyb2xsOiBpc0JvZHkgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIDogJGVsZW1lbnQuc2Nyb2xsVG9wKCksXG4gICAgICB3aWR0aDogIGlzQm9keSA/ICQod2luZG93KS53aWR0aCgpICA6ICRlbGVtZW50Lm91dGVyV2lkdGgoKSxcbiAgICAgIGhlaWdodDogaXNCb2R5ID8gJCh3aW5kb3cpLmhlaWdodCgpIDogJGVsZW1lbnQub3V0ZXJIZWlnaHQoKVxuICAgIH0sIGlzQm9keSA/IHsgdG9wOiAwLCBsZWZ0OiAwIH0gOiAkZWxlbWVudC5vZmZzZXQoKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50ID09ICdib3R0b20nID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0LCAgIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiAgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICA/IHsgdG9wOiBwb3MudG9wIC0gYWN0dWFsSGVpZ2h0LCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgLSBhY3R1YWxXaWR0aCB9IDpcbiAgICAgICAgLyogcGxhY2VtZW50ID09ICdyaWdodCcgKi8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoICAgfVxuXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICB2YXIgZGVsdGEgPSB7IHRvcDogMCwgbGVmdDogMCB9XG4gICAgaWYgKCF0aGlzLiR2aWV3cG9ydCkgcmV0dXJuIGRlbHRhXG5cbiAgICB2YXIgdmlld3BvcnRQYWRkaW5nID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmIHRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nIHx8IDBcbiAgICB2YXIgdmlld3BvcnREaW1lbnNpb25zID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgIGlmICgvcmlnaHR8bGVmdC8udGVzdChwbGFjZW1lbnQpKSB7XG4gICAgICB2YXIgdG9wRWRnZU9mZnNldCAgICA9IHBvcy50b3AgLSB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsXG4gICAgICB2YXIgYm90dG9tRWRnZU9mZnNldCA9IHBvcy50b3AgKyB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsICsgYWN0dWFsSGVpZ2h0XG4gICAgICBpZiAodG9wRWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy50b3ApIHsgLy8gdG9wIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgLSB0b3BFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbUVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCkgeyAvLyBib3R0b20gb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQgLSBib3R0b21FZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZWZ0RWRnZU9mZnNldCAgPSBwb3MubGVmdCAtIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgdmFyIHJpZ2h0RWRnZU9mZnNldCA9IHBvcy5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nICsgYWN0dWFsV2lkdGhcbiAgICAgIGlmIChsZWZ0RWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0KSB7IC8vIGxlZnQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0IC0gbGVmdEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAocmlnaHRFZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLndpZHRoKSB7IC8vIHJpZ2h0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCAtIHJpZ2h0RWRnZU9mZnNldFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWx0YVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpdGxlXG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgdGl0bGUgPSAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJylcbiAgICAgIHx8ICh0eXBlb2Ygby50aXRsZSA9PSAnZnVuY3Rpb24nID8gby50aXRsZS5jYWxsKCRlWzBdKSA6ICBvLnRpdGxlKVxuXG4gICAgcmV0dXJuIHRpdGxlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQgPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgZG8gcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKVxuICAgIHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKVxuICAgIHJldHVybiBwcmVmaXhcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJHRpcCA9IHRoaXMuJHRpcCB8fCAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcudG9vbHRpcC1hcnJvdycpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50WzBdLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuaGlkZSgpXG4gICAgICB0aGlzLiRlbGVtZW50ID0gbnVsbFxuICAgICAgdGhpcy5vcHRpb25zICA9IG51bGxcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuICAgIGlmIChlKSB7XG4gICAgICBzZWxmID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSA/IHNlbGYubGVhdmUoc2VsZikgOiBzZWxmLmVudGVyKHNlbGYpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpXG4gICAgdGhpcy5oaWRlKCkuJGVsZW1lbnQub2ZmKCcuJyArIHRoaXMudHlwZSkucmVtb3ZlRGF0YSgnYnMuJyArIHRoaXMudHlwZSlcbiAgfVxuXG5cbiAgLy8gVE9PTFRJUCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9uID09ICdkZXN0cm95JykgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnLCAoZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi50b29sdGlwXG5cbiAgJC5mbi50b29sdGlwICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udG9vbHRpcC5Db25zdHJ1Y3RvciA9IFRvb2x0aXBcblxuXG4gIC8vIFRPT0xUSVAgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4udG9vbHRpcC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udG9vbHRpcCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogcG9wb3Zlci5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3BvcG92ZXJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gUE9QT1ZFUiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFBvcG92ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuaW5pdCgncG9wb3ZlcicsIGVsZW1lbnQsIG9wdGlvbnMpXG4gIH1cblxuICBpZiAoISQuZm4udG9vbHRpcCkgdGhyb3cgbmV3IEVycm9yKCdQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanMnKVxuXG4gIFBvcG92ZXIuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgUG9wb3Zlci5ERUZBVUxUUyA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IuREVGQVVMVFMsIHtcbiAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gICAgdHJpZ2dlcjogJ2NsaWNrJyxcbiAgICBjb250ZW50OiAnJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj48aDMgY2xhc3M9XCJwb3BvdmVyLXRpdGxlXCI+PC9oMz48ZGl2IGNsYXNzPVwicG9wb3Zlci1jb250ZW50XCI+PC9kaXY+PC9kaXY+J1xuICB9KVxuXG5cbiAgLy8gTk9URTogUE9QT1ZFUiBFWFRFTkRTIHRvb2x0aXAuanNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBQb3BvdmVyLnByb3RvdHlwZSA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IucHJvdG90eXBlKVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBQb3BvdmVyLkRFRkFVTFRTXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGlwICAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSAgID0gdGhpcy5nZXRUaXRsZSgpXG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQoKVxuXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLWNvbnRlbnQnKS5lbXB0eSgpWyAvLyB3ZSB1c2UgYXBwZW5kIGZvciBodG1sIG9iamVjdHMgdG8gbWFpbnRhaW4ganMgZXZlbnRzXG4gICAgICB0aGlzLm9wdGlvbnMuaHRtbCA/ICh0eXBlb2YgY29udGVudCA9PSAnc3RyaW5nJyA/ICdodG1sJyA6ICdhcHBlbmQnKSA6ICd0ZXh0J1xuICAgIF0oY29udGVudClcblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluJylcblxuICAgIC8vIElFOCBkb2Vzbid0IGFjY2VwdCBoaWRpbmcgdmlhIHRoZSBgOmVtcHR5YCBwc2V1ZG8gc2VsZWN0b3IsIHdlIGhhdmUgdG8gZG9cbiAgICAvLyB0aGlzIG1hbnVhbGx5IGJ5IGNoZWNraW5nIHRoZSBjb250ZW50cy5cbiAgICBpZiAoISR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKS5odG1sKCkpICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKS5oaWRlKClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKSB8fCB0aGlzLmdldENvbnRlbnQoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICByZXR1cm4gJGUuYXR0cignZGF0YS1jb250ZW50JylcbiAgICAgIHx8ICh0eXBlb2Ygby5jb250ZW50ID09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgby5jb250ZW50LmNhbGwoJGVbMF0pIDpcbiAgICAgICAgICAgIG8uY29udGVudClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy5hcnJvdycpKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kdGlwKSB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSlcbiAgICByZXR1cm4gdGhpcy4kdGlwXG4gIH1cblxuXG4gIC8vIFBPUE9WRVIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJywgKGRhdGEgPSBuZXcgUG9wb3Zlcih0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ucG9wb3ZlclxuXG4gICQuZm4ucG9wb3ZlciAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnBvcG92ZXIuQ29uc3RydWN0b3IgPSBQb3BvdmVyXG5cblxuICAvLyBQT1BPVkVSIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnBvcG92ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnBvcG92ZXIgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuXG4vKlxuICogYW5ndWxhci11aS1ib290c3RyYXBcbiAqIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5pby9ib290c3RyYXAvXG5cbiAqIFZlcnNpb246IDAuMTEuMiAtIDIwMTQtMDktMjZcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcFwiLCBbXCJ1aS5ib290c3RyYXAudHBsc1wiLCBcInVpLmJvb3RzdHJhcC50cmFuc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuY29sbGFwc2VcIixcInVpLmJvb3RzdHJhcC5hY2NvcmRpb25cIixcInVpLmJvb3RzdHJhcC5hbGVydFwiLFwidWkuYm9vdHN0cmFwLmJpbmRIdG1sXCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLnBvc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAubW9kYWxcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHlwZWFoZWFkXCJdKTtcbmFuZ3VsYXIubW9kdWxlKFwidWkuYm9vdHN0cmFwLnRwbHNcIiwgW1widGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIixcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIixcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIixcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIixcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIixcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIl0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJywgW10pXG5cbi8qKlxuICogJHRyYW5zaXRpb24gc2VydmljZSBwcm92aWRlcyBhIGNvbnNpc3RlbnQgaW50ZXJmYWNlIHRvIHRyaWdnZXIgQ1NTIDMgdHJhbnNpdGlvbnMgYW5kIHRvIGJlIGluZm9ybWVkIHdoZW4gdGhleSBjb21wbGV0ZS5cbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnQgIFRoZSBET01FbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZC5cbiAqIEBwYXJhbSAge3N0cmluZ3xvYmplY3R8ZnVuY3Rpb259IHRyaWdnZXIgIFRoZSB0aGluZyB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gc3RhcnQ6XG4gKiAgIC0gQXMgYSBzdHJpbmcsIGl0IHJlcHJlc2VudHMgdGhlIGNzcyBjbGFzcyB0byBiZSBhZGRlZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhbiBvYmplY3QsIGl0IHJlcHJlc2VudHMgYSBoYXNoIG9mIHN0eWxlIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhIGZ1bmN0aW9uLCBpdCByZXByZXNlbnRzIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBvY2N1ci5cbiAqIEByZXR1cm4ge1Byb21pc2V9ICBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB0cmFuc2l0aW9uIGZpbmlzaGVzLlxuICovXG4uZmFjdG9yeSgnJHRyYW5zaXRpb24nLCBbJyRxJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcSwgJHRpbWVvdXQsICRyb290U2NvcGUpIHtcblxuICB2YXIgJHRyYW5zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50LCB0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICB2YXIgZW5kRXZlbnROYW1lID0gJHRyYW5zaXRpb25bb3B0aW9ucy5hbmltYXRpb24gPyAnYW5pbWF0aW9uRW5kRXZlbnROYW1lJyA6ICd0cmFuc2l0aW9uRW5kRXZlbnROYW1lJ107XG5cbiAgICB2YXIgdHJhbnNpdGlvbkVuZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChlbmRFdmVudE5hbWUpIHtcbiAgICAgIGVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvLyBXcmFwIGluIGEgdGltZW91dCB0byBhbGxvdyB0aGUgYnJvd3NlciB0aW1lIHRvIHVwZGF0ZSB0aGUgRE9NIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyB0byBvY2N1clxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCBhbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpICkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc0Z1bmN0aW9uKHRyaWdnZXIpICkge1xuICAgICAgICB0cmlnZ2VyKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5jc3ModHJpZ2dlcik7XG4gICAgICB9XG4gICAgICAvL0lmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0cmFuc2l0aW9ucywgaW5zdGFudGx5IHJlc29sdmVcbiAgICAgIGlmICggIWVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBvdXIgY3VzdG9tIGNhbmNlbCBmdW5jdGlvbiB0byB0aGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkXG4gICAgLy8gV2UgY2FuIGNhbGwgdGhpcyBpZiB3ZSBhcmUgYWJvdXQgdG8gcnVuIGEgbmV3IHRyYW5zaXRpb24sIHdoaWNoIHdlIGtub3cgd2lsbCBwcmV2ZW50IHRoaXMgdHJhbnNpdGlvbiBmcm9tIGVuZGluZyxcbiAgICAvLyBpLmUuIGl0IHdpbGwgdGhlcmVmb3JlIG5ldmVyIHJhaXNlIGEgdHJhbnNpdGlvbkVuZCBldmVudCBmb3IgdGhhdCB0cmFuc2l0aW9uXG4gICAgZGVmZXJyZWQucHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICggZW5kRXZlbnROYW1lICkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlamVjdCgnVHJhbnNpdGlvbiBjYW5jZWxsZWQnKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH07XG5cbiAgLy8gV29yayBvdXQgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb25FbmQgZXZlbnRcbiAgdmFyIHRyYW5zRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYW5zJyk7XG4gIHZhciB0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnXG4gIH07XG4gIHZhciBhbmltYXRpb25FbmRFdmVudE5hbWVzID0ge1xuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsXG4gICAgJ3RyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJ1xuICB9O1xuICBmdW5jdGlvbiBmaW5kRW5kRXZlbnROYW1lKGVuZEV2ZW50TmFtZXMpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIGVuZEV2ZW50TmFtZXMpe1xuICAgICAgaWYgKHRyYW5zRWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAkdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lID0gZmluZEVuZEV2ZW50TmFtZSh0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyk7XG4gICR0cmFuc2l0aW9uLmFuaW1hdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUoYW5pbWF0aW9uRW5kRXZlbnROYW1lcyk7XG4gIHJldHVybiAkdHJhbnNpdGlvbjtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFsndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nXSlcblxuICAuZGlyZWN0aXZlKCdjb2xsYXBzZScsIFsnJHRyYW5zaXRpb24nLCBmdW5jdGlvbiAoJHRyYW5zaXRpb24pIHtcblxuICAgIHJldHVybiB7XG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgdmFyIGluaXRpYWxBbmltU2tpcCA9IHRydWU7XG4gICAgICAgIHZhciBjdXJyZW50VHJhbnNpdGlvbjtcblxuICAgICAgICBmdW5jdGlvbiBkb1RyYW5zaXRpb24oY2hhbmdlKSB7XG4gICAgICAgICAgdmFyIG5ld1RyYW5zaXRpb24gPSAkdHJhbnNpdGlvbihlbGVtZW50LCBjaGFuZ2UpO1xuICAgICAgICAgIGlmIChjdXJyZW50VHJhbnNpdGlvbikge1xuICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0gbmV3VHJhbnNpdGlvbjtcbiAgICAgICAgICBuZXdUcmFuc2l0aW9uLnRoZW4obmV3VHJhbnNpdGlvbkRvbmUsIG5ld1RyYW5zaXRpb25Eb25lKTtcbiAgICAgICAgICByZXR1cm4gbmV3VHJhbnNpdGlvbjtcblxuICAgICAgICAgIGZ1bmN0aW9uIG5ld1RyYW5zaXRpb25Eb25lKCkge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGl0J3MgdGhpcyB0cmFuc2l0aW9uLCBvdGhlcndpc2UsIGxlYXZlIGl0IGFsb25lLlxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUcmFuc2l0aW9uID09PSBuZXdUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZCgpIHtcbiAgICAgICAgICBpZiAoaW5pdGlhbEFuaW1Ta2lwKSB7XG4gICAgICAgICAgICBpbml0aWFsQW5pbVNraXAgPSBmYWxzZTtcbiAgICAgICAgICAgIGV4cGFuZERvbmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKS5hZGRDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgICAgZG9UcmFuc2l0aW9uKHsgaGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCcgfSkudGhlbihleHBhbmREb25lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBleHBhbmREb25lKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZSBpbicpO1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICdhdXRvJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2UoKSB7XG4gICAgICAgICAgaWYgKGluaXRpYWxBbmltU2tpcCkge1xuICAgICAgICAgICAgaW5pdGlhbEFuaW1Ta2lwID0gZmFsc2U7XG4gICAgICAgICAgICBjb2xsYXBzZURvbmUoKTtcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6IDB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ1NTIHRyYW5zaXRpb25zIGRvbid0IHdvcmsgd2l0aCBoZWlnaHQ6IGF1dG8sIHNvIHdlIGhhdmUgdG8gbWFudWFsbHkgY2hhbmdlIHRoZSBoZWlnaHQgdG8gYSBzcGVjaWZpYyB2YWx1ZVxuICAgICAgICAgICAgZWxlbWVudC5jc3MoeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9KTtcbiAgICAgICAgICAgIC8vdHJpZ2dlciByZWZsb3cgc28gYSBicm93c2VyIHJlYWxpemVzIHRoYXQgaGVpZ2h0IHdhcyB1cGRhdGVkIGZyb20gYXV0byB0byBhIHNwZWNpZmljIHZhbHVlXG4gICAgICAgICAgICB2YXIgeCA9IGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJykuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcblxuICAgICAgICAgICAgZG9UcmFuc2l0aW9uKHsgaGVpZ2h0OiAwIH0pLnRoZW4oY29sbGFwc2VEb25lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZURvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsIGZ1bmN0aW9uIChzaG91bGRDb2xsYXBzZSkge1xuICAgICAgICAgIGlmIChzaG91bGRDb2xsYXBzZSkge1xuICAgICAgICAgICAgY29sbGFwc2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhwYW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWNjb3JkaW9uJywgWyd1aS5ib290c3RyYXAuY29sbGFwc2UnXSlcblxuLmNvbnN0YW50KCdhY2NvcmRpb25Db25maWcnLCB7XG4gIGNsb3NlT3RoZXJzOiB0cnVlXG59KVxuXG4uY29udHJvbGxlcignQWNjb3JkaW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdhY2NvcmRpb25Db25maWcnLCBmdW5jdGlvbiAoJHNjb3BlLCAkYXR0cnMsIGFjY29yZGlvbkNvbmZpZykge1xuXG4gIC8vIFRoaXMgYXJyYXkga2VlcHMgdHJhY2sgb2YgdGhlIGFjY29yZGlvbiBncm91cHNcbiAgdGhpcy5ncm91cHMgPSBbXTtcblxuICAvLyBFbnN1cmUgdGhhdCBhbGwgdGhlIGdyb3VwcyBpbiB0aGlzIGFjY29yZGlvbiBhcmUgY2xvc2VkLCB1bmxlc3MgY2xvc2Utb3RoZXJzIGV4cGxpY2l0bHkgc2F5cyBub3QgdG9cbiAgdGhpcy5jbG9zZU90aGVycyA9IGZ1bmN0aW9uKG9wZW5Hcm91cCkge1xuICAgIHZhciBjbG9zZU90aGVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU90aGVycykgPyAkc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKSA6IGFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVycztcbiAgICBpZiAoIGNsb3NlT3RoZXJzICkge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuZ3JvdXBzLCBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgICAgaWYgKCBncm91cCAhPT0gb3Blbkdyb3VwICkge1xuICAgICAgICAgIGdyb3VwLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB0byBhZGQgaXRzZWxmIHRvIHRoZSBhY2NvcmRpb25cbiAgdGhpcy5hZGRHcm91cCA9IGZ1bmN0aW9uKGdyb3VwU2NvcGUpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy5ncm91cHMucHVzaChncm91cFNjb3BlKTtcblxuICAgIGdyb3VwU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHdoZW4gdG8gcmVtb3ZlIGl0c2VsZlxuICB0aGlzLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTtcbiAgICBpZiAoIGluZGV4ICE9PSAtMSApIHtcbiAgICAgIHRoaXMuZ3JvdXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9O1xuXG59XSlcblxuLy8gVGhlIGFjY29yZGlvbiBkaXJlY3RpdmUgc2ltcGx5IHNldHMgdXAgdGhlIGRpcmVjdGl2ZSBjb250cm9sbGVyXG4vLyBhbmQgYWRkcyBhbiBhY2NvcmRpb24gQ1NTIGNsYXNzIHRvIGl0c2VsZiBlbGVtZW50LlxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgY29udHJvbGxlcjonQWNjb3JkaW9uQ29udHJvbGxlcicsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCdcbiAgfTtcbn0pXG5cbi8vIFRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIGluZGljYXRlcyBhIGJsb2NrIG9mIGh0bWwgdGhhdCB3aWxsIGV4cGFuZCBhbmQgY29sbGFwc2UgaW4gYW4gYWNjb3JkaW9uXG4uZGlyZWN0aXZlKCdhY2NvcmRpb25Hcm91cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6J15hY2NvcmRpb24nLCAgICAgICAgIC8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgdG8gYmUgaW5zaWRlIGFuIGFjY29yZGlvblxuICAgIHJlc3RyaWN0OidFQScsXG4gICAgdHJhbnNjbHVkZTp0cnVlLCAgICAgICAgICAgICAgLy8gSXQgdHJhbnNjbHVkZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUgaW50byB0aGUgdGVtcGxhdGVcbiAgICByZXBsYWNlOiB0cnVlLCAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBkaXJlY3RpdmUgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSB0ZW1wbGF0ZVxuICAgIHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBoZWFkaW5nOiAnQCcsICAgICAgICAgICAgICAgLy8gSW50ZXJwb2xhdGUgdGhlIGhlYWRpbmcgYXR0cmlidXRlIG9udG8gdGhpcyBzY29wZVxuICAgICAgaXNPcGVuOiAnPT8nLFxuICAgICAgaXNEaXNhYmxlZDogJz0/J1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNldEhlYWRpbmcgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuaGVhZGluZyA9IGVsZW1lbnQ7XG4gICAgICB9O1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBhY2NvcmRpb25DdHJsKSB7XG4gICAgICBhY2NvcmRpb25DdHJsLmFkZEdyb3VwKHNjb3BlKTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoIHZhbHVlICkge1xuICAgICAgICAgIGFjY29yZGlvbkN0cmwuY2xvc2VPdGhlcnMoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUudG9nZ2xlT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICFzY29wZS5pc0Rpc2FibGVkICkge1xuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9ICFzY29wZS5pc09wZW47XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufSlcblxuLy8gVXNlIGFjY29yZGlvbi1oZWFkaW5nIGJlbG93IGFuIGFjY29yZGlvbi1ncm91cCB0byBwcm92aWRlIGEgaGVhZGluZyBjb250YWluaW5nIEhUTUxcbi8vIDxhY2NvcmRpb24tZ3JvdXA+XG4vLyAgIDxhY2NvcmRpb24taGVhZGluZz5IZWFkaW5nIGNvbnRhaW5pbmcgSFRNTCAtIDxpbWcgc3JjPVwiLi4uXCI+PC9hY2NvcmRpb24taGVhZGluZz5cbi8vIDwvYWNjb3JkaW9uLWdyb3VwPlxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uSGVhZGluZycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsICAgLy8gR3JhYiB0aGUgY29udGVudHMgdG8gYmUgdXNlZCBhcyB0aGUgaGVhZGluZ1xuICAgIHRlbXBsYXRlOiAnJywgICAgICAgLy8gSW4gZWZmZWN0IHJlbW92ZSB0aGlzIGVsZW1lbnQhXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgYWNjb3JkaW9uR3JvdXBDdHJsLCB0cmFuc2NsdWRlKSB7XG4gICAgICAvLyBQYXNzIHRoZSBoZWFkaW5nIHRvIHRoZSBhY2NvcmRpb24tZ3JvdXAgY29udHJvbGxlclxuICAgICAgLy8gc28gdGhhdCBpdCBjYW4gYmUgdHJhbnNjbHVkZWQgaW50byB0aGUgcmlnaHQgcGxhY2UgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAvLyBbVGhlIHNlY29uZCBwYXJhbWV0ZXIgdG8gdHJhbnNjbHVkZSBjYXVzZXMgdGhlIGVsZW1lbnRzIHRvIGJlIGNsb25lZCBzbyB0aGF0IHRoZXkgd29yayBpbiBuZy1yZXBlYXRdXG4gICAgICBhY2NvcmRpb25Hcm91cEN0cmwuc2V0SGVhZGluZyh0cmFuc2NsdWRlKHNjb3BlLCBmdW5jdGlvbigpIHt9KSk7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVXNlIGluIHRoZSBhY2NvcmRpb24tZ3JvdXAgdGVtcGxhdGUgdG8gaW5kaWNhdGUgd2hlcmUgeW91IHdhbnQgdGhlIGhlYWRpbmcgdG8gYmUgdHJhbnNjbHVkZWRcbi8vIFlvdSBtdXN0IHByb3ZpZGUgdGhlIHByb3BlcnR5IG9uIHRoZSBhY2NvcmRpb24tZ3JvdXAgY29udHJvbGxlciB0aGF0IHdpbGwgaG9sZCB0aGUgdHJhbnNjbHVkZWQgZWxlbWVudFxuLy8gPGRpdiBjbGFzcz1cImFjY29yZGlvbi1ncm91cFwiPlxuLy8gICA8ZGl2IGNsYXNzPVwiYWNjb3JkaW9uLWhlYWRpbmdcIiA+PGEgLi4uIGFjY29yZGlvbi10cmFuc2NsdWRlPVwiaGVhZGluZ1wiPi4uLjwvYT48L2Rpdj5cbi8vICAgLi4uXG4vLyA8L2Rpdj5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvblRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xuICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udHJvbGxlclthdHRyLmFjY29yZGlvblRyYW5zY2x1ZGVdOyB9LCBmdW5jdGlvbihoZWFkaW5nKSB7XG4gICAgICAgIGlmICggaGVhZGluZyApIHtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoJycpO1xuICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGhlYWRpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hbGVydCcsIFtdKVxuXG4uY29udHJvbGxlcignQWxlcnRDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgZnVuY3Rpb24gKCRzY29wZSwgJGF0dHJzKSB7XG4gICRzY29wZS5jbG9zZWFibGUgPSAnY2xvc2UnIGluICRhdHRycztcbn1dKVxuXG4uZGlyZWN0aXZlKCdhbGVydCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDonRUEnLFxuICAgIGNvbnRyb2xsZXI6J0FsZXJ0Q29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6J3RlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6dHJ1ZSxcbiAgICByZXBsYWNlOnRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHR5cGU6ICdAJyxcbiAgICAgIGNsb3NlOiAnJidcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCcsIFtdKVxuXG4gIC5kaXJlY3RpdmUoJ2JpbmRIdG1sVW5zYWZlJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ25nLWJpbmRpbmcnKS5kYXRhKCckYmluZGluZycsIGF0dHIuYmluZEh0bWxVbnNhZmUpO1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIuYmluZEh0bWxVbnNhZmUsIGZ1bmN0aW9uIGJpbmRIdG1sVW5zYWZlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlIHx8ICcnKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pXG5cbi5jb25zdGFudCgnYnV0dG9uQ29uZmlnJywge1xuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gIHRvZ2dsZUV2ZW50OiAnY2xpY2snXG59KVxuXG4uY29udHJvbGxlcignQnV0dG9uc0NvbnRyb2xsZXInLCBbJ2J1dHRvbkNvbmZpZycsIGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZykge1xuICB0aGlzLmFjdGl2ZUNsYXNzID0gYnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzIHx8ICdhY3RpdmUnO1xuICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7XG59XSlcblxuLmRpcmVjdGl2ZSgnYnRuUmFkaW8nLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWydidG5SYWRpbycsICduZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlzQWN0aXZlID0gZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy51bmNoZWNrYWJsZSkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZSA/IG51bGwgOiBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdidG5DaGVja2JveCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ2J0bkNoZWNrYm94JywgJ25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZnVuY3Rpb24gZ2V0VHJ1ZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveFRydWUsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRGYWxzZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveEZhbHNlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsID0gc2NvcGUuJGV2YWwoYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsKSA/IHZhbCA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy9tb2RlbCAtPiBVSVxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIGdldFRydWVWYWx1ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbi8qKlxuKiBAbmdkb2Mgb3ZlcnZpZXdcbiogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsXG4qXG4qIEBkZXNjcmlwdGlvblxuKiBBbmd1bGFySlMgdmVyc2lvbiBvZiBhbiBpbWFnZSBjYXJvdXNlbC5cbipcbiovXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmNhcm91c2VsJywgWyd1aS5ib290c3RyYXAudHJhbnNpdGlvbiddKVxuLmNvbnRyb2xsZXIoJ0Nhcm91c2VsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJyR0cmFuc2l0aW9uJywgZnVuY3Rpb24gKCRzY29wZSwgJHRpbWVvdXQsICR0cmFuc2l0aW9uKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBzbGlkZXMgPSBzZWxmLnNsaWRlcyA9ICRzY29wZS5zbGlkZXMgPSBbXSxcbiAgICBjdXJyZW50SW5kZXggPSAtMSxcbiAgICBjdXJyZW50VGltZW91dCwgaXNQbGF5aW5nO1xuICBzZWxmLmN1cnJlbnRTbGlkZSA9IG51bGw7XG5cbiAgdmFyIGRlc3Ryb3llZCA9IGZhbHNlO1xuICAvKiBkaXJlY3Rpb246IFwicHJldlwiIG9yIFwibmV4dFwiICovXG4gIHNlbGYuc2VsZWN0ID0gJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKG5leHRTbGlkZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IHNsaWRlcy5pbmRleE9mKG5leHRTbGlkZSk7XG4gICAgLy9EZWNpZGUgZGlyZWN0aW9uIGlmIGl0J3Mgbm90IGdpdmVuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkaXJlY3Rpb24gPSBuZXh0SW5kZXggPiBjdXJyZW50SW5kZXggPyAnbmV4dCcgOiAncHJldic7XG4gICAgfVxuICAgIGlmIChuZXh0U2xpZGUgJiYgbmV4dFNsaWRlICE9PSBzZWxmLmN1cnJlbnRTbGlkZSkge1xuICAgICAgaWYgKCRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgLy9UaW1lb3V0IHNvIG5nLWNsYXNzIGluIHRlbXBsYXRlIGhhcyB0aW1lIHRvIGZpeCBjbGFzc2VzIGZvciBmaW5pc2hlZCBzbGlkZVxuICAgICAgICAkdGltZW91dChnb05leHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ29OZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvTmV4dCgpIHtcbiAgICAgIC8vIFNjb3BlIGhhcyBiZWVuIGRlc3Ryb3llZCwgc3RvcCBoZXJlLlxuICAgICAgaWYgKGRlc3Ryb3llZCkgeyByZXR1cm47IH1cbiAgICAgIC8vSWYgd2UgaGF2ZSBhIHNsaWRlIHRvIHRyYW5zaXRpb24gZnJvbSBhbmQgd2UgaGF2ZSBhIHRyYW5zaXRpb24gdHlwZSBhbmQgd2UncmUgYWxsb3dlZCwgZ29cbiAgICAgIGlmIChzZWxmLmN1cnJlbnRTbGlkZSAmJiBhbmd1bGFyLmlzU3RyaW5nKGRpcmVjdGlvbikgJiYgISRzY29wZS5ub1RyYW5zaXRpb24gJiYgbmV4dFNsaWRlLiRlbGVtZW50KSB7XG4gICAgICAgIC8vV2Ugc2hvdWxkbid0IGRvIGNsYXNzIG1hbmlwIGluIGhlcmUsIGJ1dCBpdCdzIHRoZSBzYW1lIHdlaXJkIHRoaW5nIGJvb3RzdHJhcCBkb2VzLiBuZWVkIHRvIGZpeCBzb21ldGltZVxuICAgICAgICBuZXh0U2xpZGUuJGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTtcbiAgICAgICAgdmFyIHJlZmxvdyA9IG5leHRTbGlkZS4kZWxlbWVudFswXS5vZmZzZXRXaWR0aDsgLy9mb3JjZSByZWZsb3dcblxuICAgICAgICAvL1NldCBhbGwgb3RoZXIgc2xpZGVzIHRvIHN0b3AgZG9pbmcgdGhlaXIgc3R1ZmYgZm9yIHRoZSBuZXcgdHJhbnNpdGlvblxuICAgICAgICBhbmd1bGFyLmZvckVhY2goc2xpZGVzLCBmdW5jdGlvbihzbGlkZSkge1xuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNsaWRlLCB7ZGlyZWN0aW9uOiAnJywgZW50ZXJpbmc6IGZhbHNlLCBsZWF2aW5nOiBmYWxzZSwgYWN0aXZlOiBmYWxzZX0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYW5ndWxhci5leHRlbmQobmV4dFNsaWRlLCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogdHJ1ZSwgZW50ZXJpbmc6IHRydWV9KTtcbiAgICAgICAgYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGV8fHt9LCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGxlYXZpbmc6IHRydWV9KTtcblxuICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gJHRyYW5zaXRpb24obmV4dFNsaWRlLiRlbGVtZW50LCB7fSk7XG4gICAgICAgIC8vV2UgaGF2ZSB0byBjcmVhdGUgbmV3IHBvaW50ZXJzIGluc2lkZSBhIGNsb3N1cmUgc2luY2UgbmV4dCAmIGN1cnJlbnQgd2lsbCBjaGFuZ2VcbiAgICAgICAgKGZ1bmN0aW9uKG5leHQsY3VycmVudCkge1xuICAgICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24udGhlbihcbiAgICAgICAgICAgIGZ1bmN0aW9uKCl7IHRyYW5zaXRpb25Eb25lKG5leHQsIGN1cnJlbnQpOyB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oKXsgdHJhbnNpdGlvbkRvbmUobmV4dCwgY3VycmVudCk7IH1cbiAgICAgICAgICApO1xuICAgICAgICB9KG5leHRTbGlkZSwgc2VsZi5jdXJyZW50U2xpZGUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb25Eb25lKG5leHRTbGlkZSwgc2VsZi5jdXJyZW50U2xpZGUpO1xuICAgICAgfVxuICAgICAgc2VsZi5jdXJyZW50U2xpZGUgPSBuZXh0U2xpZGU7XG4gICAgICBjdXJyZW50SW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAvL2V2ZXJ5IHRpbWUgeW91IGNoYW5nZSBzbGlkZXMsIHJlc2V0IHRoZSB0aW1lclxuICAgICAgcmVzdGFydFRpbWVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25Eb25lKG5leHQsIGN1cnJlbnQpIHtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5leHQsIHtkaXJlY3Rpb246ICcnLCBhY3RpdmU6IHRydWUsIGxlYXZpbmc6IGZhbHNlLCBlbnRlcmluZzogZmFsc2V9KTtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKGN1cnJlbnR8fHt9LCB7ZGlyZWN0aW9uOiAnJywgYWN0aXZlOiBmYWxzZSwgbGVhdmluZzogZmFsc2UsIGVudGVyaW5nOiBmYWxzZX0pO1xuICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7XG4gICAgfVxuICB9O1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuICB9KTtcblxuICAvKiBBbGxvdyBvdXRzaWRlIHBlb3BsZSB0byBjYWxsIGluZGV4T2Ygb24gc2xpZGVzIGFycmF5ICovXG4gIHNlbGYuaW5kZXhPZlNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICByZXR1cm4gc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICB9O1xuXG4gICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgc2xpZGVzLmxlbmd0aDtcblxuICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3NcbiAgICBpZiAoISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybiBzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCAnbmV4dCcpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUucHJldiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCAtIDEgPCAwID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBjdXJyZW50SW5kZXggLSAxO1xuXG4gICAgLy9QcmV2ZW50IHRoaXMgdXNlci10cmlnZ2VyZWQgdHJhbnNpdGlvbiBmcm9tIG9jY3VycmluZyBpZiB0aGVyZSBpcyBhbHJlYWR5IG9uZSBpbiBwcm9ncmVzc1xuICAgIGlmICghJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuIHNlbGYuc2VsZWN0KHNsaWRlc1tuZXdJbmRleF0sICdwcmV2Jyk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgIHJldHVybiBzZWxmLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGU7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnaW50ZXJ2YWwnLCByZXN0YXJ0VGltZXIpO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIHJlc2V0VGltZXIpO1xuXG4gIGZ1bmN0aW9uIHJlc3RhcnRUaW1lcigpIHtcbiAgICByZXNldFRpbWVyKCk7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbD49MCkge1xuICAgICAgY3VycmVudFRpbWVvdXQgPSAkdGltZW91dCh0aW1lckZuLCBpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBpZiAoY3VycmVudFRpbWVvdXQpIHtcbiAgICAgICR0aW1lb3V0LmNhbmNlbChjdXJyZW50VGltZW91dCk7XG4gICAgICBjdXJyZW50VGltZW91dCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJGbigpIHtcbiAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICAkc2NvcGUubmV4dCgpO1xuICAgICAgcmVzdGFydFRpbWVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICByZXN0YXJ0VGltZXIoKTtcbiAgICB9XG4gIH07XG4gICRzY29wZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vUGF1c2UpIHtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgcmVzZXRUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLmFkZFNsaWRlID0gZnVuY3Rpb24oc2xpZGUsIGVsZW1lbnQpIHtcbiAgICBzbGlkZS4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgc2xpZGVzLnB1c2goc2xpZGUpO1xuICAgIC8vaWYgdGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUgb3IgdGhlIHNsaWRlIGlzIHNldCB0byBhY3RpdmUsIHNlbGVjdCBpdFxuICAgIGlmKHNsaWRlcy5sZW5ndGggPT09IDEgfHwgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBzZWxmLnNlbGVjdChzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSk7XG4gICAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICRzY29wZS5wbGF5KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAvL2dldCB0aGUgaW5kZXggb2YgdGhlIHNsaWRlIGluc2lkZSB0aGUgY2Fyb3VzZWxcbiAgICB2YXIgaW5kZXggPSBzbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gICAgc2xpZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgaWYgKHNsaWRlcy5sZW5ndGggPiAwICYmIHNsaWRlLmFjdGl2ZSkge1xuICAgICAgaWYgKGluZGV4ID49IHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4LTFdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VycmVudEluZGV4ID4gaW5kZXgpIHtcbiAgICAgIGN1cnJlbnRJbmRleC0tO1xuICAgIH1cbiAgfTtcblxufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpjYXJvdXNlbFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDYXJvdXNlbCBpcyB0aGUgb3V0ZXIgY29udGFpbmVyIGZvciBhIHNldCBvZiBpbWFnZSAnc2xpZGVzJyB0byBzaG93Y2FzZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IGludGVydmFsIFRoZSB0aW1lLCBpbiBtaWxsaXNlY29uZHMsIHRoYXQgaXQgd2lsbCB0YWtlIHRoZSBjYXJvdXNlbCB0byBnbyB0byB0aGUgbmV4dCBzbGlkZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vVHJhbnNpdGlvbiBXaGV0aGVyIHRvIGRpc2FibGUgdHJhbnNpdGlvbnMgb24gdGhlIGNhcm91c2VsLlxuICogQHBhcmFtIHtib29sZWFuPX0gbm9QYXVzZSBXaGV0aGVyIHRvIGRpc2FibGUgcGF1c2luZyBvbiB0aGUgY2Fyb3VzZWwgKGJ5IGRlZmF1bHQsIHRoZSBjYXJvdXNlbCBpbnRlcnZhbCBwYXVzZXMgb24gaG92ZXIpLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8Y2Fyb3VzZWw+XG4gICAgICA8c2xpZGU+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL3BsYWNla2l0dGVuLmNvbS8xNTAvMTUwXCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgICA8cD5CZWF1dGlmdWwhPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgICA8c2xpZGU+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL3BsYWNla2l0dGVuLmNvbS8xMDAvMTUwXCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgICA8cD5EJ2F3dyE8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zbGlkZT5cbiAgICA8L2Nhcm91c2VsPlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJkZW1vLmNzc1wiPlxuICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcbiAgICAgIHRvcDogYXV0bztcbiAgICAgIGJvdHRvbTogMTVweDtcbiAgICB9XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgnY2Fyb3VzZWwnLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdDYXJvdXNlbENvbnRyb2xsZXInLFxuICAgIHJlcXVpcmU6ICdjYXJvdXNlbCcsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sJyxcbiAgICBzY29wZToge1xuICAgICAgaW50ZXJ2YWw6ICc9JyxcbiAgICAgIG5vVHJhbnNpdGlvbjogJz0nLFxuICAgICAgbm9QYXVzZTogJz0nXG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpzbGlkZVxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgc2xpZGUgaW5zaWRlIGEge0BsaW5rIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwgY2Fyb3VzZWx9LiAgTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIGNhcm91c2VsIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIE1vZGVsIGJpbmRpbmcsIHdoZXRoZXIgb3Igbm90IHRoaXMgc2xpZGUgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYXJvdXNlbERlbW9DdHJsXCI+XG4gIDxjYXJvdXNlbD5cbiAgICA8c2xpZGUgbmctcmVwZWF0PVwic2xpZGUgaW4gc2xpZGVzXCIgYWN0aXZlPVwic2xpZGUuYWN0aXZlXCI+XG4gICAgICA8aW1nIG5nLXNyYz1cInt7c2xpZGUuaW1hZ2V9fVwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvblwiPlxuICAgICAgICA8aDQ+U2xpZGUge3skaW5kZXh9fTwvaDQ+XG4gICAgICAgIDxwPnt7c2xpZGUudGV4dH19PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9zbGlkZT5cbiAgPC9jYXJvdXNlbD5cbiAgSW50ZXJ2YWwsIGluIG1pbGxpc2Vjb25kczogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm15SW50ZXJ2YWxcIj5cbiAgPGJyIC8+RW50ZXIgYSBuZWdhdGl2ZSBudW1iZXIgdG8gc3RvcCB0aGUgaW50ZXJ2YWwuXG48L2Rpdj5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG5mdW5jdGlvbiBDYXJvdXNlbERlbW9DdHJsKCRzY29wZSkge1xuICAkc2NvcGUubXlJbnRlcnZhbCA9IDUwMDA7XG59XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cImRlbW8uY3NzXCI+XG4gICAgLmNhcm91c2VsLWluZGljYXRvcnMge1xuICAgICAgdG9wOiBhdXRvO1xuICAgICAgYm90dG9tOiAxNXB4O1xuICAgIH1cbiAgPC9maWxlPlxuPC9leGFtcGxlPlxuKi9cblxuLmRpcmVjdGl2ZSgnc2xpZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXmNhcm91c2VsJyxcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sJyxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAnPT8nXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYXJvdXNlbEN0cmwpIHtcbiAgICAgIGNhcm91c2VsQ3RybC5hZGRTbGlkZShzY29wZSwgZWxlbWVudCk7XG4gICAgICAvL3doZW4gdGhlIHNjb3BlIGlzIGRlc3Ryb3llZCB0aGVuIHJlbW92ZSB0aGUgc2xpZGUgZnJvbSB0aGUgY3VycmVudCBzbGlkZXMgYXJyYXlcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2Fyb3VzZWxDdHJsLnJlbW92ZVNsaWRlKHNjb3BlKTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGFjdGl2ZSkge1xuICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgY2Fyb3VzZWxDdHJsLnNlbGVjdChzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwYXJzZXInLCBbXSlcblxuLnNlcnZpY2UoJ2RhdGVQYXJzZXInLCBbJyRsb2NhbGUnLCAnb3JkZXJCeUZpbHRlcicsIGZ1bmN0aW9uKCRsb2NhbGUsIG9yZGVyQnlGaWx0ZXIpIHtcblxuICB0aGlzLnBhcnNlcnMgPSB7fTtcblxuICB2YXIgZm9ybWF0Q29kZVRvUmVnZXggPSB7XG4gICAgJ3l5eXknOiB7XG4gICAgICByZWdleDogJ1xcXFxkezR9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICd5eSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7Mn0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZSArIDIwMDA7IH1cbiAgICB9LFxuICAgICd5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHsxLDR9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdNTU1NJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5qb2luKCd8JyksXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5NT05USC5pbmRleE9mKHZhbHVlKTsgfVxuICAgIH0sXG4gICAgJ01NTSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5qb2luKCd8JyksXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YodmFsdWUpOyB9XG4gICAgfSxcbiAgICAnTU0nOiB7XG4gICAgICByZWdleDogJzBbMS05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSB2YWx1ZSAtIDE7IH1cbiAgICB9LFxuICAgICdNJzoge1xuICAgICAgcmVnZXg6ICdbMS05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSB2YWx1ZSAtIDE7IH1cbiAgICB9LFxuICAgICdkZCc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtMl1bMC05XXsxfXwzWzAtMV17MX0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2QnOiB7XG4gICAgICByZWdleDogJ1sxLTJdP1swLTldezF9fDNbMC0xXXsxfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnRUVFRSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuREFZLmpvaW4oJ3wnKVxuICAgIH0sXG4gICAgJ0VFRSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlREQVkuam9pbignfCcpXG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihmb3JtYXQpIHtcbiAgICB2YXIgbWFwID0gW10sIHJlZ2V4ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgIGFuZ3VsYXIuZm9yRWFjaChmb3JtYXRDb2RlVG9SZWdleCwgZnVuY3Rpb24oZGF0YSwgY29kZSkge1xuICAgICAgdmFyIGluZGV4ID0gZm9ybWF0LmluZGV4T2YoY29kZSk7XG5cbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICAgICAgcmVnZXhbaW5kZXhdID0gJygnICsgZGF0YS5yZWdleCArICcpJztcbiAgICAgICAgZm9ybWF0W2luZGV4XSA9ICckJzsgLy8gQ3VzdG9tIHN5bWJvbCB0byBkZWZpbmUgY29uc3VtZWQgcGFydCBvZiBmb3JtYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IGluZGV4ICsgMSwgbiA9IGluZGV4ICsgY29kZS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICByZWdleFtpXSA9ICcnO1xuICAgICAgICAgIGZvcm1hdFtpXSA9ICckJztcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQuam9pbignJyk7XG5cbiAgICAgICAgbWFwLnB1c2goeyBpbmRleDogaW5kZXgsIGFwcGx5OiBkYXRhLmFwcGx5IH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4LmpvaW4oJycpICsgJyQnKSxcbiAgICAgIG1hcDogb3JkZXJCeUZpbHRlcihtYXAsICdpbmRleCcpXG4gICAgfTtcbiAgfVxuXG4gIHRoaXMucGFyc2UgPSBmdW5jdGlvbihpbnB1dCwgZm9ybWF0KSB7XG4gICAgaWYgKCAhYW5ndWxhci5pc1N0cmluZyhpbnB1dCkgfHwgIWZvcm1hdCApIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG5cbiAgICBpZiAoICF0aGlzLnBhcnNlcnNbZm9ybWF0XSApIHtcbiAgICAgIHRoaXMucGFyc2Vyc1tmb3JtYXRdID0gY3JlYXRlUGFyc2VyKGZvcm1hdCk7XG4gICAgfVxuXG4gICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2Vyc1tmb3JtYXRdLFxuICAgICAgICByZWdleCA9IHBhcnNlci5yZWdleCxcbiAgICAgICAgbWFwID0gcGFyc2VyLm1hcCxcbiAgICAgICAgcmVzdWx0cyA9IGlucHV0Lm1hdGNoKHJlZ2V4KTtcblxuICAgIGlmICggcmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCApIHtcbiAgICAgIHZhciBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCB9LCBkdDtcblxuICAgICAgZm9yKCB2YXIgaSA9IDEsIG4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IG47IGkrKyApIHtcbiAgICAgICAgdmFyIG1hcHBlciA9IG1hcFtpLTFdO1xuICAgICAgICBpZiAoIG1hcHBlci5hcHBseSApIHtcbiAgICAgICAgICBtYXBwZXIuYXBwbHkuY2FsbChmaWVsZHMsIHJlc3VsdHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICggaXNWYWxpZChmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSkgKSB7XG4gICAgICAgIGR0ID0gbmV3IERhdGUoIGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlLCBmaWVsZHMuaG91cnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLlxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXG4gIGZ1bmN0aW9uIGlzVmFsaWQoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgICBpZiAoIG1vbnRoID09PSAxICYmIGRhdGUgPiAyOCkge1xuICAgICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcbiAgICB9XG5cbiAgICBpZiAoIG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgICAgICByZXR1cm4gZGF0ZSA8IDMxO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcblxuLyoqXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy5cbiAqIEl0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2hlcmUgd2UgbmVlZCB0byBhYnNvbHV0ZS1wb3NpdGlvbiBET00gZWxlbWVudHMgaW5cbiAqIHJlbGF0aW9uIHRvIG90aGVyLCBleGlzdGluZyBlbGVtZW50cyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdG9vbHRpcHMsIHBvcG92ZXJzLFxuICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLlxuICovXG4gIC5mYWN0b3J5KCckcG9zaXRpb24nLCBbJyRkb2N1bWVudCcsICckd2luZG93JywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJHdpbmRvdykge1xuXG4gICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHtcbiAgICAgIGlmIChlbC5jdXJyZW50U3R5bGUpIHsgLy9JRVxuICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdO1xuICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF07XG4gICAgICB9XG4gICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZVxuICAgICAgcmV0dXJuIGVsLnN0eWxlW2Nzc3Byb3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgc3RhdGljYWxseSBwb3NpdGlvbmVkXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBjbG9zZXN0LCBub24tc3RhdGljYWxseSBwb3NpdGlvbmVkIHBhcmVudE9mZnNldCBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHZhciBwYXJlbnRPZmZzZXRFbCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgZG9jRG9tRWwgPSAkZG9jdW1lbnRbMF07XG4gICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZG9jRG9tRWwgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgKSB7XG4gICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0RvbUVsO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBwb3NpdGlvbiBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wb3NpdGlvbi9cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBlbEJDUiA9IHRoaXMub2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50QkNSID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEVsID0gcGFyZW50T2Zmc2V0RWwoZWxlbWVudFswXSk7XG4gICAgICAgIGlmIChvZmZzZXRQYXJlbnRFbCAhPSAkZG9jdW1lbnRbMF0pIHtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IgPSB0aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQob2Zmc2V0UGFyZW50RWwpKTtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IudG9wICs9IG9mZnNldFBhcmVudEVsLmNsaWVudFRvcCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbFRvcDtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IubGVmdCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRMZWZ0IC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0NsaWVudFJlY3Qud2lkdGggfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRXaWR0aCcpLFxuICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCB8fCBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpLFxuICAgICAgICAgIHRvcDogZWxCQ1IudG9wIC0gb2Zmc2V0UGFyZW50QkNSLnRvcCxcbiAgICAgICAgICBsZWZ0OiBlbEJDUi5sZWZ0IC0gb2Zmc2V0UGFyZW50QkNSLmxlZnRcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgcmVhZC1vbmx5IGVxdWl2YWxlbnQgb2YgalF1ZXJ5J3Mgb2Zmc2V0IGZ1bmN0aW9uOlxuICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZnNldC9cbiAgICAgICAqL1xuICAgICAgb2Zmc2V0OiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyAoJHdpbmRvdy5wYWdlWU9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksXG4gICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAoJHdpbmRvdy5wYWdlWE9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIGNvb3JkaW5hdGVzIGZvciB0aGUgdGFyZ2V0RWwgaW4gcmVsYXRpb24gdG8gaG9zdEVsXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uIChob3N0RWwsIHRhcmdldEVsLCBwb3NpdGlvblN0ciwgYXBwZW5kVG9Cb2R5KSB7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uU3RyUGFydHMgPSBwb3NpdGlvblN0ci5zcGxpdCgnLScpO1xuICAgICAgICB2YXIgcG9zMCA9IHBvc2l0aW9uU3RyUGFydHNbMF0sIHBvczEgPSBwb3NpdGlvblN0clBhcnRzWzFdIHx8ICdjZW50ZXInO1xuXG4gICAgICAgIHZhciBob3N0RWxQb3MsXG4gICAgICAgICAgdGFyZ2V0RWxXaWR0aCxcbiAgICAgICAgICB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICB0YXJnZXRFbFBvcztcblxuICAgICAgICBob3N0RWxQb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWwpIDogdGhpcy5wb3NpdGlvbihob3N0RWwpO1xuXG4gICAgICAgIHRhcmdldEVsV2lkdGggPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgICB0YXJnZXRFbEhlaWdodCA9IHRhcmdldEVsLnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgIHZhciBzaGlmdFdpZHRoID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoIC8gMiAtIHRhcmdldEVsV2lkdGggLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVmdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNoaWZ0SGVpZ2h0ID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0IC8gMiAtIHRhcmdldEVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3A7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBib3R0b206IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3dpdGNoIChwb3MwKSB7XG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MwXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBob3N0RWxQb3MubGVmdCAtIHRhcmdldEVsV2lkdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMF0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IGhvc3RFbFBvcy50b3AgLSB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0RWxQb3M7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJDb25maWcnLCB7XG4gIGZvcm1hdERheTogJ2RkJyxcbiAgZm9ybWF0TW9udGg6ICdNTU1NJyxcbiAgZm9ybWF0WWVhcjogJ3l5eXknLFxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsXG4gIGZvcm1hdE1vbnRoVGl0bGU6ICd5eXl5JyxcbiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLFxuICBtaW5Nb2RlOiAnZGF5JyxcbiAgbWF4TW9kZTogJ3llYXInLFxuICBzaG93V2Vla3M6IHRydWUsXG4gIHN0YXJ0aW5nRGF5OiAwLFxuICB5ZWFyUmFuZ2U6IDIwLFxuICBtaW5EYXRlOiBudWxsLFxuICBtYXhEYXRlOiBudWxsXG59KVxuXG4uY29udHJvbGxlcignRGF0ZXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRpbnRlcnBvbGF0ZScsICckdGltZW91dCcsICckbG9nJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRpbnRlcnBvbGF0ZSwgJHRpbWVvdXQsICRsb2csIGRhdGVGaWx0ZXIsIGRhdGVwaWNrZXJDb25maWcpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OyAvLyBudWxsTW9kZWxDdHJsO1xuXG4gIC8vIE1vZGVzIGNoYWluXG4gIHRoaXMubW9kZXMgPSBbJ2RheScsICdtb250aCcsICd5ZWFyJ107XG5cbiAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXRNb250aCcsICdmb3JtYXRZZWFyJywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRNb250aFRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAnbWluTW9kZScsICdtYXhNb2RlJywgJ3Nob3dXZWVrcycsICdzdGFydGluZ0RheScsICd5ZWFyUmFuZ2UnXSwgZnVuY3Rpb24oIGtleSwgaW5kZXggKSB7XG4gICAgc2VsZltrZXldID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzW2tleV0pID8gKGluZGV4IDwgOCA/ICRpbnRlcnBvbGF0ZSgkYXR0cnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpIDogJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzW2tleV0pKSA6IGRhdGVwaWNrZXJDb25maWdba2V5XTtcbiAgfSk7XG5cbiAgLy8gV2F0Y2hhYmxlIGRhdGUgYXR0cmlidXRlc1xuICBhbmd1bGFyLmZvckVhY2goWydtaW5EYXRlJywgJ21heERhdGUnXSwgZnVuY3Rpb24oIGtleSApIHtcbiAgICBpZiAoICRhdHRyc1trZXldICkge1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnNba2V5XSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGZba2V5XSA9IHZhbHVlID8gbmV3IERhdGUodmFsdWUpIDogbnVsbDtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGZba2V5XSA9IGRhdGVwaWNrZXJDb25maWdba2V5XSA/IG5ldyBEYXRlKGRhdGVwaWNrZXJDb25maWdba2V5XSkgOiBudWxsO1xuICAgIH1cbiAgfSk7XG5cbiAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gJHNjb3BlLmRhdGVwaWNrZXJNb2RlIHx8IGRhdGVwaWNrZXJDb25maWcuZGF0ZXBpY2tlck1vZGU7XG4gICRzY29wZS51bmlxdWVJZCA9ICdkYXRlcGlja2VyLScgKyAkc2NvcGUuJGlkICsgJy0nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuICB0aGlzLmFjdGl2ZURhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuaW5pdERhdGUpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmluaXREYXRlKSA6IG5ldyBEYXRlKCk7XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24oZGF0ZU9iamVjdCkge1xuICAgIGlmIChzZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLCBzZWxmLmFjdGl2ZURhdGUpID09PSAwKSB7XG4gICAgICAkc2NvcGUuYWN0aXZlRGF0ZUlkID0gZGF0ZU9iamVjdC51aWQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBuZ01vZGVsQ3RybF8gKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlICkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSggbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgKSxcbiAgICAgICAgICBpc1ZhbGlkID0gIWlzTmFOKGRhdGUpO1xuXG4gICAgICBpZiAoIGlzVmFsaWQgKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRGF0ZSA9IGRhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbG9nLmVycm9yKCdEYXRlcGlja2VyIGRpcmVjdGl2ZTogXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICAgIH1cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIGlzVmFsaWQpO1xuICAgIH1cbiAgICB0aGlzLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgdGhpcy5yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICggdGhpcy5lbGVtZW50ICkge1xuICAgICAgdGhpcy5fcmVmcmVzaFZpZXcoKTtcblxuICAgICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSA6IG51bGw7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2RhdGUtZGlzYWJsZWQnLCAhZGF0ZSB8fCAodGhpcy5lbGVtZW50ICYmICF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jcmVhdGVEYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XG4gICAgdmFyIG1vZGVsID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgOiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSxcbiAgICAgIHNlbGVjdGVkOiBtb2RlbCAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgbW9kZWwpID09PSAwLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMuaXNEaXNhYmxlZChkYXRlKSxcbiAgICAgIGN1cnJlbnQ6IHRoaXMuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMFxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5pc0Rpc2FibGVkID0gZnVuY3Rpb24oIGRhdGUgKSB7XG4gICAgcmV0dXJuICgodGhpcy5taW5EYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1pbkRhdGUpIDwgMCkgfHwgKHRoaXMubWF4RGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5tYXhEYXRlKSA+IDApIHx8ICgkYXR0cnMuZGF0ZURpc2FibGVkICYmICRzY29wZS5kYXRlRGlzYWJsZWQoe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pKSk7XG4gIH07XG5cbiAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG4gIH07XG5cbiAgJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCBkYXRlICkge1xuICAgIGlmICggJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUgKSB7XG4gICAgICB2YXIgZHQgPSBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKCBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSApIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICBkdC5zZXRGdWxsWWVhciggZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpICk7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBkdCApO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1sgc2VsZi5tb2Rlcy5pbmRleE9mKCAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgKSAtIDEgXTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm1vdmUgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuICAgIHZhciB5ZWFyID0gc2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLnllYXJzIHx8IDApLFxuICAgICAgICBtb250aCA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC5tb250aHMgfHwgMCk7XG4gICAgc2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCAxKTtcbiAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxO1xuXG4gICAgaWYgKCgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWF4TW9kZSAmJiBkaXJlY3Rpb24gPT09IDEpIHx8ICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbIHNlbGYubW9kZXMuaW5kZXhPZiggJHNjb3BlLmRhdGVwaWNrZXJNb2RlICkgKyBkaXJlY3Rpb24gXTtcbiAgfTtcblxuICAvLyBLZXkgZXZlbnQgbWFwcGVyXG4gICRzY29wZS5rZXlzID0geyAxMzonZW50ZXInLCAzMjonc3BhY2UnLCAzMzoncGFnZXVwJywgMzQ6J3BhZ2Vkb3duJywgMzU6J2VuZCcsIDM2Oidob21lJywgMzc6J2xlZnQnLCAzODondXAnLCAzOToncmlnaHQnLCA0MDonZG93bicgfTtcblxuICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICB9LCAwICwgZmFsc2UpO1xuICB9O1xuXG4gIC8vIExpc3RlbiBmb3IgZm9jdXMgcmVxdWVzdHMgZnJvbSBwb3B1cCBkaXJlY3RpdmVcbiAgJHNjb3BlLiRvbignZGF0ZXBpY2tlci5mb2N1cycsIGZvY3VzRWxlbWVudCk7XG5cbiAgJHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbiggZXZ0ICkge1xuICAgIHZhciBrZXkgPSAkc2NvcGUua2V5c1tldnQud2hpY2hdO1xuXG4gICAgaWYgKCAha2V5IHx8IGV2dC5zaGlmdEtleSB8fCBldnQuYWx0S2V5ICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGlmIChrZXkgPT09ICdlbnRlcicgfHwga2V5ID09PSAnc3BhY2UnKSB7XG4gICAgICBpZiAoIHNlbGYuaXNEaXNhYmxlZChzZWxmLmFjdGl2ZURhdGUpKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICAgICAgfVxuICAgICAgJHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpO1xuICAgICAgZm9jdXNFbGVtZW50KCk7XG4gICAgfSBlbHNlIGlmIChldnQuY3RybEtleSAmJiAoa2V5ID09PSAndXAnIHx8IGtleSA9PT0gJ2Rvd24nKSkge1xuICAgICAgJHNjb3BlLnRvZ2dsZU1vZGUoa2V5ID09PSAndXAnID8gMSA6IC0xKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmhhbmRsZUtleURvd24oa2V5LCBldnQpO1xuICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCAnZGF0ZXBpY2tlcicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBkYXRlcGlja2VyTW9kZTogJz0/JyxcbiAgICAgIGRhdGVEaXNhYmxlZDogJyYnXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnP15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0RhdGVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgZGF0ZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCBuZ01vZGVsQ3RybCApIHtcbiAgICAgICAgZGF0ZXBpY2tlckN0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkYXlwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgc2NvcGUuc2hvd1dlZWtzID0gY3RybC5zaG93V2Vla3M7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgbW9udGhzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbiAgICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoKCB5ZWFyLCBtb250aCApIHtcbiAgICAgICAgcmV0dXJuICgobW9udGggPT09IDEpICYmICh5ZWFyICUgNCA9PT0gMCkgJiYgKCh5ZWFyICUgMTAwICE9PSAwKSB8fCAoeWVhciAlIDQwMCA9PT0gMCkpKSA/IDI5IDogREFZU19JTl9NT05USFttb250aF07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSwgbikge1xuICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpLCBpID0gMDtcbiAgICAgICAgY3VycmVudC5zZXRIb3VycygxMik7IC8vIFByZXZlbnQgcmVwZWF0ZWQgZGF0ZXMgYmVjYXVzZSBvZiB0aW1lem9uZSBidWdcbiAgICAgICAgd2hpbGUgKCBpIDwgbiApIHtcbiAgICAgICAgICBkYXRlc1tpKytdID0gbmV3IERhdGUoY3VycmVudCk7XG4gICAgICAgICAgY3VycmVudC5zZXREYXRlKCBjdXJyZW50LmdldERhdGUoKSArIDEgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0ZXM7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgbW9udGggPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSksXG4gICAgICAgICAgZGlmZmVyZW5jZSA9IGN0cmwuc3RhcnRpbmdEYXkgLSBmaXJzdERheU9mTW9udGguZ2V0RGF5KCksXG4gICAgICAgICAgbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPSAoZGlmZmVyZW5jZSA+IDApID8gNyAtIGRpZmZlcmVuY2UgOiAtIGRpZmZlcmVuY2UsXG4gICAgICAgICAgZmlyc3REYXRlID0gbmV3IERhdGUoZmlyc3REYXlPZk1vbnRoKTtcblxuICAgICAgICBpZiAoIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID4gMCApIHtcbiAgICAgICAgICBmaXJzdERhdGUuc2V0RGF0ZSggLSBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDQyIGlzIHRoZSBudW1iZXIgb2YgZGF5cyBvbiBhIHNpeC1tb250aCBjYWxlbmRhclxuICAgICAgICB2YXIgZGF5cyA9IGdldERhdGVzKGZpcnN0RGF0ZSwgNDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQyOyBpICsrKSB7XG4gICAgICAgICAgZGF5c1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXlzW2ldLCBjdHJsLmZvcm1hdERheSksIHtcbiAgICAgICAgICAgIHNlY29uZGFyeTogZGF5c1tpXS5nZXRNb250aCgpICE9PSBtb250aCxcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5sYWJlbHMgPSBuZXcgQXJyYXkoNyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNzsgaisrKSB7XG4gICAgICAgICAgc2NvcGUubGFiZWxzW2pdID0ge1xuICAgICAgICAgICAgYWJicjogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsIGN0cmwuZm9ybWF0RGF5SGVhZGVyKSxcbiAgICAgICAgICAgIGZ1bGw6IGRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCAnRUVFRScpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0RGF5VGl0bGUpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChkYXlzLCA3KTtcblxuICAgICAgICBpZiAoIHNjb3BlLnNob3dXZWVrcyApIHtcbiAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdO1xuICAgICAgICAgIHZhciB3ZWVrTnVtYmVyID0gZ2V0SVNPODYwMVdlZWtOdW1iZXIoIHNjb3BlLnJvd3NbMF1bMF0uZGF0ZSApLFxuICAgICAgICAgICAgICBudW1XZWVrcyA9IHNjb3BlLnJvd3MubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlKCBzY29wZS53ZWVrTnVtYmVycy5wdXNoKHdlZWtOdW1iZXIrKykgPCBudW1XZWVrcyApIHt9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKCBkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkgKSAtIG5ldyBEYXRlKCBkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpLCBkYXRlMi5nZXREYXRlKCkgKSApO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gZ2V0SVNPODYwMVdlZWtOdW1iZXIoZGF0ZSkge1xuICAgICAgICB2YXIgY2hlY2tEYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkgKyA0IC0gKGNoZWNrRGF0ZS5nZXREYXkoKSB8fCA3KSk7IC8vIFRodXJzZGF5XG4gICAgICAgIHZhciB0aW1lID0gY2hlY2tEYXRlLmdldFRpbWUoKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldE1vbnRoKDApOyAvLyBDb21wYXJlIHdpdGggSmFuIDFcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoMSk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQoKHRpbWUgLSBjaGVja0RhdGUpIC8gODY0MDAwMDApIC8gNykgKyAxO1xuICAgICAgfVxuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbigga2V5LCBldnQgKSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldERhdGUoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDc7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDc7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICB2YXIgbW9udGggPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLCAxKTtcbiAgICAgICAgICBkYXRlID0gTWF0aC5taW4oZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSwgZGF0ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLCBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldERhdGUoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ21vbnRocGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgY3RybC5zdGVwID0geyB5ZWFyczogMSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1vbnRocyA9IG5ldyBBcnJheSgxMiksXG4gICAgICAgICAgICB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgMTI7IGkrKyApIHtcbiAgICAgICAgICBtb250aHNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QobmV3IERhdGUoeWVhciwgaSwgMSksIGN0cmwuZm9ybWF0TW9udGgpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXRNb250aFRpdGxlKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQobW9udGhzLCAzKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoIGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCkgKSAtIG5ldyBEYXRlKCBkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpICk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbigga2V5LCBldnQgKSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAzOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSAxMTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3llYXJwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCcsXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIHZhciByYW5nZSA9IGN0cmwueWVhclJhbmdlO1xuXG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiByYW5nZSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgZnVuY3Rpb24gZ2V0U3RhcnRpbmdZZWFyKCB5ZWFyICkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoKHllYXIgLSAxKSAvIHJhbmdlLCAxMCkgKiByYW5nZSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ZWFycyA9IG5ldyBBcnJheShyYW5nZSk7XG5cbiAgICAgICAgZm9yICggdmFyIGkgPSAwLCBzdGFydCA9IGdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7IGkgPCByYW5nZTsgaSsrICkge1xuICAgICAgICAgIHllYXJzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KG5ldyBEYXRlKHN0YXJ0ICsgaSwgMCwgMSksIGN0cmwuZm9ybWF0WWVhciksIHtcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IFt5ZWFyc1swXS5sYWJlbCwgeWVhcnNbcmFuZ2UgLSAxXS5sYWJlbF0uam9pbignIC0gJyk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KHllYXJzLCA1KTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKSAtIGRhdGUyLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbigga2V5LCBldnQgKSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA1OyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyA1O1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgZGF0ZSArPSAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpICogY3RybC5zdGVwLnllYXJzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhciggY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhciggY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKSArIHJhbmdlIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb25zdGFudCgnZGF0ZXBpY2tlclBvcHVwQ29uZmlnJywge1xuICBkYXRlcGlja2VyUG9wdXA6ICd5eXl5LU1NLWRkJyxcbiAgY3VycmVudFRleHQ6ICdUb2RheScsXG4gIGNsZWFyVGV4dDogJ0NsZWFyJyxcbiAgY2xvc2VUZXh0OiAnRG9uZScsXG4gIGNsb3NlT25EYXRlU2VsZWN0aW9uOiB0cnVlLFxuICBhcHBlbmRUb0JvZHk6IGZhbHNlLFxuICBzaG93QnV0dG9uQmFyOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZVBhcnNlcicsICdkYXRlcGlja2VyUG9wdXBDb25maWcnLFxuZnVuY3Rpb24gKCRjb21waWxlLCAkcGFyc2UsICRkb2N1bWVudCwgJHBvc2l0aW9uLCBkYXRlRmlsdGVyLCBkYXRlUGFyc2VyLCBkYXRlcGlja2VyUG9wdXBDb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGN1cnJlbnRUZXh0OiAnQCcsXG4gICAgICBjbGVhclRleHQ6ICdAJyxcbiAgICAgIGNsb3NlVGV4dDogJ0AnLFxuICAgICAgZGF0ZURpc2FibGVkOiAnJidcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgdmFyIGRhdGVGb3JtYXQsXG4gICAgICAgICAgY2xvc2VPbkRhdGVTZWxlY3Rpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZU9uRGF0ZVNlbGVjdGlvbixcbiAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5O1xuXG4gICAgICBzY29wZS5zaG93QnV0dG9uQmFyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2hvd0J1dHRvbkJhcikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXI7XG5cbiAgICAgIHNjb3BlLmdldFRleHQgPSBmdW5jdGlvbigga2V5ICkge1xuICAgICAgICByZXR1cm4gc2NvcGVba2V5ICsgJ1RleHQnXSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWdba2V5ICsgJ1RleHQnXTtcbiAgICAgIH07XG5cbiAgICAgIGF0dHJzLiRvYnNlcnZlKCdkYXRlcGlja2VyUG9wdXAnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGRhdGVGb3JtYXQgPSB2YWx1ZSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICAgIG5nTW9kZWwuJHJlbmRlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHBvcHVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IGNhbGVuZGFyXG4gICAgICB2YXIgcG9wdXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpO1xuICAgICAgcG9wdXBFbC5hdHRyKHtcbiAgICAgICAgJ25nLW1vZGVsJzogJ2RhdGUnLFxuICAgICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oKSdcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBjYW1lbHRvRGFzaCggc3RyaW5nICl7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbigkMSkgeyByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGRhdGVwaWNrZXIgZWxlbWVudFxuICAgICAgdmFyIGRhdGVwaWNrZXJFbCA9IGFuZ3VsYXIuZWxlbWVudChwb3B1cEVsLmNoaWxkcmVuKClbMF0pO1xuICAgICAgaWYgKCBhdHRycy5kYXRlcGlja2VyT3B0aW9ucyApIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpLCBmdW5jdGlvbiggdmFsdWUsIG9wdGlvbiApIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0ciggY2FtZWx0b0Rhc2gob3B0aW9uKSwgdmFsdWUgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLndhdGNoRGF0YSA9IHt9O1xuICAgICAgYW5ndWxhci5mb3JFYWNoKFsnbWluRGF0ZScsICdtYXhEYXRlJywgJ2RhdGVwaWNrZXJNb2RlJ10sIGZ1bmN0aW9uKCBrZXkgKSB7XG4gICAgICAgIGlmICggYXR0cnNba2V5XSApIHtcbiAgICAgICAgICB2YXIgZ2V0QXR0cmlidXRlID0gJHBhcnNlKGF0dHJzW2tleV0pO1xuICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGdldEF0dHJpYnV0ZSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgc2NvcGUud2F0Y2hEYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cihjYW1lbHRvRGFzaChrZXkpLCAnd2F0Y2hEYXRhLicgKyBrZXkpO1xuXG4gICAgICAgICAgLy8gUHJvcGFnYXRlIGNoYW5nZXMgZnJvbSBkYXRlcGlja2VyIHRvIG91dHNpZGVcbiAgICAgICAgICBpZiAoIGtleSA9PT0gJ2RhdGVwaWNrZXJNb2RlJyApIHtcbiAgICAgICAgICAgIHZhciBzZXRBdHRyaWJ1dGUgPSBnZXRBdHRyaWJ1dGUuYXNzaWduO1xuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCd3YXRjaERhdGEuJyArIGtleSwgZnVuY3Rpb24odmFsdWUsIG9sZHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmICggdmFsdWUgIT09IG9sZHZhbHVlICkge1xuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZShzY29wZS4kcGFyZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoYXR0cnMuZGF0ZURpc2FibGVkKSB7XG4gICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdkYXRlLWRpc2FibGVkJywgJ2RhdGVEaXNhYmxlZCh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSknKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VEYXRlKHZpZXdWYWx1ZSkge1xuICAgICAgICBpZiAoIXZpZXdWYWx1ZSkge1xuICAgICAgICAgIG5nTW9kZWwuJHNldFZhbGlkaXR5KCdkYXRlJywgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmlld1ZhbHVlKSAmJiAhaXNOYU4odmlld1ZhbHVlKSkge1xuICAgICAgICAgIG5nTW9kZWwuJHNldFZhbGlkaXR5KCdkYXRlJywgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2Uodmlld1ZhbHVlLCBkYXRlRm9ybWF0KSB8fCBuZXcgRGF0ZSh2aWV3VmFsdWUpO1xuICAgICAgICAgIGlmIChpc05hTihkYXRlKSkge1xuICAgICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5nTW9kZWwuJHNldFZhbGlkaXR5KCdkYXRlJywgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpO1xuXG4gICAgICAvLyBJbm5lciBjaGFuZ2VcbiAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24gPSBmdW5jdGlvbihkdCkge1xuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZHQpKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IGR0O1xuICAgICAgICB9XG4gICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShzY29wZS5kYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG5cbiAgICAgICAgaWYgKCBjbG9zZU9uRGF0ZVNlbGVjdGlvbiApIHtcbiAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsZW1lbnQuYmluZCgnaW5wdXQgY2hhbmdlIGtleXVwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gbmdNb2RlbC4kbW9kZWxWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3V0dGVyIGNoYW5nZVxuICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkYXRlID0gbmdNb2RlbC4kdmlld1ZhbHVlID8gZGF0ZUZpbHRlcihuZ01vZGVsLiR2aWV3VmFsdWUsIGRhdGVGb3JtYXQpIDogJyc7XG4gICAgICAgIGVsZW1lbnQudmFsKGRhdGUpO1xuICAgICAgICBzY29wZS5kYXRlID0gcGFyc2VEYXRlKCBuZ01vZGVsLiRtb2RlbFZhbHVlICk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZG9jdW1lbnRDbGlja0JpbmQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoc2NvcGUuaXNPcGVuICYmIGV2ZW50LnRhcmdldCAhPT0gZWxlbWVudFswXSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIga2V5ZG93biA9IGZ1bmN0aW9uKGV2dCwgbm9BcHBseSkge1xuICAgICAgICBzY29wZS5rZXlkb3duKGV2dCk7XG4gICAgICB9O1xuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywga2V5ZG93bik7XG5cbiAgICAgIHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2NvcGUuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDQwICYmICFzY29wZS5pc09wZW4pIHtcbiAgICAgICAgICBzY29wZS5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ2RhdGVwaWNrZXIuZm9jdXMnKTtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wID0gc2NvcGUucG9zaXRpb24udG9wICsgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCBkYXRlICkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUobmdNb2RlbC4kbW9kZWxWYWx1ZSk7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24oIGRhdGUgKTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpO1xuICAgICAgLy8gUHJldmVudCBqUXVlcnkgY2FjaGUgbWVtb3J5IGxlYWsgKHRlbXBsYXRlIGlzIG5vdyByZWR1bmRhbnQgYWZ0ZXIgbGlua2luZylcbiAgICAgIHBvcHVwRWwucmVtb3ZlKCk7XG5cbiAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkge1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2tleWRvd24nLCBrZXlkb3duKTtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwV3JhcCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sJyxcbiAgICBsaW5rOmZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRyb3Bkb3duJywgW10pXG5cbi5jb25zdGFudCgnZHJvcGRvd25Db25maWcnLCB7XG4gIG9wZW5DbGFzczogJ29wZW4nXG59KVxuXG4uc2VydmljZSgnZHJvcGRvd25TZXJ2aWNlJywgWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgdmFyIG9wZW5TY29wZSA9IG51bGw7XG5cbiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oIGRyb3Bkb3duU2NvcGUgKSB7XG4gICAgaWYgKCAhb3BlblNjb3BlICkge1xuICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGVzY2FwZUtleUJpbmQpO1xuICAgIH1cblxuICAgIGlmICggb3BlblNjb3BlICYmIG9wZW5TY29wZSAhPT0gZHJvcGRvd25TY29wZSApIHtcbiAgICAgICAgb3BlblNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9wZW5TY29wZSA9IGRyb3Bkb3duU2NvcGU7XG4gIH07XG5cbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCBkcm9wZG93blNjb3BlICkge1xuICAgIGlmICggb3BlblNjb3BlID09PSBkcm9wZG93blNjb3BlICkge1xuICAgICAgb3BlblNjb3BlID0gbnVsbDtcbiAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdrZXlkb3duJywgZXNjYXBlS2V5QmluZCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbG9zZURyb3Bkb3duID0gZnVuY3Rpb24oIGV2dCApIHtcbiAgICB2YXIgdG9nZ2xlRWxlbWVudCA9IG9wZW5TY29wZS5nZXRUb2dnbGVFbGVtZW50KCk7XG4gICAgaWYgKCBldnQgJiYgdG9nZ2xlRWxlbWVudCAmJiB0b2dnbGVFbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpICkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3BlblNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZXNjYXBlS2V5QmluZCA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgaWYgKCBldnQud2hpY2ggPT09IDI3ICkge1xuICAgICAgb3BlblNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgY2xvc2VEcm9wZG93bigpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29udHJvbGxlcignRHJvcGRvd25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICdkcm9wZG93bkNvbmZpZycsICdkcm9wZG93blNlcnZpY2UnLCAnJGFuaW1hdGUnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCBkcm9wZG93bkNvbmZpZywgZHJvcGRvd25TZXJ2aWNlLCAkYW5pbWF0ZSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBzY29wZSA9ICRzY29wZS4kbmV3KCksIC8vIGNyZWF0ZSBhIGNoaWxkIHNjb3BlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIG9uZVxuICAgICAgb3BlbkNsYXNzID0gZHJvcGRvd25Db25maWcub3BlbkNsYXNzLFxuICAgICAgZ2V0SXNPcGVuLFxuICAgICAgc2V0SXNPcGVuID0gYW5ndWxhci5ub29wLFxuICAgICAgdG9nZ2xlSW52b2tlciA9ICRhdHRycy5vblRvZ2dsZSA/ICRwYXJzZSgkYXR0cnMub25Ub2dnbGUpIDogYW5ndWxhci5ub29wO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgIHNlbGYuJGVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgaWYgKCAkYXR0cnMuaXNPcGVuICkge1xuICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pO1xuICAgICAgc2V0SXNPcGVuID0gZ2V0SXNPcGVuLmFzc2lnbjtcblxuICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9ICEhdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbiggb3BlbiApIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhb3BlbiA6ICFzY29wZS5pc09wZW47XG4gIH07XG5cbiAgLy8gQWxsb3cgb3RoZXIgZGlyZWN0aXZlcyB0byB3YXRjaCBzdGF0dXNcbiAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuO1xuICB9O1xuXG4gIHNjb3BlLmdldFRvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi50b2dnbGVFbGVtZW50O1xuICB9O1xuXG4gIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICggc2VsZi50b2dnbGVFbGVtZW50ICkge1xuICAgICAgc2VsZi50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24oIGlzT3Blbiwgd2FzT3BlbiApIHtcbiAgICAkYW5pbWF0ZVtpc09wZW4gPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oc2VsZi4kZWxlbWVudCwgb3BlbkNsYXNzKTtcblxuICAgIGlmICggaXNPcGVuICkge1xuICAgICAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XG4gICAgICBkcm9wZG93blNlcnZpY2Uub3Blbiggc2NvcGUgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJvcGRvd25TZXJ2aWNlLmNsb3NlKCBzY29wZSApO1xuICAgIH1cblxuICAgIHNldElzT3Blbigkc2NvcGUsIGlzT3Blbik7XG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlzT3BlbikgJiYgaXNPcGVuICE9PSB3YXNPcGVuKSB7XG4gICAgICB0b2dnbGVJbnZva2VyKCRzY29wZSwgeyBvcGVuOiAhIWlzT3BlbiB9KTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcbiAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgfSk7XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBzY29wZS4kZGVzdHJveSgpO1xuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93bicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQ0EnLFxuICAgIGNvbnRyb2xsZXI6ICdEcm9wZG93bkNvbnRyb2xsZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBkcm9wZG93bkN0cmwuaW5pdCggZWxlbWVudCApO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duVG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdDQScsXG4gICAgcmVxdWlyZTogJz9eZHJvcGRvd24nLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBpZiAoICFkcm9wZG93bkN0cmwgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZHJvcGRvd25DdHJsLnRvZ2dsZUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgdG9nZ2xlRHJvcGRvd24gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICggIWVsZW1lbnQuaGFzQ2xhc3MoJ2Rpc2FibGVkJykgJiYgIWF0dHJzLmRpc2FibGVkICkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcblxuICAgICAgLy8gV0FJLUFSSUFcbiAgICAgIGVsZW1lbnQuYXR0cih7ICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSwgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSB9KTtcbiAgICAgIHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLCBmdW5jdGlvbiggaXNPcGVuICkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAhIWlzT3Blbik7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5tb2RhbCcsIFsndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nXSlcblxuLyoqXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBhY3RzIGFzIGEgbWFwIGJ1dCBhbHNvIGFsbG93cyBnZXR0aW5nIC8gcmVtb3ZpbmdcbiAqIGVsZW1lbnRzIGluIHRoZSBMSUZPIG9yZGVyXG4gKi9cbiAgLmZhY3RvcnkoJyQkc3RhY2tlZE1hcCcsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWRkOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrW2ldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGtleXMucHVzaChzdGFja1tpXS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIGlkeCA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2UoaWR4LCAxKVswXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZVRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShzdGFjay5sZW5ndGggLSAxLCAxKVswXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuLyoqXG4gKiBBIGhlbHBlciBkaXJlY3RpdmUgZm9yIHRoZSAkbW9kYWwgc2VydmljZS4gSXQgY3JlYXRlcyBhIGJhY2tkcm9wIGVsZW1lbnQuXG4gKi9cbiAgLmRpcmVjdGl2ZSgnbW9kYWxCYWNrZHJvcCcsIFsnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgc2NvcGUuYmFja2Ryb3BDbGFzcyA9IGF0dHJzLmJhY2tkcm9wQ2xhc3MgfHwgJyc7XG5cbiAgICAgICAgc2NvcGUuYW5pbWF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vdHJpZ2dlciBDU1MgdHJhbnNpdGlvbnNcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNjb3BlLmFuaW1hdGUgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFdpbmRvdycsIFsnJG1vZGFsU3RhY2snLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJG1vZGFsU3RhY2ssICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgaW5kZXg6ICdAJyxcbiAgICAgICAgYW5pbWF0ZTogJz0nXG4gICAgICB9LFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICByZXR1cm4gdEF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCc7XG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKGF0dHJzLndpbmRvd0NsYXNzIHx8ICcnKTtcbiAgICAgICAgc2NvcGUuc2l6ZSA9IGF0dHJzLnNpemU7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIHRyaWdnZXIgQ1NTIHRyYW5zaXRpb25zXG4gICAgICAgICAgc2NvcGUuYW5pbWF0ZSA9IHRydWU7XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBdXRvLWZvY3VzaW5nIG9mIGEgZnJlc2hseS1vcGVuZWQgbW9kYWwgZWxlbWVudCBjYXVzZXMgYW55IGNoaWxkIGVsZW1lbnRzXG4gICAgICAgICAgICogd2l0aCB0aGUgYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBsb29zZSBmb2N1cy4gVGhpcyBpcyBhbiBpc3N1ZSBvbiB0b3VjaFxuICAgICAgICAgICAqIGJhc2VkIGRldmljZXMgd2hpY2ggd2lsbCBzaG93IGFuZCB0aGVuIGhpZGUgdGhlIG9uc2NyZWVuIGtleWJvYXJkLlxuICAgICAgICAgICAqIEF0dGVtcHRzIHRvIHJlZm9jdXMgdGhlIGF1dG9mb2N1cyBlbGVtZW50IHZpYSBKYXZhU2NyaXB0IHdpbGwgbm90IHJlb3BlblxuICAgICAgICAgICAqIHRoZSBvbnNjcmVlbiBrZXlib2FyZC4gRml4ZWQgYnkgdXBkYXRlZCB0aGUgZm9jdXNpbmcgbG9naWMgdG8gb25seSBhdXRvZm9jdXNcbiAgICAgICAgICAgKiB0aGUgbW9kYWwgZWxlbWVudCBpZiB0aGUgbW9kYWwgZG9lcyBub3QgY29udGFpbiBhbiBhdXRvZm9jdXMgZWxlbWVudC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoIWVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnW2F1dG9mb2N1c10nKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAhPSAnc3RhdGljJyAmJiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnYmFja2Ryb3AgY2xpY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxUcmFuc2NsdWRlJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgICR0cmFuc2NsdWRlKCRzY29wZS4kcGFyZW50LCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZmFjdG9yeSgnJG1vZGFsU3RhY2snLCBbJyR0cmFuc2l0aW9uJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckcm9vdFNjb3BlJywgJyQkc3RhY2tlZE1hcCcsXG4gICAgZnVuY3Rpb24gKCR0cmFuc2l0aW9uLCAkdGltZW91dCwgJGRvY3VtZW50LCAkY29tcGlsZSwgJHJvb3RTY29wZSwgJCRzdGFja2VkTWFwKSB7XG5cbiAgICAgIHZhciBPUEVORURfTU9EQUxfQ0xBU1MgPSAnbW9kYWwtb3Blbic7XG5cbiAgICAgIHZhciBiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlO1xuICAgICAgdmFyIG9wZW5lZFdpbmRvd3MgPSAkJHN0YWNrZWRNYXAuY3JlYXRlTmV3KCk7XG4gICAgICB2YXIgJG1vZGFsU3RhY2sgPSB7fTtcblxuICAgICAgZnVuY3Rpb24gYmFja2Ryb3BJbmRleCgpIHtcbiAgICAgICAgdmFyIHRvcEJhY2tkcm9wSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG9wZW5lZCA9IG9wZW5lZFdpbmRvd3Mua2V5cygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZW5lZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChvcGVuZWRXaW5kb3dzLmdldChvcGVuZWRbaV0pLnZhbHVlLmJhY2tkcm9wKSB7XG4gICAgICAgICAgICB0b3BCYWNrZHJvcEluZGV4ID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvcEJhY2tkcm9wSW5kZXg7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJHdhdGNoKGJhY2tkcm9wSW5kZXgsIGZ1bmN0aW9uKG5ld0JhY2tkcm9wSW5kZXgpe1xuICAgICAgICBpZiAoYmFja2Ryb3BTY29wZSkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBuZXdCYWNrZHJvcEluZGV4O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSkge1xuXG4gICAgICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKTtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7XG5cbiAgICAgICAgLy9jbGVhbiB1cCB0aGUgc3RhY2tcbiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgLy9yZW1vdmUgd2luZG93IERPTSBlbGVtZW50XG4gICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShtb2RhbFdpbmRvdy5tb2RhbERvbUVsLCBtb2RhbFdpbmRvdy5tb2RhbFNjb3BlLCAzMDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG1vZGFsV2luZG93Lm1vZGFsU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBib2R5LnRvZ2dsZUNsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUywgb3BlbmVkV2luZG93cy5sZW5ndGgoKSA+IDApO1xuICAgICAgICAgIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKSB7XG4gICAgICAgICAgLy9yZW1vdmUgYmFja2Ryb3AgaWYgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgICAgIGlmIChiYWNrZHJvcERvbUVsICYmIGJhY2tkcm9wSW5kZXgoKSA9PSAtMSkge1xuICAgICAgICAgICAgdmFyIGJhY2tkcm9wU2NvcGVSZWYgPSBiYWNrZHJvcFNjb3BlO1xuICAgICAgICAgICAgcmVtb3ZlQWZ0ZXJBbmltYXRlKGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGUsIDE1MCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBiYWNrZHJvcFNjb3BlUmVmLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgIGJhY2tkcm9wU2NvcGVSZWYgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYWNrZHJvcERvbUVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgYmFja2Ryb3BTY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZUFmdGVyQW5pbWF0ZShkb21FbCwgc2NvcGUsIGVtdWxhdGVUaW1lLCBkb25lKSB7XG4gICAgICAgIC8vIENsb3NpbmcgYW5pbWF0aW9uXG4gICAgICAgIHNjb3BlLmFuaW1hdGUgPSBmYWxzZTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uLnRyYW5zaXRpb25FbmRFdmVudE5hbWU7XG4gICAgICAgIGlmICh0cmFuc2l0aW9uRW5kRXZlbnROYW1lKSB7XG4gICAgICAgICAgLy8gdHJhbnNpdGlvbiBvdXRcbiAgICAgICAgICB2YXIgdGltZW91dCA9ICR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nLCBlbXVsYXRlVGltZSk7XG5cbiAgICAgICAgICBkb21FbC5iaW5kKHRyYW5zaXRpb25FbmRFdmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0KTtcbiAgICAgICAgICAgIGFmdGVyQW5pbWF0aW5nKCk7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBFbnN1cmUgdGhpcyBjYWxsIGlzIGFzeW5jXG4gICAgICAgICAgJHRpbWVvdXQoYWZ0ZXJBbmltYXRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJBbmltYXRpbmcoKSB7XG4gICAgICAgICAgaWYgKGFmdGVyQW5pbWF0aW5nLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWZ0ZXJBbmltYXRpbmcuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICBkb21FbC5yZW1vdmUoKTtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIG1vZGFsO1xuXG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgbW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5rZXlib2FyZCkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnZXNjYXBlIGtleSBwcmVzcycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlLCBtb2RhbCkge1xuXG4gICAgICAgIG9wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICBkZWZlcnJlZDogbW9kYWwuZGVmZXJyZWQsXG4gICAgICAgICAgbW9kYWxTY29wZTogbW9kYWwuc2NvcGUsXG4gICAgICAgICAgYmFja2Ryb3A6IG1vZGFsLmJhY2tkcm9wLFxuICAgICAgICAgIGtleWJvYXJkOiBtb2RhbC5rZXlib2FyZFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCksXG4gICAgICAgICAgICBjdXJyQmFja2Ryb3BJbmRleCA9IGJhY2tkcm9wSW5kZXgoKTtcblxuICAgICAgICBpZiAoY3VyckJhY2tkcm9wSW5kZXggPj0gMCAmJiAhYmFja2Ryb3BEb21FbCkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IGN1cnJCYWNrZHJvcEluZGV4O1xuICAgICAgICAgIHZhciBhbmd1bGFyQmFja2dyb3VuZERvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLWJhY2tkcm9wPjwvZGl2PicpO1xuICAgICAgICAgIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cignYmFja2Ryb3AtY2xhc3MnLCBtb2RhbC5iYWNrZHJvcENsYXNzKTtcbiAgICAgICAgICBiYWNrZHJvcERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckJhY2tncm91bmREb21FbCkoYmFja2Ryb3BTY29wZSk7XG4gICAgICAgICAgYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYW5ndWxhckRvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLXdpbmRvdz48L2Rpdj4nKTtcbiAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoe1xuICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAnd2luZG93LWNsYXNzJzogbW9kYWwud2luZG93Q2xhc3MsXG4gICAgICAgICAgJ3NpemUnOiBtb2RhbC5zaXplLFxuICAgICAgICAgICdpbmRleCc6IG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgLSAxLFxuICAgICAgICAgICdhbmltYXRlJzogJ2FuaW1hdGUnXG4gICAgICAgIH0pLmh0bWwobW9kYWwuY29udGVudCk7XG5cbiAgICAgICAgdmFyIG1vZGFsRG9tRWwgPSAkY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtcbiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbERvbUVsID0gbW9kYWxEb21FbDtcbiAgICAgICAgYm9keS5hcHBlbmQobW9kYWxEb21FbCk7XG4gICAgICAgIGJvZHkuYWRkQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTKTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmNsb3NlID0gZnVuY3Rpb24gKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5kaXNtaXNzID0gZnVuY3Rpb24gKG1vZGFsSW5zdGFuY2UsIHJlYXNvbikge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3NBbGwgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIHdoaWxlICh0b3BNb2RhbCkge1xuICAgICAgICAgIHRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXksIHJlYXNvbik7XG4gICAgICAgICAgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5nZXRUb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuICRtb2RhbFN0YWNrO1xuICAgIH1dKVxuXG4gIC5wcm92aWRlcignJG1vZGFsJywgZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyICRtb2RhbFByb3ZpZGVyID0ge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYmUgYWxzbyBmYWxzZSBvciAnc3RhdGljJ1xuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJGNvbnRyb2xsZXInLCAnJG1vZGFsU3RhY2snLFxuICAgICAgICBmdW5jdGlvbiAoJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSwgJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkY29udHJvbGxlciwgJG1vZGFsU3RhY2spIHtcblxuICAgICAgICAgIHZhciAkbW9kYWwgPSB7fTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlUHJvbWlzZShvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZSA/ICRxLndoZW4ob3B0aW9ucy50ZW1wbGF0ZSkgOlxuICAgICAgICAgICAgICAkaHR0cC5nZXQoYW5ndWxhci5pc0Z1bmN0aW9uKG9wdGlvbnMudGVtcGxhdGVVcmwpID8gKG9wdGlvbnMudGVtcGxhdGVVcmwpKCkgOiBvcHRpb25zLnRlbXBsYXRlVXJsLFxuICAgICAgICAgICAgICAgIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0UmVzb2x2ZVByb21pc2VzKHJlc29sdmVzKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZXNBcnIgPSBbXTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNvbHZlcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpIHx8IGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXNBcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJG1vZGFsLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxPcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHZhciBtb2RhbFJlc3VsdERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbE9wZW5lZERlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLy9wcmVwYXJlIGFuIGluc3RhbmNlIG9mIGEgbW9kYWwgdG8gYmUgaW5qZWN0ZWQgaW50byBjb250cm9sbGVycyBhbmQgcmV0dXJuZWQgdG8gYSBjYWxsZXJcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0ge1xuICAgICAgICAgICAgICByZXN1bHQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgb3BlbmVkOiBtb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgJG1vZGFsU3RhY2suY2xvc2UobW9kYWxJbnN0YW5jZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGlzbWlzczogZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWxJbnN0YW5jZSwgcmVhc29uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy9tZXJnZSBhbmQgY2xlYW4gdXAgb3B0aW9uc1xuICAgICAgICAgICAgbW9kYWxPcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sICRtb2RhbFByb3ZpZGVyLm9wdGlvbnMsIG1vZGFsT3B0aW9ucyk7XG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMucmVzb2x2ZSA9IG1vZGFsT3B0aW9ucy5yZXNvbHZlIHx8IHt9O1xuXG4gICAgICAgICAgICAvL3ZlcmlmeSBvcHRpb25zXG4gICAgICAgICAgICBpZiAoIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZSAmJiAhbW9kYWxPcHRpb25zLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25lIG9mIHRlbXBsYXRlIG9yIHRlbXBsYXRlVXJsIG9wdGlvbnMgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlID1cbiAgICAgICAgICAgICAgJHEuYWxsKFtnZXRUZW1wbGF0ZVByb21pc2UobW9kYWxPcHRpb25zKV0uY29uY2F0KGdldFJlc29sdmVQcm9taXNlcyhtb2RhbE9wdGlvbnMucmVzb2x2ZSkpKTtcblxuXG4gICAgICAgICAgICB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gcmVzb2x2ZVN1Y2Nlc3ModHBsQW5kVmFycykge1xuXG4gICAgICAgICAgICAgIHZhciBtb2RhbFNjb3BlID0gKG1vZGFsT3B0aW9ucy5zY29wZSB8fCAkcm9vdFNjb3BlKS4kbmV3KCk7XG4gICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGNsb3NlID0gbW9kYWxJbnN0YW5jZS5jbG9zZTtcbiAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcyA9IG1vZGFsSW5zdGFuY2UuZGlzbWlzcztcblxuICAgICAgICAgICAgICB2YXIgY3RybEluc3RhbmNlLCBjdHJsTG9jYWxzID0ge307XG4gICAgICAgICAgICAgIHZhciByZXNvbHZlSXRlciA9IDE7XG5cbiAgICAgICAgICAgICAgLy9jb250cm9sbGVyc1xuICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBjdHJsTG9jYWxzLiRzY29wZSA9IG1vZGFsU2NvcGU7XG4gICAgICAgICAgICAgICAgY3RybExvY2Fscy4kbW9kYWxJbnN0YW5jZSA9IG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1vZGFsT3B0aW9ucy5yZXNvbHZlLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fsc1trZXldID0gdHBsQW5kVmFyc1tyZXNvbHZlSXRlcisrXTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGN0cmxJbnN0YW5jZSA9ICRjb250cm9sbGVyKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyLCBjdHJsTG9jYWxzKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBcykge1xuICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZVttb2RhbE9wdGlvbnMuY29udHJvbGxlckFzXSA9IGN0cmxJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICBzY29wZTogbW9kYWxTY29wZSxcbiAgICAgICAgICAgICAgICBkZWZlcnJlZDogbW9kYWxSZXN1bHREZWZlcnJlZCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB0cGxBbmRWYXJzWzBdLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbE9wdGlvbnMuYmFja2Ryb3AsXG4gICAgICAgICAgICAgICAga2V5Ym9hcmQ6IG1vZGFsT3B0aW9ucy5rZXlib2FyZCxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcENsYXNzOiBtb2RhbE9wdGlvbnMuYmFja2Ryb3BDbGFzcyxcbiAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogbW9kYWxPcHRpb25zLndpbmRvd0NsYXNzLFxuICAgICAgICAgICAgICAgIHdpbmRvd1RlbXBsYXRlVXJsOiBtb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsXG4gICAgICAgICAgICAgICAgc2l6ZTogbW9kYWxPcHRpb25zLnNpemVcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIHJlc29sdmVFcnJvcihyZWFzb24pIHtcbiAgICAgICAgICAgICAgbW9kYWxSZXN1bHREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbW9kYWxJbnN0YW5jZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuICRtb2RhbDtcbiAgICAgICAgfV1cbiAgICB9O1xuXG4gICAgcmV0dXJuICRtb2RhbFByb3ZpZGVyO1xuICB9KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wYWdpbmF0aW9uJywgW10pXG5cbi5jb250cm9sbGVyKCdQYWdpbmF0aW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkYXR0cnMsICRwYXJzZSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmxcbiAgICAgIHNldE51bVBhZ2VzID0gJGF0dHJzLm51bVBhZ2VzID8gJHBhcnNlKCRhdHRycy5udW1QYWdlcykuYXNzaWduIDogYW5ndWxhci5ub29wO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgY29uZmlnKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG5cbiAgICBpZiAoJGF0dHJzLml0ZW1zUGVyUGFnZSkge1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaXRlbXNQZXJQYWdlKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZi5pdGVtc1BlclBhZ2UgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAkc2NvcGUudG90YWxQYWdlcyA9IHNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXRlbXNQZXJQYWdlID0gY29uZmlnLml0ZW1zUGVyUGFnZTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xuICAgIHJldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzIHx8IDAsIDEpO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnBhZ2UgPSBwYXJzZUludChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCAxMCkgfHwgMTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UpIHtcbiAgICBpZiAoICRzY29wZS5wYWdlICE9PSBwYWdlICYmIHBhZ2UgPiAwICYmIHBhZ2UgPD0gJHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGtleSApIHtcbiAgICByZXR1cm4gJHNjb3BlW2tleSArICdUZXh0J10gfHwgc2VsZi5jb25maWdba2V5ICsgJ1RleHQnXTtcbiAgfTtcbiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09IDE7XG4gIH07XG4gICRzY29wZS5ub05leHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09ICRzY29wZS50b3RhbFBhZ2VzO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ3RvdGFsSXRlbXMnLCBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudG90YWxQYWdlcyA9IHNlbGYuY2FsY3VsYXRlVG90YWxQYWdlcygpO1xuICB9KTtcblxuICAkc2NvcGUuJHdhdGNoKCd0b3RhbFBhZ2VzJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICBzZXROdW1QYWdlcygkc2NvcGUuJHBhcmVudCwgdmFsdWUpOyAvLyBSZWFkb25seSB2YXJpYWJsZVxuXG4gICAgaWYgKCAkc2NvcGUucGFnZSA+IHZhbHVlICkge1xuICAgICAgJHNjb3BlLnNlbGVjdFBhZ2UodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9KTtcbn1dKVxuXG4uY29uc3RhbnQoJ3BhZ2luYXRpb25Db25maWcnLCB7XG4gIGl0ZW1zUGVyUGFnZTogMTAsXG4gIGJvdW5kYXJ5TGlua3M6IGZhbHNlLFxuICBkaXJlY3Rpb25MaW5rczogdHJ1ZSxcbiAgZmlyc3RUZXh0OiAnRmlyc3QnLFxuICBwcmV2aW91c1RleHQ6ICdQcmV2aW91cycsXG4gIG5leHRUZXh0OiAnTmV4dCcsXG4gIGxhc3RUZXh0OiAnTGFzdCcsXG4gIHJvdGF0ZTogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgncGFnaW5hdGlvbicsIFsnJHBhcnNlJywgJ3BhZ2luYXRpb25Db25maWcnLCBmdW5jdGlvbigkcGFyc2UsIHBhZ2luYXRpb25Db25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBzY29wZToge1xuICAgICAgdG90YWxJdGVtczogJz0nLFxuICAgICAgZmlyc3RUZXh0OiAnQCcsXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcbiAgICAgIG5leHRUZXh0OiAnQCcsXG4gICAgICBsYXN0VGV4dDogJ0AnXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3BhZ2luYXRpb24nLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcbiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnNcbiAgICAgIHZhciBtYXhTaXplID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWF4U2l6ZSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLm1heFNpemUpIDogcGFnaW5hdGlvbkNvbmZpZy5tYXhTaXplLFxuICAgICAgICAgIHJvdGF0ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnJvdGF0ZSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnJvdGF0ZSkgOiBwYWdpbmF0aW9uQ29uZmlnLnJvdGF0ZTtcbiAgICAgIHNjb3BlLmJvdW5kYXJ5TGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5ib3VuZGFyeUxpbmtzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYm91bmRhcnlMaW5rcykgOiBwYWdpbmF0aW9uQ29uZmlnLmJvdW5kYXJ5TGlua3M7XG4gICAgICBzY29wZS5kaXJlY3Rpb25MaW5rcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGlyZWN0aW9uTGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5kaXJlY3Rpb25MaW5rcztcblxuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnaW5hdGlvbkNvbmZpZyk7XG5cbiAgICAgIGlmIChhdHRycy5tYXhTaXplKSB7XG4gICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5tYXhTaXplKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBtYXhTaXplID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICBwYWdpbmF0aW9uQ3RybC5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBwYWdlIG9iamVjdCB1c2VkIGluIHRlbXBsYXRlXG4gICAgICBmdW5jdGlvbiBtYWtlUGFnZShudW1iZXIsIHRleHQsIGlzQWN0aXZlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbnVtYmVyOiBudW1iZXIsXG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBhY3RpdmU6IGlzQWN0aXZlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBhZ2VzKGN1cnJlbnRQYWdlLCB0b3RhbFBhZ2VzKSB7XG4gICAgICAgIHZhciBwYWdlcyA9IFtdO1xuXG4gICAgICAgIC8vIERlZmF1bHQgcGFnZSBsaW1pdHNcbiAgICAgICAgdmFyIHN0YXJ0UGFnZSA9IDEsIGVuZFBhZ2UgPSB0b3RhbFBhZ2VzO1xuICAgICAgICB2YXIgaXNNYXhTaXplZCA9ICggYW5ndWxhci5pc0RlZmluZWQobWF4U2l6ZSkgJiYgbWF4U2l6ZSA8IHRvdGFsUGFnZXMgKTtcblxuICAgICAgICAvLyByZWNvbXB1dGUgaWYgbWF4U2l6ZVxuICAgICAgICBpZiAoIGlzTWF4U2l6ZWQgKSB7XG4gICAgICAgICAgaWYgKCByb3RhdGUgKSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50IHBhZ2UgaXMgZGlzcGxheWVkIGluIHRoZSBtaWRkbGUgb2YgdGhlIHZpc2libGUgb25lc1xuICAgICAgICAgICAgc3RhcnRQYWdlID0gTWF0aC5tYXgoY3VycmVudFBhZ2UgLSBNYXRoLmZsb29yKG1heFNpemUvMiksIDEpO1xuICAgICAgICAgICAgZW5kUGFnZSAgID0gc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDE7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICAgICAgaWYgKGVuZFBhZ2UgPiB0b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgICAgIGVuZFBhZ2UgICA9IHRvdGFsUGFnZXM7XG4gICAgICAgICAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSBtYXhTaXplICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVmlzaWJsZSBwYWdlcyBhcmUgcGFnaW5hdGVkIHdpdGggbWF4U2l6ZVxuICAgICAgICAgICAgc3RhcnRQYWdlID0gKChNYXRoLmNlaWwoY3VycmVudFBhZ2UgLyBtYXhTaXplKSAtIDEpICogbWF4U2l6ZSkgKyAxO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgbGFzdCBwYWdlIGlmIGxpbWl0IGlzIGV4Y2VlZGVkXG4gICAgICAgICAgICBlbmRQYWdlID0gTWF0aC5taW4oc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDEsIHRvdGFsUGFnZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBwYWdlIG51bWJlciBsaW5rc1xuICAgICAgICBmb3IgKHZhciBudW1iZXIgPSBzdGFydFBhZ2U7IG51bWJlciA8PSBlbmRQYWdlOyBudW1iZXIrKykge1xuICAgICAgICAgIHZhciBwYWdlID0gbWFrZVBhZ2UobnVtYmVyLCBudW1iZXIsIG51bWJlciA9PT0gY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgbGlua3MgdG8gbW92ZSBiZXR3ZWVuIHBhZ2Ugc2V0c1xuICAgICAgICBpZiAoIGlzTWF4U2l6ZWQgJiYgISByb3RhdGUgKSB7XG4gICAgICAgICAgaWYgKCBzdGFydFBhZ2UgPiAxICkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzUGFnZVNldCA9IG1ha2VQYWdlKHN0YXJ0UGFnZSAtIDEsICcuLi4nLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy51bnNoaWZ0KHByZXZpb3VzUGFnZVNldCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCBlbmRQYWdlIDwgdG90YWxQYWdlcyApIHtcbiAgICAgICAgICAgIHZhciBuZXh0UGFnZVNldCA9IG1ha2VQYWdlKGVuZFBhZ2UgKyAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMucHVzaChuZXh0UGFnZVNldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBwYWdpbmF0aW9uQ3RybC5yZW5kZXI7XG4gICAgICBwYWdpbmF0aW9uQ3RybC5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb3JpZ2luYWxSZW5kZXIoKTtcbiAgICAgICAgaWYgKHNjb3BlLnBhZ2UgPiAwICYmIHNjb3BlLnBhZ2UgPD0gc2NvcGUudG90YWxQYWdlcykge1xuICAgICAgICAgIHNjb3BlLnBhZ2VzID0gZ2V0UGFnZXMoc2NvcGUucGFnZSwgc2NvcGUudG90YWxQYWdlcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb25zdGFudCgncGFnZXJDb25maWcnLCB7XG4gIGl0ZW1zUGVyUGFnZTogMTAsXG4gIHByZXZpb3VzVGV4dDogJ8KrIFByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0IMK7JyxcbiAgYWxpZ246IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ3BhZ2VyJywgWydwYWdlckNvbmZpZycsIGZ1bmN0aW9uKHBhZ2VyQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxuICAgICAgbmV4dFRleHQ6ICdAJ1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdlcicsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdQYWdpbmF0aW9uQ29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWwnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcbiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuICAgICAgfVxuXG4gICAgICBzY29wZS5hbGlnbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmFsaWduKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pIDogcGFnZXJDb25maWcuYWxpZ247XG4gICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBwYWdlckNvbmZpZyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgaHRtbCB0b29sdGlwcywgYW5kIHNlbGVjdG9yIGRlbGVnYXRpb24uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCAndWkuYm9vdHN0cmFwLnRvb2x0aXAnLCBbICd1aS5ib290c3RyYXAucG9zaXRpb24nLCAndWkuYm9vdHN0cmFwLmJpbmRIdG1sJyBdIClcblxuLyoqXG4gKiBUaGUgJHRvb2x0aXAgc2VydmljZSBjcmVhdGVzIHRvb2x0aXAtIGFuZCBwb3BvdmVyLWxpa2UgZGlyZWN0aXZlcyBhcyB3ZWxsIGFzXG4gKiBob3VzZXMgZ2xvYmFsIG9wdGlvbnMgZm9yIHRoZW0uXG4gKi9cbi5wcm92aWRlciggJyR0b29sdGlwJywgZnVuY3Rpb24gKCkge1xuICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zIHRvb2x0aXAgYW5kIHBvcG92ZXIuXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwb3B1cERlbGF5OiAwXG4gIH07XG5cbiAgLy8gRGVmYXVsdCBoaWRlIHRyaWdnZXJzIGZvciBlYWNoIHNob3cgdHJpZ2dlclxuICB2YXIgdHJpZ2dlck1hcCA9IHtcbiAgICAnbW91c2VlbnRlcic6ICdtb3VzZWxlYXZlJyxcbiAgICAnY2xpY2snOiAnY2xpY2snLFxuICAgICdmb2N1cyc6ICdibHVyJ1xuICB9O1xuXG4gIC8vIFRoZSBvcHRpb25zIHNwZWNpZmllZCB0byB0aGUgcHJvdmlkZXIgZ2xvYmFsbHkuXG4gIHZhciBnbG9iYWxPcHRpb25zID0ge307XG5cbiAgLyoqXG4gICAqIGBvcHRpb25zKHt9KWAgYWxsb3dzIGdsb2JhbCBjb25maWd1cmF0aW9uIG9mIGFsbCB0b29sdGlwcyBpbiB0aGVcbiAgICogYXBwbGljYXRpb24uXG4gICAqXG4gICAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCAnQXBwJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddLCBmdW5jdGlvbiggJHRvb2x0aXBQcm92aWRlciApIHtcbiAgICogICAgIC8vIHBsYWNlIHRvb2x0aXBzIGxlZnQgaW5zdGVhZCBvZiB0b3AgYnkgZGVmYXVsdFxuICAgKiAgICAgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zKCB7IHBsYWNlbWVudDogJ2xlZnQnIH0gKTtcbiAgICogICB9KTtcbiAgICovXG5cdHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRhbmd1bGFyLmV4dGVuZCggZ2xvYmFsT3B0aW9ucywgdmFsdWUgKTtcblx0fTtcblxuICAvKipcbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIGV4dGVuZCB0aGUgc2V0IG9mIHRyaWdnZXIgbWFwcGluZ3MgYXZhaWxhYmxlLiBFLmcuOlxuICAgKlxuICAgKiAgICR0b29sdGlwUHJvdmlkZXIuc2V0VHJpZ2dlcnMoICdvcGVuVHJpZ2dlcic6ICdjbG9zZVRyaWdnZXInICk7XG4gICAqL1xuICB0aGlzLnNldFRyaWdnZXJzID0gZnVuY3Rpb24gc2V0VHJpZ2dlcnMgKCB0cmlnZ2VycyApIHtcbiAgICBhbmd1bGFyLmV4dGVuZCggdHJpZ2dlck1hcCwgdHJpZ2dlcnMgKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiBmb3IgdHJhbnNsYXRpbmcgY2FtZWwtY2FzZSB0byBzbmFrZS1jYXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lKXtcbiAgICB2YXIgcmVnZXhwID0gL1tBLVpdL2c7XG4gICAgdmFyIHNlcGFyYXRvciA9ICctJztcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcbiAgICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLlxuICAgKiBUT0RPIHN1cHBvcnQgbXVsdGlwbGUgdHJpZ2dlcnNcbiAgICovXG4gIHRoaXMuJGdldCA9IFsgJyR3aW5kb3cnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJHBhcnNlJywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAnJGludGVycG9sYXRlJywgZnVuY3Rpb24gKCAkd2luZG93LCAkY29tcGlsZSwgJHRpbWVvdXQsICRwYXJzZSwgJGRvY3VtZW50LCAkcG9zaXRpb24sICRpbnRlcnBvbGF0ZSApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gJHRvb2x0aXAgKCB0eXBlLCBwcmVmaXgsIGRlZmF1bHRUcmlnZ2VyU2hvdyApIHtcbiAgICAgIHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoIHt9LCBkZWZhdWx0T3B0aW9ucywgZ2xvYmFsT3B0aW9ucyApO1xuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNob3cgYW5kIGhpZGUgdHJpZ2dlcnMuXG4gICAgICAgKlxuICAgICAgICogSWYgYSB0cmlnZ2VyIGlzIHN1cHBsaWVkLFxuICAgICAgICogaXQgaXMgdXNlZCB0byBzaG93IHRoZSB0b29sdGlwOyBvdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdHJpZ2dlcmBcbiAgICAgICAqIG9wdGlvbiBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZDsgZWxzZSBpdCB3aWxsXG4gICAgICAgKiBkZWZhdWx0IHRvIHRoZSB0cmlnZ2VyIHN1cHBsaWVkIHRvIHRoaXMgZGlyZWN0aXZlIGZhY3RvcnkuXG4gICAgICAgKlxuICAgICAgICogVGhlIGhpZGUgdHJpZ2dlciBpcyBiYXNlZCBvbiB0aGUgc2hvdyB0cmlnZ2VyLiBJZiB0aGUgYHRyaWdnZXJgIG9wdGlvblxuICAgICAgICogd2FzIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kLCBpdCB3aWxsIHVzZSB0aGVcbiAgICAgICAqIG1hcHBlZCB0cmlnZ2VyIGZyb20gYHRyaWdnZXJNYXBgIG9yIHRoZSBwYXNzZWQgdHJpZ2dlciBpZiB0aGUgbWFwIGlzXG4gICAgICAgKiB1bmRlZmluZWQ7IG90aGVyd2lzZSwgaXQgdXNlcyB0aGUgYHRyaWdnZXJNYXBgIHZhbHVlIG9mIHRoZSBzaG93XG4gICAgICAgKiB0cmlnZ2VyOyBlbHNlIGl0IHdpbGwganVzdCB1c2UgdGhlIHNob3cgdHJpZ2dlci5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlcnMgKCB0cmlnZ2VyICkge1xuICAgICAgICB2YXIgc2hvdyA9IHRyaWdnZXIgfHwgb3B0aW9ucy50cmlnZ2VyIHx8IGRlZmF1bHRUcmlnZ2VyU2hvdztcbiAgICAgICAgdmFyIGhpZGUgPSB0cmlnZ2VyTWFwW3Nob3ddIHx8IHNob3c7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvdzogc2hvdyxcbiAgICAgICAgICBoaWRlOiBoaWRlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSggdHlwZSApO1xuXG4gICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPVxuICAgICAgICAnPGRpdiAnKyBkaXJlY3RpdmVOYW1lICsnLXBvcHVwICcrXG4gICAgICAgICAgJ3RpdGxlPVwiJytzdGFydFN5bSsndHRfdGl0bGUnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAnY29udGVudD1cIicrc3RhcnRTeW0rJ3R0X2NvbnRlbnQnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAncGxhY2VtZW50PVwiJytzdGFydFN5bSsndHRfcGxhY2VtZW50JytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ2FuaW1hdGlvbj1cInR0X2FuaW1hdGlvblwiICcrXG4gICAgICAgICAgJ2lzLW9wZW49XCJ0dF9pc09wZW5cIicrXG4gICAgICAgICAgJz4nK1xuICAgICAgICAnPC9kaXY+JztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW0sIHRBdHRycykge1xuICAgICAgICAgIHZhciB0b29sdGlwTGlua2VyID0gJGNvbXBpbGUoIHRlbXBsYXRlICk7XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbGluayAoIHNjb3BlLCBlbGVtZW50LCBhdHRycyApIHtcbiAgICAgICAgICAgIHZhciB0b29sdGlwO1xuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgdmFyIHBvcHVwVGltZW91dDtcbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZCggb3B0aW9ucy5hcHBlbmRUb0JvZHkgKSA/IG9wdGlvbnMuYXBwZW5kVG9Cb2R5IDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgdHJpZ2dlcnMgPSBnZXRUcmlnZ2VycyggdW5kZWZpbmVkICk7XG4gICAgICAgICAgICB2YXIgaGFzRW5hYmxlRXhwID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4KydFbmFibGUnXSk7XG5cbiAgICAgICAgICAgIHZhciBwb3NpdGlvblRvb2x0aXAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgdmFyIHR0UG9zaXRpb24gPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhlbGVtZW50LCB0b29sdGlwLCBzY29wZS50dF9wbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7XG4gICAgICAgICAgICAgIHR0UG9zaXRpb24udG9wICs9ICdweCc7XG4gICAgICAgICAgICAgIHR0UG9zaXRpb24ubGVmdCArPSAncHgnO1xuXG4gICAgICAgICAgICAgIC8vIE5vdyBzZXQgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb25pbmcuXG4gICAgICAgICAgICAgIHRvb2x0aXAuY3NzKCB0dFBvc2l0aW9uICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWRcbiAgICAgICAgICAgIHNjb3BlLnR0X2lzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVUb29sdGlwQmluZCAoKSB7XG4gICAgICAgICAgICAgIGlmICggISBzY29wZS50dF9pc09wZW4gKSB7XG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlkZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCB3aXRoIGRlbGF5IGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNob3cgaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpIHtcbiAgICAgICAgICAgICAgaWYoaGFzRW5hYmxlRXhwICYmICFzY29wZS4kZXZhbChhdHRyc1twcmVmaXgrJ0VuYWJsZSddKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIHNjb3BlLnR0X3BvcHVwRGVsYXkgKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGUgdG9vbHRpcCB3YXMgYWxyZWFkeSBzY2hlZHVsZWQgdG8gcG9wLXVwLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpZiBzaG93IGlzIHRyaWdnZXJlZCBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgYW55IGhpZGUgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgICAgICAgIGlmICghcG9wdXBUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSAkdGltZW91dCggc2hvdywgc2NvcGUudHRfcG9wdXBEZWxheSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dC50aGVuKGZ1bmN0aW9uKHJlcG9zaXRpb24pe3JlcG9zaXRpb24oKTt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvdygpKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kICgpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93KCkge1xuXG4gICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBwZW5kaW5nIHJlbW92ZSB0cmFuc2l0aW9uLCB3ZSBtdXN0IGNhbmNlbCBpdCwgbGVzdCB0aGVcbiAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC5cbiAgICAgICAgICAgICAgaWYgKCB0cmFuc2l0aW9uVGltZW91dCApIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHRyYW5zaXRpb25UaW1lb3V0ICk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlbXB0eSB0b29sdGlwcy5cbiAgICAgICAgICAgICAgaWYgKCAhIHNjb3BlLnR0X2NvbnRlbnQgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIubm9vcDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNyZWF0ZVRvb2x0aXAoKTtcblxuICAgICAgICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgcG9zaXRpb25pbmcuXG4gICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pO1xuXG4gICAgICAgICAgICAgIC8vIE5vdyB3ZSBhZGQgaXQgdG8gdGhlIERPTSBiZWNhdXNlIG5lZWQgc29tZSBpbmZvIGFib3V0IGl0LiBCdXQgaXQncyBub3QgXG4gICAgICAgICAgICAgIC8vIHZpc2libGUgeWV0IGFueXdheS5cbiAgICAgICAgICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7XG4gICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCggJ2JvZHknICkuYXBwZW5kKCB0b29sdGlwICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlciggdG9vbHRpcCApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgLy8gQW5kIHNob3cgdGhlIHRvb2x0aXAuXG4gICAgICAgICAgICAgIHNjb3BlLnR0X2lzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTsgLy8gZGlnZXN0IHJlcXVpcmVkIGFzICRhcHBseSBpcyBub3QgY2FsbGVkXG5cbiAgICAgICAgICAgICAgLy8gUmV0dXJuIHBvc2l0aW9uaW5nIGZ1bmN0aW9uIGFzIHByb21pc2UgY2FsbGJhY2sgZm9yIGNvcnJlY3RcbiAgICAgICAgICAgICAgLy8gcG9zaXRpb25pbmcgYWZ0ZXIgZHJhdy5cbiAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uVG9vbHRpcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgdG9vbHRpcCBwb3B1cCBlbGVtZW50LlxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgICAgLy8gRmlyc3QgdGhpbmdzIGZpcnN0OiB3ZSBkb24ndCBzaG93IGl0IGFueW1vcmUuXG4gICAgICAgICAgICAgIHNjb3BlLnR0X2lzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIC8vaWYgdG9vbHRpcCBpcyBnb2luZyB0byBiZSBzaG93biBhZnRlciBkZWxheSwgd2UgbXVzdCBjYW5jZWwgdGhpc1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHBvcHVwVGltZW91dCApO1xuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlIFxuICAgICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGl0IHRvIGV4cGlyZSBiZWZvcmVoYW5kLlxuICAgICAgICAgICAgICAvLyBGSVhNRTogdGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciBhIHBvcnQgb2YgdGhlIHRyYW5zaXRpb25zIGxpYnJhcnkuXG4gICAgICAgICAgICAgIGlmICggc2NvcGUudHRfYW5pbWF0aW9uICkge1xuICAgICAgICAgICAgICAgIGlmICghdHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gJHRpbWVvdXQocmVtb3ZlVG9vbHRpcCwgNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIC8vIFRoZXJlIGNhbiBvbmx5IGJlIG9uZSB0b29sdGlwIGVsZW1lbnQgcGVyIGRpcmVjdGl2ZSBzaG93biBhdCBvbmNlLlxuICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b29sdGlwID0gdG9vbHRpcExpbmtlcihzY29wZSwgZnVuY3Rpb24gKCkge30pO1xuXG4gICAgICAgICAgICAgIC8vIEdldCBjb250ZW50cyByZW5kZXJlZCBpbnRvIHRoZSB0b29sdGlwXG4gICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIHRvb2x0aXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdG9vbHRpcCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPYnNlcnZlIHRoZSByZWxldmFudCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggdHlwZSwgZnVuY3Rpb24gKCB2YWwgKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnR0X2NvbnRlbnQgPSB2YWw7XG5cbiAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgc2NvcGUudHRfaXNPcGVuICkge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCBwcmVmaXgrJ1RpdGxlJywgZnVuY3Rpb24gKCB2YWwgKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnR0X3RpdGxlID0gdmFsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCBwcmVmaXgrJ1BsYWNlbWVudCcsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICBzY29wZS50dF9wbGFjZW1lbnQgPSBhbmd1bGFyLmlzRGVmaW5lZCggdmFsICkgPyB2YWwgOiBvcHRpb25zLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydQb3B1cERlbGF5JywgZnVuY3Rpb24gKCB2YWwgKSB7XG4gICAgICAgICAgICAgIHZhciBkZWxheSA9IHBhcnNlSW50KCB2YWwsIDEwICk7XG4gICAgICAgICAgICAgIHNjb3BlLnR0X3BvcHVwRGVsYXkgPSAhIGlzTmFOKGRlbGF5KSA/IGRlbGF5IDogb3B0aW9ucy5wb3B1cERlbGF5O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciB1bnJlZ2lzdGVyVHJpZ2dlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQudW5iaW5kKHRyaWdnZXJzLnNob3csIHNob3dUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgIGVsZW1lbnQudW5iaW5kKHRyaWdnZXJzLmhpZGUsIGhpZGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydUcmlnZ2VyJywgZnVuY3Rpb24gKCB2YWwgKSB7XG4gICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpO1xuXG4gICAgICAgICAgICAgIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnMoIHZhbCApO1xuXG4gICAgICAgICAgICAgIGlmICggdHJpZ2dlcnMuc2hvdyA9PT0gdHJpZ2dlcnMuaGlkZSApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoIHRyaWdnZXJzLnNob3csIHRvZ2dsZVRvb2x0aXBCaW5kICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCB0cmlnZ2Vycy5zaG93LCBzaG93VG9vbHRpcEJpbmQgKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoIHRyaWdnZXJzLmhpZGUsIGhpZGVUb29sdGlwQmluZCApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdBbmltYXRpb24nXSk7XG4gICAgICAgICAgICBzY29wZS50dF9hbmltYXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhbmltYXRpb24pID8gISFhbmltYXRpb24gOiBvcHRpb25zLmFuaW1hdGlvbjtcblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHByZWZpeCsnQXBwZW5kVG9Cb2R5JywgZnVuY3Rpb24gKCB2YWwgKSB7XG4gICAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCB2YWwgKSA/ICRwYXJzZSggdmFsICkoIHNjb3BlICkgOiBhcHBlbmRUb0JvZHk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvblxuICAgICAgICAgICAgLy8gbG9jYXRpb24gY2hhbmdlIGFzIGl0cyBwYXJlbnQgc2NvcGUgd2lsbCBwcm9iYWJseSBub3QgYmUgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIGNsb3NlVG9vbHRpcE9uTG9jYXRpb25DaGFuZ2VTdWNjZXNzICgpIHtcbiAgICAgICAgICAgICAgaWYgKCBzY29wZS50dF9pc09wZW4gKSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvb2x0aXAgaXMgZGVzdHJveWVkIGFuZCByZW1vdmVkLlxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIG9uRGVzdHJveVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCggdHJhbnNpdGlvblRpbWVvdXQgKTtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCBwb3B1cFRpbWVvdXQgKTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG4gICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59KVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcFBvcHVwJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoICd0b29sdGlwJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoICd0b29sdGlwJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicgKTtcbn1dKVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxVbnNhZmVQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxVbnNhZmUnLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uICggJHRvb2x0aXAgKSB7XG4gIHJldHVybiAkdG9vbHRpcCggJ3Rvb2x0aXBIdG1sVW5zYWZlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicgKTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogcG9wdXAgZGVsYXksIGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBodG1sIHBvcG92ZXJzLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC5wb3BvdmVyJywgWyAndWkuYm9vdHN0cmFwLnRvb2x0aXAnIF0gKVxuXG4uZGlyZWN0aXZlKCAncG9wb3ZlclBvcHVwJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgdGl0bGU6ICdAJywgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoICdwb3BvdmVyJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVyJywgJ3BvcG92ZXInLCAnY2xpY2snICk7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXInLCBbXSlcblxuLmNvbnN0YW50KCdwcm9ncmVzc0NvbmZpZycsIHtcbiAgYW5pbWF0ZTogdHJ1ZSxcbiAgbWF4OiAxMDBcbn0pXG5cbi5jb250cm9sbGVyKCdQcm9ncmVzc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncHJvZ3Jlc3NDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcHJvZ3Jlc3NDb25maWcpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFuaW1hdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSkgOiBwcm9ncmVzc0NvbmZpZy5hbmltYXRlO1xuXG4gICAgdGhpcy5iYXJzID0gW107XG4gICAgJHNjb3BlLm1heCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCkgOiBwcm9ncmVzc0NvbmZpZy5tYXg7XG5cbiAgICB0aGlzLmFkZEJhciA9IGZ1bmN0aW9uKGJhciwgZWxlbWVudCkge1xuICAgICAgICBpZiAoICFhbmltYXRlICkge1xuICAgICAgICAgICAgZWxlbWVudC5jc3Moeyd0cmFuc2l0aW9uJzogJ25vbmUnfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJhcnMucHVzaChiYXIpO1xuXG4gICAgICAgIGJhci4kd2F0Y2goJ3ZhbHVlJywgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICAgICAgYmFyLnBlcmNlbnQgPSArKDEwMCAqIHZhbHVlIC8gJHNjb3BlLm1heCkudG9GaXhlZCgyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmFyLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgc2VsZi5yZW1vdmVCYXIoYmFyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlQmFyID0gZnVuY3Rpb24oYmFyKSB7XG4gICAgICAgIHRoaXMuYmFycy5zcGxpY2UodGhpcy5iYXJzLmluZGV4T2YoYmFyKSwgMSk7XG4gICAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzcycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICAgICAgcmVxdWlyZTogJ3Byb2dyZXNzJyxcbiAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXG4gICAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2JhcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICByZXF1aXJlOiAnXnByb2dyZXNzJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgICB0eXBlOiAnQCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICAgICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzc2JhcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgICB0eXBlOiAnQCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgICAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pKTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucmF0aW5nJywgW10pXG5cbi5jb25zdGFudCgncmF0aW5nQ29uZmlnJywge1xuICBtYXg6IDUsXG4gIHN0YXRlT246IG51bGwsXG4gIHN0YXRlT2ZmOiBudWxsXG59KVxuXG4uY29udHJvbGxlcignUmF0aW5nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdyYXRpbmdDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcmF0aW5nQ29uZmlnKSB7XG4gIHZhciBuZ01vZGVsQ3RybCAgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIHRoaXMuc3RhdGVPbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9uKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9uO1xuICAgIHRoaXMuc3RhdGVPZmYgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPZmYpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT2ZmKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9mZjtcblxuICAgIHZhciByYXRpbmdTdGF0ZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmF0aW5nU3RhdGVzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBcnJheSggYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1heCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KSA6IHJhdGluZ0NvbmZpZy5tYXggKTtcbiAgICAkc2NvcGUucmFuZ2UgPSB0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzKHJhdGluZ1N0YXRlcyk7XG4gIH07XG5cbiAgdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyA9IGZ1bmN0aW9uKHN0YXRlcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gc3RhdGVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgc3RhdGVzW2ldID0gYW5ndWxhci5leHRlbmQoeyBpbmRleDogaSB9LCB7IHN0YXRlT246IHRoaXMuc3RhdGVPbiwgc3RhdGVPZmY6IHRoaXMuc3RhdGVPZmYgfSwgc3RhdGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlcztcbiAgfTtcblxuICAkc2NvcGUucmF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCAhJHNjb3BlLnJlYWRvbmx5ICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gJHNjb3BlLnJhbmdlLmxlbmd0aCApIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZW50ZXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICggISRzY29wZS5yZWFkb25seSApIHtcbiAgICAgICRzY29wZS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAkc2NvcGUub25Ib3Zlcih7dmFsdWU6IHZhbHVlfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAkc2NvcGUub25MZWF2ZSgpO1xuICB9O1xuXG4gICRzY29wZS5vbktleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAoLygzN3wzOHwzOXw0MCkvLnRlc3QoZXZ0LndoaWNoKSkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkc2NvcGUucmF0ZSggJHNjb3BlLnZhbHVlICsgKGV2dC53aGljaCA9PT0gMzggfHwgZXZ0LndoaWNoID09PSAzOSA/IDEgOiAtMSkgKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3JhdGluZycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsncmF0aW5nJywgJ25nTW9kZWwnXSxcbiAgICBzY29wZToge1xuICAgICAgcmVhZG9ubHk6ICc9PycsXG4gICAgICBvbkhvdmVyOiAnJicsXG4gICAgICBvbkxlYXZlOiAnJidcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdSYXRpbmdDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCcsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgcmF0aW5nQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIG5nTW9kZWxDdHJsICkge1xuICAgICAgICByYXRpbmdDdHJsLmluaXQoIG5nTW9kZWxDdHJsICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSk7XG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFic1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQW5ndWxhckpTIHZlcnNpb24gb2YgdGhlIHRhYnMgZGlyZWN0aXZlLlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGFicycsIFtdKVxuXG4uY29udHJvbGxlcignVGFic2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24gVGFic2V0Q3RybCgkc2NvcGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzLFxuICAgICAgdGFicyA9IGN0cmwudGFicyA9ICRzY29wZS50YWJzID0gW107XG5cbiAgY3RybC5zZWxlY3QgPSBmdW5jdGlvbihzZWxlY3RlZFRhYikge1xuICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJzLCBmdW5jdGlvbih0YWIpIHtcbiAgICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYiAhPT0gc2VsZWN0ZWRUYWIpIHtcbiAgICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0YWIub25EZXNlbGVjdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNlbGVjdGVkVGFiLmFjdGl2ZSA9IHRydWU7XG4gICAgc2VsZWN0ZWRUYWIub25TZWxlY3QoKTtcbiAgfTtcblxuICBjdHJsLmFkZFRhYiA9IGZ1bmN0aW9uIGFkZFRhYih0YWIpIHtcbiAgICB0YWJzLnB1c2godGFiKTtcbiAgICAvLyB3ZSBjYW4ndCBydW4gdGhlIHNlbGVjdCBmdW5jdGlvbiBvbiB0aGUgZmlyc3QgdGFiXG4gICAgLy8gc2luY2UgdGhhdCB3b3VsZCBzZWxlY3QgaXQgdHdpY2VcbiAgICBpZiAodGFicy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGFiLmFjdGl2ZSkge1xuICAgICAgY3RybC5zZWxlY3QodGFiKTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5yZW1vdmVUYWIgPSBmdW5jdGlvbiByZW1vdmVUYWIodGFiKSB7XG4gICAgdmFyIGluZGV4ID0gdGFicy5pbmRleE9mKHRhYik7XG4gICAgLy9TZWxlY3QgYSBuZXcgdGFiIGlmIHRoZSB0YWIgdG8gYmUgcmVtb3ZlZCBpcyBzZWxlY3RlZFxuICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYnMubGVuZ3RoID4gMSkge1xuICAgICAgLy9JZiB0aGlzIGlzIHRoZSBsYXN0IHRhYiwgc2VsZWN0IHRoZSBwcmV2aW91cyB0YWIuIGVsc2UsIHRoZSBuZXh0IHRhYi5cbiAgICAgIHZhciBuZXdBY3RpdmVJbmRleCA9IGluZGV4ID09IHRhYnMubGVuZ3RoIC0gMSA/IGluZGV4IC0gMSA6IGluZGV4ICsgMTtcbiAgICAgIGN0cmwuc2VsZWN0KHRhYnNbbmV3QWN0aXZlSW5kZXhdKTtcbiAgICB9XG4gICAgdGFicy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUYWJzZXQgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgdGhlIHRhYnMgZGlyZWN0aXZlXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gdmVydGljYWwgV2hldGhlciBvciBub3QgdG8gdXNlIHZlcnRpY2FsIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICogQHBhcmFtIHtib29sZWFuPX0ganVzdGlmaWVkIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBqdXN0aWZpZWQgc3R5bGluZyBmb3IgdGhlIHRhYnMuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPjxiPkZpcnN0PC9iPiBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDJcIj48aT5TZWNvbmQ8L2k+IENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPGhyIC8+XG4gICAgPHRhYnNldCB2ZXJ0aWNhbD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlZlcnRpY2FsIFRhYiAxXCI+PGI+Rmlyc3Q8L2I+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gVmVydGljYWwgQ29udGVudCE8L3RhYj5cbiAgICA8L3RhYnNldD5cbiAgICA8dGFic2V0IGp1c3RpZmllZD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFic2V0JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdUYWJzZXRDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgc2NvcGUudmVydGljYWwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy52ZXJ0aWNhbCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnZlcnRpY2FsKSA6IGZhbHNlO1xuICAgICAgc2NvcGUuanVzdGlmaWVkID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuanVzdGlmaWVkKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKSA6IGZhbHNlO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYlxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBoZWFkaW5nIFRoZSB2aXNpYmxlIGhlYWRpbmcsIG9yIHRpdGxlLCBvZiB0aGUgdGFiLiBTZXQgSFRNTCBoZWFkaW5ncyB3aXRoIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZyB0YWJIZWFkaW5nfS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc2VsZWN0IEFuIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiB0aGUgdGFiIGlzIHNlbGVjdGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGRpc2FibGVkIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBkaXNhYmxlZC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSB0YWIgd2l0aCBhIGhlYWRpbmcgYW5kIGNvbnRlbnQuIE11c3QgYmUgcGxhY2VkIHdpdGhpbiBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFic2V0IHRhYnNldH0uXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRhYnNEZW1vQ3RybFwiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzBdLmFjdGl2ZSA9IHRydWVcIj5cbiAgICAgICAgU2VsZWN0IGl0ZW0gMSwgdXNpbmcgYWN0aXZlIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzFdLmRpc2FibGVkID0gIWl0ZW1zWzFdLmRpc2FibGVkXCI+XG4gICAgICAgIEVuYWJsZS9kaXNhYmxlIGl0ZW0gMiwgdXNpbmcgZGlzYWJsZWQgYmluZGluZ1xuICAgICAgPC9idXR0b24+XG4gICAgICA8YnIgLz5cbiAgICAgIDx0YWJzZXQ+XG4gICAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAxXCI+Rmlyc3QgVGFiPC90YWI+XG4gICAgICAgIDx0YWIgc2VsZWN0PVwiYWxlcnRNZSgpXCI+XG4gICAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1iZWxsXCI+PC9pPiBBbGVydCBtZSE8L3RhYi1oZWFkaW5nPlxuICAgICAgICAgIFNlY29uZCBUYWIsIHdpdGggYWxlcnQgY2FsbGJhY2sgYW5kIGh0bWwgaGVhZGluZyFcbiAgICAgICAgPC90YWI+XG4gICAgICAgIDx0YWIgbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiXG4gICAgICAgICAgaGVhZGluZz1cInt7aXRlbS50aXRsZX19XCJcbiAgICAgICAgICBkaXNhYmxlZD1cIml0ZW0uZGlzYWJsZWRcIlxuICAgICAgICAgIGFjdGl2ZT1cIml0ZW0uYWN0aXZlXCI+XG4gICAgICAgICAge3tpdGVtLmNvbnRlbnR9fVxuICAgICAgICA8L3RhYj5cbiAgICAgIDwvdGFic2V0PlxuICAgIDwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICBmdW5jdGlvbiBUYWJzRGVtb0N0cmwoJHNjb3BlKSB7XG4gICAgICAkc2NvcGUuaXRlbXMgPSBbXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDFcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAwXCIgfSxcbiAgICAgICAgeyB0aXRsZTpcIkR5bmFtaWMgVGl0bGUgMlwiLCBjb250ZW50OlwiRHluYW1pYyBJdGVtIDFcIiwgZGlzYWJsZWQ6IHRydWUgfVxuICAgICAgXTtcblxuICAgICAgJHNjb3BlLmFsZXJ0TWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBhbGVydChcIllvdSd2ZSBzZWxlY3RlZCB0aGUgYWxlcnQgdGFiIVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW4gSFRNTCBoZWFkaW5nIGZvciBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiIHRhYn0uIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSB0YWIgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPHRhYnNldD5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48Yj5IVE1MPC9iPiBpbiBteSB0aXRsZXM/ITwvdGFiLWhlYWRpbmc+XG4gICAgICAgIEFuZCBzb21lIGNvbnRlbnQsIHRvbyFcbiAgICAgIDwvdGFiPlxuICAgICAgPHRhYj5cbiAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1oZWFydFwiPjwvaT4gSWNvbiBoZWFkaW5nPyE/PC90YWItaGVhZGluZz5cbiAgICAgICAgVGhhdCdzIHJpZ2h0LlxuICAgICAgPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFiJywgWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnRhYnNldCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFiLmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGFjdGl2ZTogJz0/JyxcbiAgICAgIGhlYWRpbmc6ICdAJyxcbiAgICAgIG9uU2VsZWN0OiAnJnNlbGVjdCcsIC8vVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgaW4gY29udGVudEhlYWRpbmdUcmFuc2NsdWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25jZSBpdCBpbnNlcnRzIHRoZSB0YWIncyBjb250ZW50IGludG8gdGhlIGRvbVxuICAgICAgb25EZXNlbGVjdDogJyZkZXNlbGVjdCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgLy9FbXB0eSBjb250cm9sbGVyIHNvIG90aGVyIGRpcmVjdGl2ZXMgY2FuIHJlcXVpcmUgYmVpbmcgJ3VuZGVyJyBhIHRhYlxuICAgIH0sXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxtLCBhdHRycywgdHJhbnNjbHVkZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJzZXRDdHJsKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCBhdHRycy5kaXNhYmxlZCApIHtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSAhISB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICggIXNjb3BlLmRpc2FibGVkICkge1xuICAgICAgICAgICAgc2NvcGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGFic2V0Q3RybC5hZGRUYWIoc2NvcGUpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL1dlIG5lZWQgdG8gdHJhbnNjbHVkZSBsYXRlciwgb25jZSB0aGUgY29udGVudCBjb250YWluZXIgaXMgcmVhZHkuXG4gICAgICAgIC8vd2hlbiB0aGlzIGxpbmsgaGFwcGVucywgd2UncmUgaW5zaWRlIGEgdGFiIGhlYWRpbmcuXG4gICAgICAgIHNjb3BlLiR0cmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGFiSGVhZGluZ1RyYW5zY2x1ZGUnLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnRhYicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYkN0cmwpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnaGVhZGluZ0VsZW1lbnQnLCBmdW5jdGlvbiB1cGRhdGVIZWFkaW5nRWxlbWVudChoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxtLmh0bWwoJycpO1xuICAgICAgICAgIGVsbS5hcHBlbmQoaGVhZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0YWJDb250ZW50VHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ150YWJzZXQnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzKSB7XG4gICAgICB2YXIgdGFiID0gc2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpO1xuXG4gICAgICAvL05vdyBvdXIgdGFiIGlzIHJlYWR5IHRvIGJlIHRyYW5zY2x1ZGVkOiBib3RoIHRoZSB0YWIgaGVhZGluZyBhcmVhXG4gICAgICAvL2FuZCB0aGUgdGFiIGNvbnRlbnQgYXJlYSBhcmUgbG9hZGVkLiAgVHJhbnNjbHVkZSAnZW0gYm90aC5cbiAgICAgIHRhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LCBmdW5jdGlvbihjb250ZW50cykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goY29udGVudHMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICBpZiAoaXNUYWJIZWFkaW5nKG5vZGUpKSB7XG4gICAgICAgICAgICAvL0xldCB0YWJIZWFkaW5nVHJhbnNjbHVkZSBrbm93LlxuICAgICAgICAgICAgdGFiLmhlYWRpbmdFbGVtZW50ID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxtLmFwcGVuZChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgIChcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd0YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRhLXRhYi1oZWFkaW5nJ1xuICAgICk7XG4gIH1cbn0pXG5cbjtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50aW1lcGlja2VyJywgW10pXG5cbi5jb25zdGFudCgndGltZXBpY2tlckNvbmZpZycsIHtcbiAgaG91clN0ZXA6IDEsXG4gIG1pbnV0ZVN0ZXA6IDEsXG4gIHNob3dNZXJpZGlhbjogdHJ1ZSxcbiAgbWVyaWRpYW5zOiBudWxsLFxuICByZWFkb25seUlucHV0OiBmYWxzZSxcbiAgbW91c2V3aGVlbDogdHJ1ZVxufSlcblxuLmNvbnRyb2xsZXIoJ1RpbWVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckbG9nJywgJyRsb2NhbGUnLCAndGltZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRsb2csICRsb2NhbGUsIHRpbWVwaWNrZXJDb25maWcpIHtcbiAgdmFyIHNlbGVjdGVkID0gbmV3IERhdGUoKSxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybFxuICAgICAgbWVyaWRpYW5zID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1lcmlkaWFucykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWVyaWRpYW5zKSA6IHRpbWVwaWNrZXJDb25maWcubWVyaWRpYW5zIHx8ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUztcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbiggbmdNb2RlbEN0cmxfLCBpbnB1dHMgKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgdmFyIGhvdXJzSW5wdXRFbCA9IGlucHV0cy5lcSgwKSxcbiAgICAgICAgbWludXRlc0lucHV0RWwgPSBpbnB1dHMuZXEoMSk7XG5cbiAgICB2YXIgbW91c2V3aGVlbCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tb3VzZXdoZWVsKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tb3VzZXdoZWVsKSA6IHRpbWVwaWNrZXJDb25maWcubW91c2V3aGVlbDtcbiAgICBpZiAoIG1vdXNld2hlZWwgKSB7XG4gICAgICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyggaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCApO1xuICAgIH1cblxuICAgICRzY29wZS5yZWFkb25seUlucHV0ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJlYWRvbmx5SW5wdXQpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJlYWRvbmx5SW5wdXQpIDogdGltZXBpY2tlckNvbmZpZy5yZWFkb25seUlucHV0O1xuICAgIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyggaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCApO1xuICB9O1xuXG4gIHZhciBob3VyU3RlcCA9IHRpbWVwaWNrZXJDb25maWcuaG91clN0ZXA7XG4gIGlmICgkYXR0cnMuaG91clN0ZXApIHtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5ob3VyU3RlcCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBob3VyU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWludXRlU3RlcCA9IHRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDtcbiAgaWYgKCRhdHRycy5taW51dGVTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWludXRlU3RlcCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBtaW51dGVTdGVwID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIDEySCAvIDI0SCBtb2RlXG4gICRzY29wZS5zaG93TWVyaWRpYW4gPSB0aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbjtcbiAgaWYgKCRhdHRycy5zaG93TWVyaWRpYW4pIHtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5zaG93TWVyaWRpYW4pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgJHNjb3BlLnNob3dNZXJpZGlhbiA9ICEhdmFsdWU7XG5cbiAgICAgIGlmICggbmdNb2RlbEN0cmwuJGVycm9yLnRpbWUgKSB7XG4gICAgICAgIC8vIEV2YWx1YXRlIGZyb20gdGVtcGxhdGVcbiAgICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSwgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCBob3VycyApICYmIGFuZ3VsYXIuaXNEZWZpbmVkKCBtaW51dGVzICkpIHtcbiAgICAgICAgICBzZWxlY3RlZC5zZXRIb3VycyggaG91cnMgKTtcbiAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBHZXQgJHNjb3BlLmhvdXJzIGluIDI0SCBtb2RlIGlmIHZhbGlkXG4gIGZ1bmN0aW9uIGdldEhvdXJzRnJvbVRlbXBsYXRlICggKSB7XG4gICAgdmFyIGhvdXJzID0gcGFyc2VJbnQoICRzY29wZS5ob3VycywgMTAgKTtcbiAgICB2YXIgdmFsaWQgPSAoICRzY29wZS5zaG93TWVyaWRpYW4gKSA/IChob3VycyA+IDAgJiYgaG91cnMgPCAxMykgOiAoaG91cnMgPj0gMCAmJiBob3VycyA8IDI0KTtcbiAgICBpZiAoICF2YWxpZCApIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCAkc2NvcGUuc2hvd01lcmlkaWFuICkge1xuICAgICAgaWYgKCBob3VycyA9PT0gMTIgKSB7XG4gICAgICAgIGhvdXJzID0gMDtcbiAgICAgIH1cbiAgICAgIGlmICggJHNjb3BlLm1lcmlkaWFuID09PSBtZXJpZGlhbnNbMV0gKSB7XG4gICAgICAgIGhvdXJzID0gaG91cnMgKyAxMjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhvdXJzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpIHtcbiAgICB2YXIgbWludXRlcyA9IHBhcnNlSW50KCRzY29wZS5taW51dGVzLCAxMCk7XG4gICAgcmV0dXJuICggbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MCApID8gbWludXRlcyA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhZCggdmFsdWUgKSB7XG4gICAgcmV0dXJuICggYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMiApID8gJzAnICsgdmFsdWUgOiB2YWx1ZTtcbiAgfVxuXG4gIC8vIFJlc3BvbmQgb24gbW91c2V3aGVlbCBzcGluXG4gIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzID0gZnVuY3Rpb24oIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKSB7XG4gICAgdmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgICB9XG4gICAgICAvL3BpY2sgY29ycmVjdCBkZWx0YSB2YXJpYWJsZSBkZXBlbmRpbmcgb24gZXZlbnRcbiAgICAgIHZhciBkZWx0YSA9IChlLndoZWVsRGVsdGEpID8gZS53aGVlbERlbHRhIDogLWUuZGVsdGFZO1xuICAgICAgcmV0dXJuIChlLmRldGFpbCB8fCBkZWx0YSA+IDApO1xuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoIChpc1Njcm9sbGluZ1VwKGUpKSA/ICRzY29wZS5pbmNyZW1lbnRIb3VycygpIDogJHNjb3BlLmRlY3JlbWVudEhvdXJzKCkgKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KCAoaXNTY3JvbGxpbmdVcChlKSkgPyAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpIDogJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSApO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKSB7XG4gICAgaWYgKCAkc2NvcGUucmVhZG9ubHlJbnB1dCApIHtcbiAgICAgICRzY29wZS51cGRhdGVIb3VycyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkYXRlID0gZnVuY3Rpb24oaW52YWxpZEhvdXJzLCBpbnZhbGlkTWludXRlcykge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSggbnVsbCApO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGludmFsaWRIb3VycztcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gaW52YWxpZE1pbnV0ZXM7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChob3VycykgKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKCBob3VycyApO1xuICAgICAgICByZWZyZXNoKCAnaCcgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCAhJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaG91cnMgPSBwYWQoICRzY29wZS5ob3VycyApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSApIHtcbiAgICAgICAgc2VsZWN0ZWQuc2V0TWludXRlcyggbWludXRlcyApO1xuICAgICAgICByZWZyZXNoKCAnbScgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISRzY29wZS5pbnZhbGlkTWludXRlcyAmJiAkc2NvcGUubWludXRlcyA8IDEwICkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCggJHNjb3BlLm1pbnV0ZXMgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgPyBuZXcgRGF0ZSggbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgKSA6IG51bGw7XG5cbiAgICBpZiAoIGlzTmFOKGRhdGUpICkge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgJGxvZy5lcnJvcignVGltZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICggZGF0ZSApIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBkYXRlO1xuICAgICAgfVxuICAgICAgbWFrZVZhbGlkKCk7XG4gICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWxsIGludGVybmFsbHkgd2hlbiB3ZSBrbm93IHRoYXQgbW9kZWwgaXMgdmFsaWQuXG4gIGZ1bmN0aW9uIHJlZnJlc2goIGtleWJvYXJkQ2hhbmdlICkge1xuICAgIG1ha2VWYWxpZCgpO1xuICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoIG5ldyBEYXRlKHNlbGVjdGVkKSApO1xuICAgIHVwZGF0ZVRlbXBsYXRlKCBrZXlib2FyZENoYW5nZSApO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVZhbGlkKCkge1xuICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIHRydWUpO1xuICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBmYWxzZTtcbiAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKCBrZXlib2FyZENoYW5nZSApIHtcbiAgICB2YXIgaG91cnMgPSBzZWxlY3RlZC5nZXRIb3VycygpLCBtaW51dGVzID0gc2VsZWN0ZWQuZ2V0TWludXRlcygpO1xuXG4gICAgaWYgKCAkc2NvcGUuc2hvd01lcmlkaWFuICkge1xuICAgICAgaG91cnMgPSAoIGhvdXJzID09PSAwIHx8IGhvdXJzID09PSAxMiApID8gMTIgOiBob3VycyAlIDEyOyAvLyBDb252ZXJ0IDI0IHRvIDEyIGhvdXIgc3lzdGVtXG4gICAgfVxuXG4gICAgJHNjb3BlLmhvdXJzID0ga2V5Ym9hcmRDaGFuZ2UgPT09ICdoJyA/IGhvdXJzIDogcGFkKGhvdXJzKTtcbiAgICAkc2NvcGUubWludXRlcyA9IGtleWJvYXJkQ2hhbmdlID09PSAnbScgPyBtaW51dGVzIDogcGFkKG1pbnV0ZXMpO1xuICAgICRzY29wZS5tZXJpZGlhbiA9IHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IG1lcmlkaWFuc1swXSA6IG1lcmlkaWFuc1sxXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXMoIG1pbnV0ZXMgKSB7XG4gICAgdmFyIGR0ID0gbmV3IERhdGUoIHNlbGVjdGVkLmdldFRpbWUoKSArIG1pbnV0ZXMgKiA2MDAwMCApO1xuICAgIHNlbGVjdGVkLnNldEhvdXJzKCBkdC5nZXRIb3VycygpLCBkdC5nZXRNaW51dGVzKCkgKTtcbiAgICByZWZyZXNoKCk7XG4gIH1cblxuICAkc2NvcGUuaW5jcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCBob3VyU3RlcCAqIDYwICk7XG4gIH07XG4gICRzY29wZS5kZWNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIGFkZE1pbnV0ZXMoIC0gaG91clN0ZXAgKiA2MCApO1xuICB9O1xuICAkc2NvcGUuaW5jcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGFkZE1pbnV0ZXMoIG1pbnV0ZVN0ZXAgKTtcbiAgfTtcbiAgJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCAtIG1pbnV0ZVN0ZXAgKTtcbiAgfTtcbiAgJHNjb3BlLnRvZ2dsZU1lcmlkaWFuID0gZnVuY3Rpb24oKSB7XG4gICAgYWRkTWludXRlcyggMTIgKiA2MCAqICgoIHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiApID8gMSA6IC0xKSApO1xuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3RpbWVwaWNrZXInLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogWyd0aW1lcGlja2VyJywgJz9ebmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6J1RpbWVwaWNrZXJDb250cm9sbGVyJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7fSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgdGltZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCBuZ01vZGVsQ3RybCApIHtcbiAgICAgICAgdGltZXBpY2tlckN0cmwuaW5pdCggbmdNb2RlbEN0cmwsIGVsZW1lbnQuZmluZCgnaW5wdXQnKSApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnR5cGVhaGVhZCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCddKVxuXG4vKipcbiAqIEEgaGVscGVyIHNlcnZpY2UgdGhhdCBjYW4gcGFyc2UgdHlwZWFoZWFkJ3Mgc3ludGF4IChzdHJpbmcgcHJvdmlkZWQgYnkgdXNlcnMpXG4gKiBFeHRyYWN0ZWQgdG8gYSBzZXBhcmF0ZSBzZXJ2aWNlIGZvciBlYXNlIG9mIHVuaXQgdGVzdGluZ1xuICovXG4gIC5mYWN0b3J5KCd0eXBlYWhlYWRQYXJzZXInLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcblxuICAvLyAgICAgICAgICAgICAgICAgICAgICAwMDAwMDExMTAwMDAwMDAwMDAwMDAyMjIwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzMzMzMzMDAwMDAwMDAwMDA0NDAwMFxuICB2YXIgVFlQRUFIRUFEX1JFR0VYUCA9IC9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFtcXCRcXHddW1xcJFxcd1xcZF0qKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pJC87XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJzZTpmdW5jdGlvbiAoaW5wdXQpIHtcblxuICAgICAgdmFyIG1hdGNoID0gaW5wdXQubWF0Y2goVFlQRUFIRUFEX1JFR0VYUCk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRXhwZWN0ZWQgdHlwZWFoZWFkIHNwZWNpZmljYXRpb24gaW4gZm9ybSBvZiBcIl9tb2RlbFZhbHVlXyAoYXMgX2xhYmVsXyk/IGZvciBfaXRlbV8gaW4gX2NvbGxlY3Rpb25fXCInICtcbiAgICAgICAgICAgICcgYnV0IGdvdCBcIicgKyBpbnB1dCArICdcIi4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbU5hbWU6bWF0Y2hbM10sXG4gICAgICAgIHNvdXJjZTokcGFyc2UobWF0Y2hbNF0pLFxuICAgICAgICB2aWV3TWFwcGVyOiRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSksXG4gICAgICAgIG1vZGVsTWFwcGVyOiRwYXJzZShtYXRjaFsxXSlcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJHEnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRwb3NpdGlvbicsICd0eXBlYWhlYWRQYXJzZXInLFxuICAgIGZ1bmN0aW9uICgkY29tcGlsZSwgJHBhcnNlLCAkcSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHBvc2l0aW9uLCB0eXBlYWhlYWRQYXJzZXIpIHtcblxuICB2YXIgSE9UX0tFWVMgPSBbOSwgMTMsIDI3LCAzOCwgNDBdO1xuXG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTonbmdNb2RlbCcsXG4gICAgbGluazpmdW5jdGlvbiAob3JpZ2luYWxTY29wZSwgZWxlbWVudCwgYXR0cnMsIG1vZGVsQ3RybCkge1xuXG4gICAgICAvL1NVUFBPUlRFRCBBVFRSSUJVVEVTIChPUFRJT05TKVxuXG4gICAgICAvL21pbmltYWwgbm8gb2YgY2hhcmFjdGVycyB0aGF0IG5lZWRzIHRvIGJlIGVudGVyZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxuICAgICAgdmFyIG1pblNlYXJjaCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKSB8fCAxO1xuXG4gICAgICAvL21pbmltYWwgd2FpdCB0aW1lIGFmdGVyIGxhc3QgY2hhcmFjdGVyIHR5cGVkIGJlZm9yZSB0eXBlaGVhZCBraWNrcy1pblxuICAgICAgdmFyIHdhaXRUaW1lID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRXYWl0TXMpIHx8IDA7XG5cbiAgICAgIC8vc2hvdWxkIGl0IHJlc3RyaWN0IG1vZGVsIHZhbHVlcyB0byB0aGUgb25lcyBzZWxlY3RlZCBmcm9tIHRoZSBwb3B1cCBvbmx5P1xuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSAhPT0gZmFsc2U7XG5cbiAgICAgIC8vYmluZGluZyB0byBhIHZhcmlhYmxlIHRoYXQgaW5kaWNhdGVzIGlmIG1hdGNoZXMgYXJlIGJlaW5nIHJldHJpZXZlZCBhc3luY2hyb25vdXNseVxuICAgICAgdmFyIGlzTG9hZGluZ1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAvL2EgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBhIG1hdGNoIGlzIHNlbGVjdGVkXG4gICAgICB2YXIgb25TZWxlY3RDYWxsYmFjayA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCk7XG5cbiAgICAgIHZhciBpbnB1dEZvcm1hdHRlciA9IGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyID8gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKSA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGFwcGVuZFRvQm9keSA9ICBhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSkgOiBmYWxzZTtcblxuICAgICAgLy9JTlRFUk5BTCBWQVJJQUJMRVNcblxuICAgICAgLy9tb2RlbCBzZXR0ZXIgZXhlY3V0ZWQgdXBvbiBtYXRjaCBzZWxlY3Rpb25cbiAgICAgIHZhciAkc2V0TW9kZWxWYWx1ZSA9ICRwYXJzZShhdHRycy5uZ01vZGVsKS5hc3NpZ247XG5cbiAgICAgIC8vZXhwcmVzc2lvbnMgdXNlZCBieSB0eXBlYWhlYWRcbiAgICAgIHZhciBwYXJzZXJSZXN1bHQgPSB0eXBlYWhlYWRQYXJzZXIucGFyc2UoYXR0cnMudHlwZWFoZWFkKTtcblxuICAgICAgdmFyIGhhc0ZvY3VzO1xuXG4gICAgICAvL2NyZWF0ZSBhIGNoaWxkIHNjb3BlIGZvciB0aGUgdHlwZWFoZWFkIGRpcmVjdGl2ZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBzY29wZVxuICAgICAgLy93aXRoIHR5cGVhaGVhZC1zcGVjaWZpYyBkYXRhIChtYXRjaGVzLCBxdWVyeSBldGMuKVxuICAgICAgdmFyIHNjb3BlID0gb3JpZ2luYWxTY29wZS4kbmV3KCk7XG4gICAgICBvcmlnaW5hbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpe1xuICAgICAgICBzY29wZS4kZGVzdHJveSgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdBSS1BUklBXG4gICAgICB2YXIgcG9wdXBJZCA9ICd0eXBlYWhlYWQtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICdhcmlhLWF1dG9jb21wbGV0ZSc6ICdsaXN0JyxcbiAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcbiAgICAgICAgJ2FyaWEtb3ducyc6IHBvcHVwSWRcbiAgICAgIH0pO1xuXG4gICAgICAvL3BvcC11cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBtYXRjaGVzXG4gICAgICB2YXIgcG9wVXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiB0eXBlYWhlYWQtcG9wdXA+PC9kaXY+Jyk7XG4gICAgICBwb3BVcEVsLmF0dHIoe1xuICAgICAgICBpZDogcG9wdXBJZCxcbiAgICAgICAgbWF0Y2hlczogJ21hdGNoZXMnLFxuICAgICAgICBhY3RpdmU6ICdhY3RpdmVJZHgnLFxuICAgICAgICBzZWxlY3Q6ICdzZWxlY3QoYWN0aXZlSWR4KScsXG4gICAgICAgIHF1ZXJ5OiAncXVlcnknLFxuICAgICAgICBwb3NpdGlvbjogJ3Bvc2l0aW9uJ1xuICAgICAgfSk7XG4gICAgICAvL2N1c3RvbSBpdGVtIHRlbXBsYXRlXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpKSB7XG4gICAgICAgIHBvcFVwRWwuYXR0cigndGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gLTE7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBnZXRNYXRjaElkID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHBvcHVwSWQgKyAnLW9wdGlvbi0nICsgaW5kZXg7XG4gICAgICB9O1xuXG4gICAgICAvLyBJbmRpY2F0ZSB0aGF0IHRoZSBzcGVjaWZpZWQgbWF0Y2ggaXMgdGhlIGFjdGl2ZSAocHJlLXNlbGVjdGVkKSBpdGVtIGluIHRoZSBsaXN0IG93bmVkIGJ5IHRoaXMgdHlwZWFoZWFkLlxuICAgICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuXG4gICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZUlkeCcsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgZ2V0TWF0Y2hJZChpbmRleCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGdldE1hdGNoZXNBc3luYyA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcblxuICAgICAgICB2YXIgbG9jYWxzID0geyR2aWV3VmFsdWU6IGlucHV0VmFsdWV9O1xuICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLCBsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpIHtcblxuICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgc2V2ZXJhbCBhc3luYyBxdWVyaWVzIHdlcmUgaW4gcHJvZ3Jlc3MgaWYgYSB1c2VyIHdlcmUgdHlwaW5nIGZhc3RcbiAgICAgICAgICAvL2J1dCB3ZSBhcmUgaW50ZXJlc3RlZCBvbmx5IGluIHJlc3BvbnNlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGN1cnJlbnQgdmlldyB2YWx1ZVxuICAgICAgICAgIHZhciBvbkN1cnJlbnRSZXF1ZXN0ID0gKGlucHV0VmFsdWUgPT09IG1vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCAmJiBoYXNGb2N1cykge1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IDA7XG4gICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgICAvL3RyYW5zZm9ybSBsYWJlbHNcbiAgICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8bWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbWF0Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICBzY29wZS5tYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgaWQ6IGdldE1hdGNoSWQoaSksXG4gICAgICAgICAgICAgICAgICBsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIoc2NvcGUsIGxvY2FscyksXG4gICAgICAgICAgICAgICAgICBtb2RlbDogbWF0Y2hlc1tpXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2NvcGUucXVlcnkgPSBpbnB1dFZhbHVlO1xuICAgICAgICAgICAgICAvL3Bvc2l0aW9uIHBvcC11cCB3aXRoIG1hdGNoZXMgLSB3ZSBuZWVkIHRvIHJlLWNhbGN1bGF0ZSBpdHMgcG9zaXRpb24gZWFjaCB0aW1lIHdlIGFyZSBvcGVuaW5nIGEgd2luZG93XG4gICAgICAgICAgICAgIC8vd2l0aCBtYXRjaGVzIGFzIGEgcG9wLXVwIG1pZ2h0IGJlIGFic29sdXRlLXBvc2l0aW9uZWQgYW5kIHBvc2l0aW9uIG9mIGFuIGlucHV0IG1pZ2h0IGhhdmUgY2hhbmdlZCBvbiBhIHBhZ2VcbiAgICAgICAgICAgICAgLy9kdWUgdG8gb3RoZXIgZWxlbWVudHMgYmVpbmcgcmVuZGVyZWRcbiAgICAgICAgICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgICAgICBzY29wZS5wb3NpdGlvbi50b3AgPSBzY29wZS5wb3NpdGlvbi50b3AgKyBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJlc2V0TWF0Y2hlcygpO1xuXG4gICAgICAvL3dlIG5lZWQgdG8gcHJvcGFnYXRlIHVzZXIncyBxdWVyeSBzbyB3ZSBjYW4gaGlnbGlnaHQgbWF0Y2hlc1xuICAgICAgc2NvcGUucXVlcnkgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlciBcbiAgICAgIHZhciB0aW1lb3V0UHJvbWlzZTtcblxuICAgICAgdmFyIHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG4gICAgICAgIHRpbWVvdXRQcm9taXNlID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGdldE1hdGNoZXNBc3luYyhpbnB1dFZhbHVlKTtcbiAgICAgICAgfSwgd2FpdFRpbWUpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNhbmNlbFByZXZpb3VzVGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGltZW91dFByb21pc2UpIHtcbiAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dFByb21pc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvL3BsdWcgaW50byAkcGFyc2VycyBwaXBlbGluZSB0byBvcGVuIGEgdHlwZWFoZWFkIG9uIHZpZXcgY2hhbmdlcyBpbml0aWF0ZWQgZnJvbSBET01cbiAgICAgIC8vJHBhcnNlcnMga2ljay1pbiBvbiBhbGwgdGhlIGNoYW5nZXMgY29taW5nIGZyb20gdGhlIHZpZXcgYXMgd2VsbCBhcyBtYW51YWxseSB0cmlnZ2VyZWQgYnkgJHNldFZpZXdWYWx1ZVxuICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcblxuICAgICAgICBoYXNGb2N1cyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPj0gbWluU2VhcmNoKSB7XG4gICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkge1xuICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgLy8gUmVzZXQgaW4gY2FzZSB1c2VyIGhhZCB0eXBlZCBzb21ldGhpbmcgcHJldmlvdXNseS5cbiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIG1vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uIChtb2RlbFZhbHVlKSB7XG5cbiAgICAgICAgdmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSwgZW1wdHlWaWV3VmFsdWU7XG4gICAgICAgIHZhciBsb2NhbHMgPSB7fTtcblxuICAgICAgICBpZiAoaW5wdXRGb3JtYXR0ZXIpIHtcblxuICAgICAgICAgIGxvY2Fsc1snJG1vZGVsJ10gPSBtb2RlbFZhbHVlO1xuICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlXG4gICAgICAgICAgLy93ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGlzIHNpdHVhdGlvbiBhbmQgc2ltcGx5IHJldHVybiBtb2RlbCB2YWx1ZSBpZiB3ZSBjYW4ndCBhcHBseSBjdXN0b20gZm9ybWF0dGluZ1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGVtcHR5Vmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcblxuICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVWaWV3VmFsdWUhPT0gZW1wdHlWaWV3VmFsdWUgPyBjYW5kaWRhdGVWaWV3VmFsdWUgOiBtb2RlbFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24gKGFjdGl2ZUlkeCkge1xuICAgICAgICAvL2NhbGxlZCBmcm9tIHdpdGhpbiB0aGUgJGRpZ2VzdCgpIGN5Y2xlXG4gICAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgICAgdmFyIG1vZGVsLCBpdGVtO1xuXG4gICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gaXRlbSA9IHNjb3BlLm1hdGNoZXNbYWN0aXZlSWR4XS5tb2RlbDtcbiAgICAgICAgbW9kZWwgPSBwYXJzZXJSZXN1bHQubW9kZWxNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgJHNldE1vZGVsVmFsdWUob3JpZ2luYWxTY29wZSwgbW9kZWwpO1xuICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuXG4gICAgICAgIG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSwge1xuICAgICAgICAgICRpdGVtOiBpdGVtLFxuICAgICAgICAgICRtb2RlbDogbW9kZWwsXG4gICAgICAgICAgJGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuXG4gICAgICAgIC8vcmV0dXJuIGZvY3VzIHRvIHRoZSBpbnB1dCBlbGVtZW50IGlmIGEgbWF0Y2ggd2FzIHNlbGVjdGVkIHZpYSBhIG1vdXNlIGNsaWNrIGV2ZW50XG4gICAgICAgIC8vIHVzZSB0aW1lb3V0IHRvIGF2b2lkICRyb290U2NvcGU6aW5wcm9nIGVycm9yXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBlbGVtZW50WzBdLmZvY3VzKCk7IH0sIDAsIGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIC8vYmluZCBrZXlib2FyZCBldmVudHM6IGFycm93cyB1cCgzOCkgLyBkb3duKDQwKSwgZW50ZXIoMTMpIGFuZCB0YWIoOSksIGVzYygyNylcbiAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldnQpIHtcblxuICAgICAgICAvL3R5cGVhaGVhZCBpcyBvcGVuIGFuZCBhbiBcImludGVyZXN0aW5nXCIga2V5IHdhcyBwcmVzc2VkXG4gICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMCB8fCBIT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkgPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gNDApIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ICsgMSkgJSBzY29wZS5tYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDM4KSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCA/IHNjb3BlLmFjdGl2ZUlkeCA6IHNjb3BlLm1hdGNoZXMubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAxMyB8fCBldnQud2hpY2ggPT09IDkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZWxlbWVudC5iaW5kKCdibHVyJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBoYXNGb2N1cyA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEtlZXAgcmVmZXJlbmNlIHRvIGNsaWNrIGhhbmRsZXIgdG8gdW5iaW5kIGl0LlxuICAgICAgdmFyIGRpc21pc3NDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGlmIChlbGVtZW50WzBdICE9PSBldnQudGFyZ2V0KSB7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcblxuICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wVXBFbCkoc2NvcGUpO1xuICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7XG4gICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG59XSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6J0VBJyxcbiAgICAgIHNjb3BlOntcbiAgICAgICAgbWF0Y2hlczonPScsXG4gICAgICAgIHF1ZXJ5Oic9JyxcbiAgICAgICAgYWN0aXZlOic9JyxcbiAgICAgICAgcG9zaXRpb246Jz0nLFxuICAgICAgICBzZWxlY3Q6JyYnXG4gICAgICB9LFxuICAgICAgcmVwbGFjZTp0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6J3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbCcsXG4gICAgICBsaW5rOmZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgICBzY29wZS50ZW1wbGF0ZVVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuXG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2NvcGUubWF0Y2hlcy5sZW5ndGggPiAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24gKG1hdGNoSWR4KSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLmFjdGl2ZSA9PSBtYXRjaElkeDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5zZWxlY3RBY3RpdmUgPSBmdW5jdGlvbiAobWF0Y2hJZHgpIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmUgPSBtYXRjaElkeDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5zZWxlY3RNYXRjaCA9IGZ1bmN0aW9uIChhY3RpdmVJZHgpIHtcbiAgICAgICAgICBzY29wZS5zZWxlY3Qoe2FjdGl2ZUlkeDphY3RpdmVJZHh9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZE1hdGNoJywgWyckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckY29tcGlsZScsICckcGFyc2UnLCBmdW5jdGlvbiAoJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkY29tcGlsZSwgJHBhcnNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OidFQScsXG4gICAgICBzY29wZTp7XG4gICAgICAgIGluZGV4Oic9JyxcbiAgICAgICAgbWF0Y2g6Jz0nLFxuICAgICAgICBxdWVyeTonPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOmZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIHRwbFVybCA9ICRwYXJzZShhdHRycy50ZW1wbGF0ZVVybCkoc2NvcGUuJHBhcmVudCkgfHwgJ3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCc7XG4gICAgICAgICRodHRwLmdldCh0cGxVcmwsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS5zdWNjZXNzKGZ1bmN0aW9uKHRwbENvbnRlbnQpe1xuICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKCRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKShzY29wZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSlcblxuICAuZmlsdGVyKCd0eXBlYWhlYWRIaWdobGlnaHQnLCBmdW5jdGlvbigpIHtcblxuICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ2V4cChxdWVyeVRvRXNjYXBlKSB7XG4gICAgICByZXR1cm4gcXVlcnlUb0VzY2FwZS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgJ1xcXFwkMScpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihtYXRjaEl0ZW0sIHF1ZXJ5KSB7XG4gICAgICByZXR1cm4gcXVlcnkgPyAoJycgKyBtYXRjaEl0ZW0pLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVSZWdleHAocXVlcnkpLCAnZ2knKSwgJzxzdHJvbmc+JCY8L3N0cm9uZz4nKSA6IG1hdGNoSXRlbTtcbiAgICB9O1xuICB9KTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHRcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxoNCBjbGFzcz1cXFwicGFuZWwtdGl0bGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxhIGNsYXNzPVxcXCJhY2NvcmRpb24tdG9nZ2xlXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlT3BlbigpXFxcIiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cXFwiaGVhZGluZ1xcXCI+PHNwYW4gbmctY2xhc3M9XFxcInsndGV4dC1tdXRlZCc6IGlzRGlzYWJsZWR9XFxcIj57e2hlYWRpbmd9fTwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiICAgIDwvaDQ+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWNvbGxhcHNlXFxcIiBjb2xsYXBzZT1cXFwiIWlzT3BlblxcXCI+XFxuXCIgK1xuICAgIFwiXHQgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ncm91cFxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImFsZXJ0XFxcIiBuZy1jbGFzcz1cXFwiWydhbGVydC0nICsgKHR5cGUgfHwgJ3dhcm5pbmcnKSwgY2xvc2VhYmxlID8gJ2FsZXJ0LWRpc21pc3NhYmxlJyA6IG51bGxdXFxcIiByb2xlPVxcXCJhbGVydFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxidXR0b24gbmctc2hvdz1cXFwiY2xvc2VhYmxlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+Q2xvc2U8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLW1vdXNlZW50ZXI9XFxcInBhdXNlKClcXFwiIG5nLW1vdXNlbGVhdmU9XFxcInBsYXkoKVxcXCIgY2xhc3M9XFxcImNhcm91c2VsXFxcIiBuZy1zd2lwZS1yaWdodD1cXFwicHJldigpXFxcIiBuZy1zd2lwZS1sZWZ0PVxcXCJuZXh0KClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8b2wgY2xhc3M9XFxcImNhcm91c2VsLWluZGljYXRvcnNcXFwiIG5nLXNob3c9XFxcInNsaWRlcy5sZW5ndGggPiAxXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcInNsaWRlIGluIHNsaWRlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBpc0FjdGl2ZShzbGlkZSl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KHNsaWRlKVxcXCI+PC9saT5cXG5cIiArXG4gICAgXCIgICAgPC9vbD5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5uZXJcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxhIGNsYXNzPVxcXCJsZWZ0IGNhcm91c2VsLWNvbnRyb2xcXFwiIG5nLWNsaWNrPVxcXCJwcmV2KClcXFwiIG5nLXNob3c9XFxcInNsaWRlcy5sZW5ndGggPiAxXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiICAgIDxhIGNsYXNzPVxcXCJyaWdodCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwibmV4dCgpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIixcbiAgICBcIjxkaXYgbmctY2xhc3M9XFxcIntcXG5cIiArXG4gICAgXCIgICAgJ2FjdGl2ZSc6IGxlYXZpbmcgfHwgKGFjdGl2ZSAmJiAhZW50ZXJpbmcpLFxcblwiICtcbiAgICBcIiAgICAncHJldic6IChuZXh0IHx8IGFjdGl2ZSkgJiYgZGlyZWN0aW9uPT0ncHJldicsXFxuXCIgK1xuICAgIFwiICAgICduZXh0JzogKG5leHQgfHwgYWN0aXZlKSAmJiBkaXJlY3Rpb249PSduZXh0JyxcXG5cIiArXG4gICAgXCIgICAgJ3JpZ2h0JzogZGlyZWN0aW9uPT0ncHJldicsXFxuXCIgK1xuICAgIFwiICAgICdsZWZ0JzogZGlyZWN0aW9uPT0nbmV4dCdcXG5cIiArXG4gICAgXCIgIH1cXFwiIGNsYXNzPVxcXCJpdGVtIHRleHQtY2VudGVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwiZGF5XFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9kYXlwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9tb250aHBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC95ZWFycGlja2VyPlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3t1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBjb2xzcGFuPVxcXCJ7ezUgKyBzaG93V2Vla3N9fVxcXCI+PGJ1dHRvbiBpZD1cXFwie3t1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBuZy1zaG93PVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiBsYWJlbHMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjxzbWFsbCBhcmlhLWxhYmVsPVxcXCJ7e2xhYmVsLmZ1bGx9fVxcXCI+e3tsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBoNlxcXCI+PGVtPnt7IHdlZWtOdW1iZXJzWyRpbmRleF0gfX08L2VtPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7e2R0LnVpZH19XFxcIiBhcmlhLWRpc2FibGVkPVxcXCJ7eyEhZHQuZGlzYWJsZWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcInsndGV4dC1tdXRlZCc6IGR0LnNlY29uZGFyeSwgJ3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7e3VuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gaWQ9XFxcInt7dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3tkdC51aWR9fVxcXCIgYXJpYS1kaXNhYmxlZD1cXFwie3shIWR0LmRpc2FibGVkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcInsndGV4dC1pbmZvJzogZHQuY3VycmVudH1cXFwiPnt7ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctc3R5bGU9XFxcIntkaXNwbGF5OiAoaXNPcGVuICYmICdibG9jaycpIHx8ICdub25lJywgdG9wOiBwb3NpdGlvbi50b3ArJ3B4JywgbGVmdDogcG9zaXRpb24ubGVmdCsncHgnfVxcXCIgbmcta2V5ZG93bj1cXFwia2V5ZG93bigkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCJcdDxsaSBuZy10cmFuc2NsdWRlPjwvbGk+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctaWY9XFxcInNob3dCdXR0b25CYXJcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjEwcHggOXB4IDJweFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdDxzcGFuIGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4taW5mb1xcXCIgbmctY2xpY2s9XFxcInNlbGVjdCgndG9kYXknKVxcXCI+e3sgZ2V0VGV4dCgnY3VycmVudCcpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QobnVsbClcXFwiPnt7IGdldFRleHQoJ2NsZWFyJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdFx0PC9zcGFuPlxcblwiICtcbiAgICBcIlx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPnt7IGdldFRleHQoJ2Nsb3NlJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3t1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBjb2xzcGFuPVxcXCIzXFxcIj48YnV0dG9uIGlkPVxcXCJ7e3VuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7ZHQudWlkfX1cXFwiIGFyaWEtZGlzYWJsZWQ9XFxcInt7ISFkdC5kaXNhYmxlZH19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJhY2tkcm9wIGZhZGUge3sgYmFja2Ryb3BDbGFzcyB9fVxcXCJcXG5cIiArXG4gICAgXCIgICAgIG5nLWNsYXNzPVxcXCJ7aW46IGFuaW1hdGV9XFxcIlxcblwiICtcbiAgICBcIiAgICAgbmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNDAgKyAoaW5kZXggJiYgMSB8fCAwKSArIGluZGV4KjEwfVxcXCJcXG5cIiArXG4gICAgXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIixcbiAgICBcIjxkaXYgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGNsYXNzPVxcXCJtb2RhbCBmYWRlXFxcIiBuZy1jbGFzcz1cXFwie2luOiBhbmltYXRlfVxcXCIgbmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogJ2Jsb2NrJ31cXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZGlhbG9nXFxcIiBuZy1jbGFzcz1cXFwieydtb2RhbC1zbSc6IHNpemUgPT0gJ3NtJywgJ21vZGFsLWxnJzogc2l6ZSA9PSAnbGcnfVxcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCIgbW9kYWwtdHJhbnNjbHVkZT48L2Rpdj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2VyXFxcIj5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCksIHByZXZpb3VzOiBhbGlnbn1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSAtIDEpXFxcIj57e2dldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpLCBuZXh0OiBhbGlnbn1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEpXFxcIj57e2dldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdpbmF0aW9uXFxcIj5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiYm91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSgxKVxcXCI+e3tnZXRUZXh0KCdmaXJzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiZGlyZWN0aW9uTGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKX1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSAtIDEpXFxcIj57e2dldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLXJlcGVhdD1cXFwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBwYWdlLmFjdGl2ZX1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZS5udW1iZXIpXFxcIj57e3BhZ2UudGV4dH19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcImRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKX1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEpXFxcIj57e2dldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcImJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSh0b3RhbFBhZ2VzKVxcXCI+e3tnZXRUZXh0KCdsYXN0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXAge3twbGFjZW1lbnR9fVxcXCIgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgYmluZC1odG1sLXVuc2FmZT1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXAge3twbGFjZW1lbnR9fVxcXCIgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXIge3twbGFjZW1lbnR9fVxcXCIgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpLCBmYWRlOiBhbmltYXRpb24oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMyBjbGFzcz1cXFwicG9wb3Zlci10aXRsZVxcXCIgbmctYmluZD1cXFwidGl0bGVcXFwiIG5nLXNob3c9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiBwZXJjZW50ICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXJcXFwiIG5nLWNsYXNzPVxcXCJ0eXBlICYmICdwcm9ncmVzcy1iYXItJyArIHR5cGVcXFwiIHJvbGU9XFxcInByb2dyZXNzYmFyXFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7bWF4fX1cXFwiIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IHBlcmNlbnQgKyAnJSd9XFxcIiBhcmlhLXZhbHVldGV4dD1cXFwie3twZXJjZW50IHwgbnVtYmVyOjB9fSVcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFxuICAgIFwiPHNwYW4gbmctbW91c2VsZWF2ZT1cXFwicmVzZXQoKVxcXCIgbmcta2V5ZG93bj1cXFwib25LZXlkb3duKCRldmVudClcXFwiIHRhYmluZGV4PVxcXCIwXFxcIiByb2xlPVxcXCJzbGlkZXJcXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7cmFuZ2UubGVuZ3RofX1cXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpIG5nLXJlcGVhdD1cXFwiciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXhcXFwiIG5nLW1vdXNlZW50ZXI9XFxcImVudGVyKCRpbmRleCArIDEpXFxcIiBuZy1jbGljaz1cXFwicmF0ZSgkaW5kZXggKyAxKVxcXCIgY2xhc3M9XFxcImdseXBoaWNvblxcXCIgbmctY2xhc3M9XFxcIiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgJ2dseXBoaWNvbi1zdGFyJykgfHwgKHIuc3RhdGVPZmYgfHwgJ2dseXBoaWNvbi1zdGFyLWVtcHR5JylcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPih7eyAkaW5kZXggPCB2YWx1ZSA/ICcqJyA6ICcgJyB9fSk8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvaT5cXG5cIiArXG4gICAgXCI8L3NwYW4+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXG4gICAgXCI8bGkgbmctY2xhc3M9XFxcInthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8YSBuZy1jbGljaz1cXFwic2VsZWN0KClcXFwiIHRhYi1oZWFkaW5nLXRyYW5zY2x1ZGU+e3toZWFkaW5nfX08L2E+XFxuXCIgK1xuICAgIFwiPC9saT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICA8dWwgY2xhc3M9XFxcIm5hdiBuYXYte3t0eXBlIHx8ICd0YWJzJ319XFxcIiBuZy1jbGFzcz1cXFwieyduYXYtc3RhY2tlZCc6IHZlcnRpY2FsLCAnbmF2LWp1c3RpZmllZCc6IGp1c3RpZmllZH1cXFwiIG5nLXRyYW5zY2x1ZGU+PC91bD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRhYi1jb250ZW50XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwidGFiLXBhbmVcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLXJlcGVhdD1cXFwidGFiIGluIHRhYnNcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiB0YWIuYWN0aXZlfVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICB0YWItY29udGVudC10cmFuc2NsdWRlPVxcXCJ0YWJcXFwiPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsXG4gICAgXCI8dGFibGU+XFxuXCIgK1xuICAgIFwiXHQ8dGJvZHk+XFxuXCIgK1xuICAgIFwiXHRcdDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZD48YSBuZy1jbGljaz1cXFwiaW5jcmVtZW50SG91cnMoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZD4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZD48YSBuZy1jbGljaz1cXFwiaW5jcmVtZW50TWludXRlcygpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdFx0PHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0PC90cj5cXG5cIiArXG4gICAgXCJcdFx0PHRyPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkSG91cnN9XFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwiaG91cnNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlSG91cnMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctbW91c2V3aGVlbD1cXFwiaW5jcmVtZW50SG91cnMoKVxcXCIgbmctcmVhZG9ubHk9XFxcInJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQ+OjwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdFx0PHRkIHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLWNsYXNzPVxcXCJ7J2hhcy1lcnJvcic6IGludmFsaWRNaW51dGVzfVxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcIm1pbnV0ZXNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlTWludXRlcygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwicmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8L3RkPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHRleHQtY2VudGVyXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTWVyaWRpYW4oKVxcXCI+e3ttZXJpZGlhbn19PC9idXR0b24+PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0PC90cj5cXG5cIiArXG4gICAgXCJcdFx0PHRyIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PHRkPjxhIG5nLWNsaWNrPVxcXCJkZWNyZW1lbnRIb3VycygpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd25cXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQ+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudE1pbnV0ZXMoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdFx0PHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0PC90cj5cXG5cIiArXG4gICAgXCJcdDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXG4gICAgXCI8YSB0YWJpbmRleD1cXFwiLTFcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcIm1hdGNoLmxhYmVsIHwgdHlwZWFoZWFkSGlnaGxpZ2h0OnF1ZXJ5XFxcIj48L2E+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBuZy1zaG93PVxcXCJpc09wZW4oKVxcXCIgbmctc3R5bGU9XFxcInt0b3A6IHBvc2l0aW9uLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0KydweCd9XFxcIiBzdHlsZT1cXFwiZGlzcGxheTogYmxvY2s7XFxcIiByb2xlPVxcXCJsaXN0Ym94XFxcIiBhcmlhLWhpZGRlbj1cXFwie3shaXNPcGVuKCl9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxsaSBuZy1yZXBlYXQ9XFxcIm1hdGNoIGluIG1hdGNoZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoJGluZGV4KSB9XFxcIiBuZy1tb3VzZWVudGVyPVxcXCJzZWxlY3RBY3RpdmUoJGluZGV4KVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdE1hdGNoKCRpbmRleClcXFwiIHJvbGU9XFxcIm9wdGlvblxcXCIgaWQ9XFxcInt7bWF0Y2guaWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IHR5cGVhaGVhZC1tYXRjaCBpbmRleD1cXFwiJGluZGV4XFxcIiBtYXRjaD1cXFwibWF0Y2hcXFwiIHF1ZXJ5PVxcXCJxdWVyeVxcXCIgdGVtcGxhdGUtdXJsPVxcXCJ0ZW1wbGF0ZVVybFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmlmKHR5cGVvZiBURU1QTEFURVMgPT09ICd1bmRlZmluZWQnKSB7dmFyIFRFTVBMQVRFUyA9IHt9O31cblRFTVBMQVRFU1snYWxpZ25tZW50Lmh0bWwnXSA9IFwiPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGFsaWdubWVudFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWFsaWdubWVudCBkcm9wZG93bi10b2dnbGVcXFwiXFxuXCIgK1xuICAgIFwiICAgIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwibGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiByb2xlPVxcXCJtZW51XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImxlZnRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tbGVmdFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwiY2VudGVyXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWNlbnRlclxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwicmlnaHRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImp1c3RpZnlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tanVzdGlmeVxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiOyBcbi8qICBDb3B5cmlnaHQgwqkgMjAxNCBSaXNlIFZpc2lvbiBJbmNvcnBvcmF0ZWQuXG4gKiAgVXNlIG9mIHRoaXMgc29mdHdhcmUgaXMgZ292ZXJuZWQgYnkgdGhlIEdQTHYzIGxpY2Vuc2VcbiAqICAocmVwcm9kdWNlZCBpbiB0aGUgTElDRU5TRSBmaWxlKS5cbiAqL1xuXG4vKiBnbG9iYWwgVEVNUExBVEVTICovXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCBURU1QTEFURVMsIHVuZGVmaW5lZCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX3BsdWdpbk5hbWUgPSBcImFsaWdubWVudFwiO1xuXG4gIGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB2YXIgJGJ0bkFsaWdubWVudCA9IG51bGw7XG4gICAgdmFyIGRlZmF1bHRBbGlnbm1lbnQgPSBcImxlZnRcIjtcblxuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgeyBcImFsaWduXCI6IGRlZmF1bHRBbGlnbm1lbnQgfSwgb3B0aW9ucyk7XG5cbiAgICAvKlxuICAgICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgIC8vIEdldCB0aGUgSFRNTCBtYXJrdXAgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAkZWxlbWVudC5hcHBlbmQoVEVNUExBVEVTW1wiYWxpZ25tZW50Lmh0bWxcIl0pO1xuICAgICAgJGJ0bkFsaWdubWVudCA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudFwiKTtcblxuICAgICAgc2V0QWxpZ25tZW50KG9wdGlvbnMuYWxpZ24pO1xuXG4gICAgICAkZWxlbWVudC5maW5kKFwiLmRyb3Bkb3duLW1lbnUgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbGlnbm1lbnQgPSAkKHRoaXMpLmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcblxuICAgICAgICBzZXRBbGlnbm1lbnQoYWxpZ25tZW50KTtcbiAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihcImFsaWdubWVudENoYW5nZWRcIiwgYWxpZ25tZW50KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFB1YmxpYyBNZXRob2RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxpZ25tZW50KCkge1xuICAgICByZXR1cm4gJGJ0bkFsaWdubWVudC5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0QWxpZ25tZW50KGFsaWdubWVudCkge1xuICAgICAgdmFyICRwcmltYXJ5SWNvbiA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudCAuZmFcIik7XG4gICAgICB2YXIgY3VycmVudENsYXNzID0gJHByaW1hcnlJY29uLmF0dHIoXCJjbGFzc1wiKS5tYXRjaCgvZmEtYWxpZ24tW2Etel0rL2cpO1xuICAgICAgdmFyIG5ld0NsYXNzID0gXCJmYS1hbGlnbi1cIiArIGFsaWdubWVudDtcblxuICAgICAgLy8gUmVtb3ZlIGN1cnJlbnQgYWxpZ25tZW50IGljb24uXG4gICAgICBpZiAoY3VycmVudENsYXNzICYmIGN1cnJlbnRDbGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRwcmltYXJ5SWNvbi5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3NbMF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbmV3IGFsaWdubWVudCBpY29uLlxuICAgICAgJHByaW1hcnlJY29uLmFkZENsYXNzKG5ld0NsYXNzKTtcbiAgICAgICRidG5BbGlnbm1lbnQuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIsIGFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBzZXRBbGlnbm1lbnQoZGVmYXVsdEFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgX2luaXQoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRBbGlnbm1lbnQ6IGdldEFsaWdubWVudCxcbiAgICAgIHNldEFsaWdubWVudDogc2V0QWxpZ25tZW50LFxuICAgICAgcmVzZXQ6ICAgICAgICByZXNldFxuICAgIH07XG4gIH1cblxuICAvKlxuICAgKiAgQSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIHRoYXQgcHJldmVudHNcbiAgICogIG11bHRpcGxlIGluc3RhbnRpYXRpb25zLlxuICAgKi9cbiAgJC5mbi5hbGlnbm1lbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUpKSB7XG4gICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIF9wbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xudmFyIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgPSB7XG4gIFwiZmFtaWxpZXNcIjogXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xuICAgICAgXCJBcmlhbD1hcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkFyaWFsIEJsYWNrPWFyaWFsIGJsYWNrLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJDb3VyaWVyIE5ldz1jb3VyaWVyIG5ldyxjb3VyaWVyLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgICBcIkhlbHZldGljYT1oZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkltcGFjdD1pbXBhY3Qsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xuICAgICAgXCJUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVGVybWluYWw9dGVybWluYWwsbW9uYWNvLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xuICAgICAgXCJUcmVidWNoZXQgTVM9dHJlYnVjaGV0IG1zLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVmVyZGFuYT12ZXJkYW5hLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiV2ViZGluZ3M9d2ViZGluZ3M7XCIgK1xuICAgICAgXCJXaW5nZGluZ3M9d2luZ2RpbmdzLHphcGYgZGluZ2JhdHM7XCIsXG4gIFwic2l6ZXNcIjogXCI4cHggOXB4IDEwcHggMTFweCAxMnB4IDE0cHggMThweCAyNHB4IDMwcHggMzZweCA0OHB4IDYwcHggNzJweCA5NnB4XCJcbn07XG5cbmlmKHR5cGVvZiBURU1QTEFURVMgPT09ICd1bmRlZmluZWQnKSB7dmFyIFRFTVBMQVRFUyA9IHt9O31cblRFTVBMQVRFU1snZm9udC1zdHlsZS5odG1sJ10gPSBcIjxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YSBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBib2xkXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJib2xkXFxcIiB0aXRsZT1cXFwiQ1RSTCtCXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPkI8L2E+XFxuXCIgK1xuICAgIFwiICA8YSBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCBpdGFsaWNcXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcIml0YWxpY1xcXCIgdGl0bGU9XFxcIkNUUkwrSVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5JPC9hPlxcblwiICtcbiAgICBcIiAgPGEgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWRlZmF1bHQgdW5kZXJsaW5lXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJ1bmRlcmxpbmVcXFwiIHRpdGxlPVxcXCJDVFJMK1VcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+VTwvYT5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIjsgXG4vKiAgQ29weXJpZ2h0IMKpIDIwMTQgUmlzZSBWaXNpb24gSW5jb3Jwb3JhdGVkLlxuICogIFVzZSBvZiB0aGlzIHNvZnR3YXJlIGlzIGdvdmVybmVkIGJ5IHRoZSBHUEx2MyBsaWNlbnNlXG4gKiAgKHJlcHJvZHVjZWQgaW4gdGhlIExJQ0VOU0UgZmlsZSkuXG4gKi9cblxuLyogZ2xvYmFsIFRFTVBMQVRFUyAqL1xuOyhmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTLCB1bmRlZmluZWQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9wbHVnaW5OYW1lID0gXCJmb250U3R5bGVcIjtcblxuICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gICAgdmFyICRib2xkID0gbnVsbDtcbiAgICB2YXIgJGl0YWxpYyA9IG51bGw7XG4gICAgdmFyICR1bmRlcmxpbmUgPSBudWxsO1xuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgIFwiYm9sZFwiOiAgICAgIGZhbHNlLFxuICAgICAgXCJpdGFsaWNcIjogICAgZmFsc2UsXG4gICAgICBcInVuZGVybGluZVwiOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvKlxuICAgICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgIC8vIEdldCB0aGUgSFRNTCBtYXJrdXAgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAkZWxlbWVudC5hcHBlbmQoVEVNUExBVEVTW1wiZm9udC1zdHlsZS5odG1sXCJdKTtcblxuICAgICAgJGJvbGQgPSAkZWxlbWVudC5maW5kKFwiLmJvbGRcIik7XG4gICAgICAkaXRhbGljID0gJGVsZW1lbnQuZmluZChcIi5pdGFsaWNcIik7XG4gICAgICAkdW5kZXJsaW5lID0gJGVsZW1lbnQuZmluZChcIi51bmRlcmxpbmVcIik7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgYWxsIHN0eWxlcy5cbiAgICAgIHNldFN0eWxlcyh7XG4gICAgICAgIFwiYm9sZFwiOiBvcHRpb25zLmJvbGQsXG4gICAgICAgIFwiaXRhbGljXCI6IG9wdGlvbnMuaXRhbGljLFxuICAgICAgICBcInVuZGVybGluZVwiOiBvcHRpb25zLnVuZGVybGluZSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBIYW5kbGUgY2xpY2tpbmcgb24gYW55IG9mIHRoZSBzdHlsZSBidXR0b25zLlxuICAgICAgJGVsZW1lbnQuZmluZChcIi5idG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gISQodGhpcykuaGFzQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIF9zZXRTdHlsZSgkKHRoaXMpLCB2YWx1ZSk7XG5cbiAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihcInN0eWxlQ2hhbmdlZFwiLFxuICAgICAgICAgIFskKHRoaXMpLmF0dHIoXCJkYXRhLXd5c2lodG1sNS1jb21tYW5kXCIpLCB2YWx1ZV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2dldFN0eWxlKCRzdHlsZUVsZW0pIHtcbiAgICAgIHJldHVybiAkc3R5bGVFbGVtLmhhc0NsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zZXRTdHlsZSgkc3R5bGVFbGVtLCB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICRzdHlsZUVsZW0uYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJHN0eWxlRWxlbS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBQdWJsaWMgTWV0aG9kc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQm9sZCgpIHtcbiAgICAgIHJldHVybiBfZ2V0U3R5bGUoJGJvbGQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEJvbGQodmFsdWUpIHtcbiAgICAgIF9zZXRTdHlsZSgkYm9sZCwgdmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSXRhbGljKCkge1xuICAgICByZXR1cm4gX2dldFN0eWxlKCRpdGFsaWMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEl0YWxpYyh2YWx1ZSkge1xuICAgICAgX3NldFN0eWxlKCRpdGFsaWMsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1VuZGVybGluZSgpIHtcbiAgICAgcmV0dXJuIF9nZXRTdHlsZSgkdW5kZXJsaW5lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRVbmRlcmxpbmUodmFsdWUpIHtcbiAgICAgIF9zZXRTdHlsZSgkdW5kZXJsaW5lLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVzKCkge1xuICAgICAgcmV0dXJuICB7XG4gICAgICAgIFwiYm9sZFwiOiBpc0JvbGQoKSxcbiAgICAgICAgXCJpdGFsaWNcIjogaXNJdGFsaWMoKSxcbiAgICAgICAgXCJ1bmRlcmxpbmVcIjogaXNVbmRlcmxpbmUoKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U3R5bGVzKHN0eWxlcykge1xuICAgICAgX3NldFN0eWxlKCRib2xkLCBzdHlsZXMuYm9sZCk7XG4gICAgICBfc2V0U3R5bGUoJGl0YWxpYywgc3R5bGVzLml0YWxpYyk7XG4gICAgICBfc2V0U3R5bGUoJHVuZGVybGluZSwgc3R5bGVzLnVuZGVybGluZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBzZXRTdHlsZXMoZGVmYXVsdHMpO1xuICAgIH1cblxuICAgIF9pbml0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNCb2xkOiAgICAgICAgIGlzQm9sZCxcbiAgICAgIGlzSXRhbGljOiAgICAgICBpc0l0YWxpYyxcbiAgICAgIGlzVW5kZXJsaW5lOiAgICBpc1VuZGVybGluZSxcbiAgICAgIHNldEJvbGQ6ICAgICAgICBzZXRCb2xkLFxuICAgICAgc2V0SXRhbGljOiAgICAgIHNldEl0YWxpYyxcbiAgICAgIHNldFVuZGVybGluZTogICBzZXRVbmRlcmxpbmUsXG4gICAgICBnZXRTdHlsZXM6ICAgICAgZ2V0U3R5bGVzLFxuICAgICAgc2V0U3R5bGVzOiAgICAgIHNldFN0eWxlcyxcbiAgICAgIHJlc2V0OiAgICAgICAgICByZXNldFxuICAgIH07XG4gIH1cblxuICAvKlxuICAgKiAgQSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIHRoYXQgcHJldmVudHNcbiAgICogIG11bHRpcGxlIGluc3RhbnRpYXRpb25zLlxuICAgKi9cbiAgJC5mbi5mb250U3R5bGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUpKSB7XG4gICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIF9wbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xudmFyIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgPSB7XG4gIFwiZmFtaWxpZXNcIjogXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xuICAgICAgXCJBcmlhbD1hcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkFyaWFsIEJsYWNrPWFyaWFsIGJsYWNrLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJDb3VyaWVyIE5ldz1jb3VyaWVyIG5ldyxjb3VyaWVyLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgICBcIkhlbHZldGljYT1oZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkltcGFjdD1pbXBhY3Qsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xuICAgICAgXCJUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVGVybWluYWw9dGVybWluYWwsbW9uYWNvLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xuICAgICAgXCJUcmVidWNoZXQgTVM9dHJlYnVjaGV0IG1zLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVmVyZGFuYT12ZXJkYW5hLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiV2ViZGluZ3M9d2ViZGluZ3M7XCIgK1xuICAgICAgXCJXaW5nZGluZ3M9d2luZ2RpbmdzLHphcGYgZGluZ2JhdHM7XCIsXG4gIFwic2l6ZXNcIjogXCI4cHggOXB4IDEwcHggMTFweCAxMnB4IDE0cHggMThweCAyNHB4IDMwcHggMzZweCA0OHB4IDYwcHggNzJweCA5NnB4XCJcbn07XG5cbmlmKHR5cGVvZiBURU1QTEFURVMgPT09ICd1bmRlZmluZWQnKSB7dmFyIFRFTVBMQVRFUyA9IHt9O31cblRFTVBMQVRFU1sndXJsLWZpZWxkLXRlbXBsYXRlLmh0bWwnXSA9IFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCB2YWxpZGF0ZS11cmxcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IG5hbWU9XFxcInZhbGlkYXRlLXVybFxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ2YWxpZGF0ZS11cmxcXFwiIGNoZWNrZWQ9XFxcImNoZWNrZWRcXFwiPiBWYWxpZGF0ZSBVUkxcXG5cIiArXG4gICAgXCIgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgPGxhYmVsPlVSTDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8aW5wdXQgbmFtZT1cXFwidXJsXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiAvPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiOyBcbi8qICBDb3B5cmlnaHQgwqkgMjAxNCBSaXNlIFZpc2lvbiBJbmNvcnBvcmF0ZWQuXG4gKiAgVXNlIG9mIHRoaXMgc29mdHdhcmUgaXMgZ292ZXJuZWQgYnkgdGhlIEdQTHYzIGxpY2Vuc2VcbiAqICAocmVwcm9kdWNlZCBpbiB0aGUgTElDRU5TRSBmaWxlKS5cbiAqL1xuXG4vKiBnbG9iYWwgVEVNUExBVEVTICovXG4vKiBqc2hpbnQgbWF4bGVuOiA1MDAgKi9cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIFRFTVBMQVRFUywgdW5kZWZpbmVkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfcGx1Z2luTmFtZSA9IFwidXJsRmllbGRcIjtcblxuICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAkdXJsSW5wID0gbnVsbCxcbiAgICAgICR2YWxpZGF0ZVVybEN0biA9IG51bGwsXG4gICAgICAkdmFsaWRhdGVVcmxDQiA9IG51bGwsXG4gICAgICB1cmxSZWdFeHAgPSAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaSxcbiAgICAgIGRvVmFsaWRhdGlvbiA9IHRydWU7XG5cbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHsgXCJ1cmxcIjogXCJodHRwOi8vXCIgfSwgb3B0aW9ucyk7XG5cbiAgICBmdW5jdGlvbiBfZ2V0VXJsKCkge1xuICAgICAgcmV0dXJuICQudHJpbSgkdXJsSW5wLnZhbCgpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfdGVzdFVybCh2YWx1ZSkge1xuICAgICAgLy8gQWRkIGh0dHA6Ly8gaWYgbm8gcHJvdG9jb2wgcGFyYW1ldGVyIGV4aXN0c1xuICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCI6Ly9cIikgPT09IC0xKSB7XG4gICAgICAgIHZhbHVlID0gXCJodHRwOi8vXCIgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8qXG4gICAgICAgRGlzY3Vzc2lvblxuICAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzc2ODQvaG93LXRvLXJlcGxhY2UtcGxhaW4tdXJscy1cbiAgICAgICB3aXRoLWxpbmtzIzIxOTI1NDkxXG5cbiAgICAgICBVc2luZ1xuICAgICAgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2RwZXJpbmkvNzI5Mjk0XG4gICAgICAgUmVhc29uaW5nXG4gICAgICAgaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXhcblxuICAgICAgICovXG5cbiAgICAgIHJldHVybiB1cmxSZWdFeHAudGVzdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3NldFVybCh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoJHVybElucCkge1xuICAgICAgICAgICR1cmxJbnAudmFsKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF92YWxpZGF0ZVVybCgpIHtcbiAgICAgIGlmICghZG9WYWxpZGF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmFsaWQgPSBfdGVzdFVybChfZ2V0VXJsKCkpO1xuICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICBpZiAoISR2YWxpZGF0ZVVybEN0bi5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgJHZhbGlkYXRlVXJsQ3RuLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICAvLyBHZXQgdGhlIEhUTUwgbWFya3VwIGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgJGVsZW1lbnQuYXBwZW5kKFRFTVBMQVRFU1tcInVybC1maWVsZC10ZW1wbGF0ZS5odG1sXCJdKTtcblxuICAgICAgJHVybElucCA9ICRlbGVtZW50LmZpbmQoXCJpbnB1dFtuYW1lPSd1cmwnXVwiKTtcbiAgICAgICR2YWxpZGF0ZVVybEN0biA9ICRlbGVtZW50LmZpbmQoXCJkaXYudmFsaWRhdGUtdXJsXCIpO1xuICAgICAgJHZhbGlkYXRlVXJsQ0IgPSAkZWxlbWVudC5maW5kKFwiaW5wdXRbbmFtZT0ndmFsaWRhdGUtdXJsJ11cIik7XG5cbiAgICAgICR2YWxpZGF0ZVVybEN0bi5oaWRlKCk7XG5cbiAgICAgIF9zZXRVcmwob3B0aW9ucy51cmwpO1xuXG4gICAgICAkdmFsaWRhdGVVcmxDQi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9WYWxpZGF0aW9uID0gJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2luaXQoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzZXRVcmw6IF9zZXRVcmwsXG4gICAgICBnZXRVcmw6IF9nZXRVcmwsXG4gICAgICB2YWxpZGF0ZVVybDogX3ZhbGlkYXRlVXJsXG4gICAgfTtcbiAgfVxuXG4gIC8qXG4gICAqICBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xuICAgKiAgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnMuXG4gICAqL1xuICAkLmZuLnVybEZpZWxkID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUpKSB7XG4gICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIF9wbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xudmFyIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgPSB7XG4gIFwiZmFtaWxpZXNcIjogXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xuICAgICAgXCJBcmlhbD1hcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkFyaWFsIEJsYWNrPWFyaWFsIGJsYWNrLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJDb3VyaWVyIE5ldz1jb3VyaWVyIG5ldyxjb3VyaWVyLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgICBcIkhlbHZldGljYT1oZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkltcGFjdD1pbXBhY3Qsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xuICAgICAgXCJUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVGVybWluYWw9dGVybWluYWwsbW9uYWNvLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xuICAgICAgXCJUcmVidWNoZXQgTVM9dHJlYnVjaGV0IG1zLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVmVyZGFuYT12ZXJkYW5hLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiV2ViZGluZ3M9d2ViZGluZ3M7XCIgK1xuICAgICAgXCJXaW5nZGluZ3M9d2luZ2RpbmdzLHphcGYgZGluZ2JhdHM7XCIsXG4gIFwic2l6ZXNcIjogXCI4cHggOXB4IDEwcHggMTFweCAxMnB4IDE0cHggMThweCAyNHB4IDMwcHggMzZweCA0OHB4IDYwcHggNzJweCA5NnB4XCJcbn07XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLCBbXG4gICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiXG4gIF0pXG4gICAgLmRpcmVjdGl2ZShcInVybEZpZWxkXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsICRsb2cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgcmVxdWlyZTogXCI/bmdNb2RlbFwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHVybDogXCI9XCIsXG4gICAgICAgICAgaGlkZUxhYmVsOiBcIkBcIixcbiAgICAgICAgICBmaWxlVHlwZTogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiKSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFzVmFsaWRFeHRlbnNpb24odXJsLCBmaWxlVHlwZSkge1xuICAgICAgICAgICAgdmFyIHRlc3RVcmwgPSB1cmwudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgZXh0ZW5zaW9ucztcblxuICAgICAgICAgICAgc3dpdGNoKGZpbGVUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXCIuanBnXCIsIFwiLmpwZWdcIiwgXCIucG5nXCIsIFwiLmJtcFwiLCBcIi5zdmdcIiwgXCIuZ2lmXCJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW1wiLndlYm1cIiwgXCIubXA0XCIsIFwiLm9ndlwiLCBcIi5vZ2dcIl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXh0ZW5zaW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBpZiAodGVzdFVybC5pbmRleE9mKGV4dGVuc2lvbnNbaV0pICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBVUkwgcG9pbnRzIHRvIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgICAgICBmdW5jdGlvbiB0ZXN0SW1hZ2UoKSB7XG4gICAgICAgICAgICBpZiAoKHNjb3BlLmZpbGVUeXBlICE9PSBcInVuZGVmaW5lZFwiKSAmJiAoc2NvcGUudXJsICE9PSBcInVuZGVmaW5lZFwiKSkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuZmlsZVR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gc2NvcGUuZmlsZVR5cGU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc2NvcGUudXJsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdGVzdFVybCh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHVybFJlZ0V4cCxcbiAgICAgICAgICAgICAgaXNWYWxpZDtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICBEaXNjdXNzaW9uXG4gICAgICAgICAgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzY4NC9ob3ctdG8tcmVwbGFjZS1wbGFpbi11cmxzLXdpdGgtbGlua3MjMjE5MjU0OTFcblxuICAgICAgICAgICAgIFVzaW5nXG4gICAgICAgICAgICAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZHBlcmluaS83MjkyOTRcbiAgICAgICAgICAgICBSZWFzb25pbmdcbiAgICAgICAgICAgICBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleCAqL1xuXG4gICAgICAgICAgICB1cmxSZWdFeHAgPSAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAgICAgICAgIC8vIEFkZCBodHRwOi8vIGlmIG5vIHByb3RvY29sIHBhcmFtZXRlciBleGlzdHNcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiOi8vXCIpID09PSAtMSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IFwiaHR0cDovL1wiICsgdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzVmFsaWQgPSB1cmxSZWdFeHAudGVzdCh2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIHR5cGVvZiBzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICBpc1ZhbGlkID0gaGFzVmFsaWRFeHRlbnNpb24odmFsdWUsIHNjb3BlLmZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICB0ZXN0SW1hZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQnkgZGVmYXVsdCBlbmZvcmNlIHZhbGlkYXRpb25cbiAgICAgICAgICBzY29wZS5kb1ZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgIC8vIEEgZmxhZyB0byBzZXQgaWYgdGhlIHVzZXIgdHVybmVkIG9mZiB2YWxpZGF0aW9uXG4gICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAvLyBWYWxpZGF0aW9uIHN0YXRlXG4gICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuXG4gICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSAodHlwZW9mIGF0dHJzLmluaXRFbXB0eSAhPT0gXCJ1bmRlZmluZWRcIik7XG5cbiAgICAgICAgICBzY29wZS5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS4kZW1pdChcInVybEZpZWxkQmx1clwiKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidXJsXCIsIGZ1bmN0aW9uICh1cmwpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHVybCAhPT0gXCJcIiAmJiBzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBhbiBlbXB0eSBcIlwiIHZhbHVlIG5vdyBnZXRzIHZhbGlkYXRlZFxuICAgICAgICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZG9WYWxpZGF0aW9uICYmICFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ2YWxpZFwiLCBmdW5jdGlvbiAodmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChjdHJsKSB7XG4gICAgICAgICAgICAgICRsb2cuaW5mbyhcIkNhbGxpbmcgJHNldFZhbGlkaXR5KCkgb24gcGFyZW50IGNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwidmFsaWRcIiwgdmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwiZG9WYWxpZGF0aW9uXCIsIGZ1bmN0aW9uIChkb1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBzY29wZS51cmwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgaWYgKGRvVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRlc3RVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiA+XFxuXCIgK1xuICAgIFwiICA8bGFiZWwgbmctaWY9XFxcIiFoaWRlTGFiZWxcXFwiPnt7IFxcXCJ1cmwubGFiZWxcXFwiIHwgdHJhbnNsYXRlIH19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDxpbnB1dCBuYW1lPVxcXCJ1cmxcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJ1cmxcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcImh0dHA6Ly9cXFwiPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndXJsJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy51cmxcXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ2ltYWdlJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy5pbWFnZVxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndmlkZW8nXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLnZpZGVvXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBuZy1zaG93PVxcXCJmb3JjZWRWYWxpZCB8fCAhdmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IG5hbWU9XFxcInZhbGlkYXRlLXVybFxcXCIgbmctY2xpY2s9XFxcImRvVmFsaWRhdGlvbiA9ICFkb1ZhbGlkYXRpb25cXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICB2YWx1ZT1cXFwidmFsaWRhdGUtdXJsXFxcIj4ge3tcXFwidXJsLnZhbGlkYXRlLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKiBnbG9iYWwgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsIFtcbiAgICAgIFwiYW5ndWxhckxvYWRcIixcbiAgICAgIFwidWkudGlueW1jZVwiLFxuICAgICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIlxuICAgIF0pXG4gICAgLmRpcmVjdGl2ZShcImZvbnRTZXR0aW5nXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBcIiR3aW5kb3dcIiwgXCJnb29nbGVGb250TG9hZGVyXCIsXG4gICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nLCAkd2luZG93LCBnb29nbGVGb250TG9hZGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIGZvbnREYXRhOiBcIj1cIixcbiAgICAgICAgICBwcmV2aWV3VGV4dDogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL2ZvbnQtc2V0dGluZy9mb250LXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnQgPSAkZWxlbWVudC5maW5kKFwiLmN1c3RvbS1mb250XCIpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnRTaXplID0gJGVsZW1lbnQuZmluZChcIi5jdXN0b20tZm9udC1zaXplXCIpLFxuICAgICAgICAgICAgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAkc2NvcGUuZ29vZ2xlRm9udExpc3QgPSBcIlwiO1xuXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRGb250ID0ge1xuICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICBmYW1pbHk6IFwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgIHVybDogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IFwiMjRweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTogXCJcIixcbiAgICAgICAgICAgIGFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgIGJvbGQ6IGZhbHNlLFxuICAgICAgICAgICAgaXRhbGljOiBmYWxzZSxcbiAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2UsXG4gICAgICAgICAgICBmb3JlY29sb3I6IFwiYmxhY2tcIixcbiAgICAgICAgICAgIGJhY2tjb2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIExvYWQgR29vZ2xlIGZvbnRzLlxuICAgICAgICAgIGdvb2dsZUZvbnRMb2FkZXIuZ2V0Rm9udHMoKS50aGVuKGZ1bmN0aW9uKGZvbnRzKSB7XG4gICAgICAgICAgICAkc2NvcGUuZ29vZ2xlRm9udExpc3QgPSBmb250cztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRzY29wZS5jdXN0b21Gb250U2l6ZSA9IG51bGw7XG5cbiAgICAgICAgICAvLyBBcHBseSBjdXN0b20gZm9udCB0byBwcmV2aWV3IHRleHQuXG4gICAgICAgICAgJHNjb3BlLmFwcGx5Q3VzdG9tRm9udCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGZhbWlseSA9IGdldEN1c3RvbUZvbnRGYW1pbHkoKTtcblxuICAgICAgICAgICAgaWYgKGZhbWlseSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBsb2FkQ3VzdG9tRm9udChmYW1pbHkpO1xuXG4gICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LmZhbWlseSA9IGZhbWlseTtcbiAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmZvbnQudHlwZSA9IFwiY3VzdG9tXCI7XG5cbiAgICAgICAgICAgICAgdXBkYXRlUHJldmlldygkc2NvcGUuZm9udERhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkY3VzdG9tRm9udC5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5hcHBseUN1c3RvbUZvbnRTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkY3VzdG9tRm9udFNpemUubW9kYWwoXCJoaWRlXCIpO1xuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmN1c3RvbUZvbnRTaXplICE9PSBudWxsICYmICRzY29wZS5jdXN0b21Gb250U2l6ZSA+PSA4KSB7XG5cbiAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuY3VzdG9tRm9udFNpemUgKyBcInB4XCIpICE9PSAkc2NvcGUuZm9udERhdGEuc2l6ZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5zaXplID0gJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgaWYgKFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuc2l6ZXMuaW5kZXhPZigkc2NvcGUuZm9udERhdGEuc2l6ZSkgIT09IC0xIHx8XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSA9PT0gJHNjb3BlLmZvbnREYXRhLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHRlbGwgZWRpdG9yIHRvIHNlbGVjdCB0aGlzIHNpemVcbiAgICAgICAgICAgICAgICAgICR3aW5kb3cudGlueW1jZS5hY3RpdmVFZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250U2l6ZVwiLCBmYWxzZSwgJHNjb3BlLmZvbnREYXRhLnNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIG5ldyBjdXN0b20gZm9udCBzaXplIHRvIGFkZFxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgPSAkc2NvcGUuY3VzdG9tRm9udFNpemUgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB2YWx1ZSBvZiBmb250X2Zvcm1hdHNcbiAgICAgICAgICAgICAgICAgICRzY29wZS50aW55bWNlT3B0aW9ucy5mb250c2l6ZV9mb3JtYXRzID0gXCJDdXN0b20gXCIgK1xuICAgICAgICAgICAgICAgICAgICAoKCRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICE9PSBcIlwiKSA/ICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICsgXCIgXCIgOiBcIlwiKSAgK1xuICAgICAgICAgICAgICAgICAgICBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHLnNpemVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlc2V0IG1vZGFsIGlucHV0IHNpemUgdmFsdWVcbiAgICAgICAgICAgICRzY29wZS5jdXN0b21Gb250U2l6ZSA9IG51bGw7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHdhdGNoID0gJHNjb3BlLiR3YXRjaEdyb3VwKFtcImZvbnREYXRhXCIsXCJnb29nbGVGb250TGlzdFwiXSwgZnVuY3Rpb24obmV3VmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgZmFtaWx5ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBmb250RGF0YSA9IG5ld1ZhbHVlc1swXTtcbiAgICAgICAgICAgIHZhciBnb29nbGVGb250TGlzdCA9IG5ld1ZhbHVlc1sxXTtcbiAgICAgICAgICAgIGlmIChmb250RGF0YSAmJiBnb29nbGVGb250TGlzdCkge1xuICAgICAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMoZm9udERhdGEsICRzY29wZS5kZWZhdWx0Rm9udCk7XG5cbiAgICAgICAgICAgICAgLy8gTG9hZCBjdXN0b20gZm9udC5cbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5mb250LnVybCkge1xuICAgICAgICAgICAgICAgIGZhbWlseSA9IGdldEN1c3RvbUZvbnRGYW1pbHkoKTtcblxuICAgICAgICAgICAgICAgIGlmIChmYW1pbHkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGxvYWRDdXN0b21Gb250KGZhbWlseSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdXBkYXRlUHJldmlldyhmb250RGF0YSk7XG4gICAgICAgICAgICAgIGluaXRUaW55TUNFKCk7XG4gICAgICAgICAgICAgIHdhdGNoKCk7XG5cbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5wcmV2aWV3VGV4dCkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJmb250RGF0YVwiLCB1cGRhdGVQcmV2aWV3LCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaChcInRpbnltY2VPcHRpb25zLmZvbnRzaXplX2Zvcm1hdHNcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmICFfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgIC8vIGxldmVyYWdlIHVpLXRpbnltY2Ugd29ya2Fyb3VuZCBvZiByZWZyZXNoaW5nIGVkaXRvclxuICAgICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcIiR0aW55bWNlOnJlZnJlc2hcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBJbml0aWFsaXplIFRpbnlNQ0UuXG4gICAgICAgICAgZnVuY3Rpb24gaW5pdFRpbnlNQ0UoKSB7XG4gICAgICAgICAgICAkc2NvcGUudGlueW1jZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgIGZvbnRfZm9ybWF0czogXCJVc2UgQ3VzdG9tIEZvbnQ9Y3VzdG9tO1wiICsgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5mYW1pbGllcyArICRzY29wZS5nb29nbGVGb250TGlzdCxcbiAgICAgICAgICAgICAgZm9udHNpemVfZm9ybWF0czogXCJDdXN0b20gXCIgK1xuICAgICAgICAgICAgICAgICgoJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgIT09IFwiXCIpID8gJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgKyBcIiBcIiA6IFwiXCIpICArXG4gICAgICAgICAgICAgICAgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5zaXplcyxcbiAgICAgICAgICAgICAgbWVudWJhcjogZmFsc2UsXG4gICAgICAgICAgICAgIHBsdWdpbnM6IFwidGV4dGNvbG9yIGNvbG9ycGlja2VyXCIsXG4gICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICBXaGVuIHRlc3RpbmcgdGhpcyB2aWEgbG9jYWwgc2VydmVyLCBDT1JTIHdpbGwgYmUgcmVxdWlyZWQuIEhhbmR5IENPUlMgQ2hyb21lIGV4dGVuc2lvbiBjYW4gYmUgZm91bmQgaGVyZVxuICAgICAgICAgICAgICAgaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvYWxsb3ctY29udHJvbC1hbGxvdy1vcmlnaS9ubGZibWJvanBlYWNmZ2hrcGJqaGRkaWhsa2tpbGpiaT9obD1lblxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgc2tpbl91cmw6IFwiLy9zMy5hbWF6b25hd3MuY29tL3Jpc2UtY29tbW9uL3N0eWxlcy90aW55bWNlL3Jpc2VcIixcbiAgICAgICAgICAgICAgc3RhdHVzYmFyOiBmYWxzZSxcbiAgICAgICAgICAgICAgdG9vbGJhcjogXCJmb250c2VsZWN0IGZvbnRzaXplc2VsZWN0IHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IHwgZm9yZWNvbG9yIGJhY2tjb2xvciB8IGJvbGQgaXRhbGljIHVuZGVybGluZVwiLFxuICAgICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKFwiaW5pdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGluaXRUb29sYmFyKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oXCJFeGVjQ29tbWFuZFwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICAgICAgICBpbml0Q29tbWFuZHMoZWRpdG9yLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEFwcGx5ID0gZWRpdG9yLmZvcm1hdHRlci5hcHBseSxcbiAgICAgICAgICAgICAgICAgIG9sZFJlbW92ZSA9IGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlIC0gaHR0cDovL2dvby5nbC81NUloV0lcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9ybWF0dGVyLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkobmFtZSwgdmFycywgbm9kZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YXJzLnZhbHVlXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICBvbGRBcHBseShuYW1lLCB2YXJzLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKFwiRXhlY0NvbW1hbmRcIiwgYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKHZhcnMgJiYgdmFycy52YWx1ZSkgPyB2YXJzLnZhbHVlIDogbnVsbFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgb2xkUmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoXCJFeGVjQ29tbWFuZFwiLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEluaXRpYWxpemUgVGlueU1DRSB0b29sYmFyLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRUb29sYmFyKGVkaXRvcikge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YSkge1xuICAgICAgICAgICAgICAvLyBGb250IEZhbWlseVxuICAgICAgICAgICAgICBpZiAoKCRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIpICYmICRzY29wZS5mb250RGF0YS5mb250LnVybCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIkZvbnROYW1lXCIsIGZhbHNlLCBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250TmFtZVwiLCBmYWxzZSwgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEZvbnQgU2l6ZXNcbiAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcblxuICAgICAgICAgICAgICAvLyBBbGlnbm1lbnRcbiAgICAgICAgICAgICAgc3dpdGNoKCRzY29wZS5mb250RGF0YS5hbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5TGVmdFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5Q2VudGVyXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeVJpZ2h0XCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJqdXN0aWZ5XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5RnVsbFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDb2xvcnNcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZChcIi5tY2UtY29sb3JidXR0b25bYXJpYS1sYWJlbD0nVGV4dCBjb2xvciddIHNwYW5cIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCAkc2NvcGUuZm9udERhdGEuZm9yZWNvbG9yKTtcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZChcIi5tY2UtY29sb3JidXR0b25bYXJpYS1sYWJlbD0nQmFja2dyb3VuZCBjb2xvciddIHNwYW5cIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCAkc2NvcGUuZm9udERhdGEuYmFja2NvbG9yKTtcblxuICAgICAgICAgICAgICAvLyBGb250IFN0eWxlXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuYm9sZCkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQm9sZCddXCIpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuaXRhbGljKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdJdGFsaWMnXVwiKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvbnREYXRhLnVuZGVybGluZSkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nVW5kZXJsaW5lJ11cIikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSGFuZGxlIHRvb2xiYXIgaW50ZXJhY3Rpb25zLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRDb21tYW5kcyhlZGl0b3IsIGFyZ3MpIHtcbiAgICAgICAgICAgIHN3aXRjaChhcmdzLmNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIkZvbnROYW1lXCI6XG4gICAgICAgICAgICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncy52YWx1ZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgICAgICAgJGN1c3RvbUZvbnQubW9kYWwoXCJzaG93XCIpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5ID0gYXJncy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPSBnZXRGb250VHlwZShhcmdzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiRm9udFNpemVcIjpcbiAgICAgICAgICAgICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcIkN1c3RvbVwiKSB7XG4gICAgICAgICAgICAgICAgICAkY3VzdG9tRm9udFNpemUubW9kYWwoXCJzaG93XCIpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLnNpemUgPSBhcmdzLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5TGVmdFwiOlxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5hbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5Q2VudGVyXCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiSnVzdGlmeVJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5RnVsbFwiOlxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5hbGlnbiA9IFwianVzdGlmeVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJmb3JlY29sb3JcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9yZWNvbG9yID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC5mb3JlY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImhpbGl0ZWNvbG9yXCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmJhY2tjb2xvciA9IChhcmdzLnZhbHVlKSA/IGFyZ3MudmFsdWUgOiAkc2NvcGUuZGVmYXVsdEZvbnQuYmFja2NvbG9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJtY2VUb2dnbGVGb3JtYXRcIjpcbiAgICAgICAgICAgICAgICBpZiAoYXJncy52YWx1ZSA9PT0gXCJib2xkXCIpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5ib2xkID0gISRzY29wZS5mb250RGF0YS5ib2xkO1xuICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdCb2xkJ11cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcIml0YWxpY1wiKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuaXRhbGljID0gISRzY29wZS5mb250RGF0YS5pdGFsaWM7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0l0YWxpYyddXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncy52YWx1ZSA9PT0gXCJ1bmRlcmxpbmVcIikge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLnVuZGVybGluZSA9ICEkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lO1xuICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdVbmRlcmxpbmUnXVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoJHNjb3BlLmZvbnREYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVCdXR0b24oJGJ0bikge1xuICAgICAgICAgICAgJGJ0bi50b2dnbGVDbGFzcyhcIm1jZS1hY3RpdmVcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3R5bGUgdGhlIHByZXZpZXcgdGV4dC5cbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcmV2aWV3KGZvbnREYXRhKSB7XG4gICAgICAgICAgICB2YXIgJHRleHRDb250YWluZXIgPSAkZWxlbWVudC5maW5kKFwiLnRleHQtY29udGFpbmVyXCIpLFxuICAgICAgICAgICAgICAkdGV4dCA9ICRlbGVtZW50LmZpbmQoXCIudGV4dFwiKTtcblxuICAgICAgICAgICAgaWYgKCRzY29wZS5wcmV2aWV3VGV4dCAmJiBmb250RGF0YSkge1xuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250RmFtaWx5XCIsIGZvbnREYXRhLmZvbnQuZmFtaWx5KTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFNpemVcIiwgZm9udERhdGEuc2l6ZSk7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRXZWlnaHRcIiwgZm9udERhdGEuYm9sZCA/IFwiYm9sZFwiIDogXCJub3JtYWxcIik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRTdHlsZVwiLCBmb250RGF0YS5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcInRleHREZWNvcmF0aW9uXCIsIGZvbnREYXRhLnVuZGVybGluZSA/IFwidW5kZXJsaW5lXCIgOiBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImNvbG9yXCIsIGZvbnREYXRhLmZvcmVjb2xvcik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImJhY2tncm91bmRDb2xvclwiLCBmb250RGF0YS5iYWNrY29sb3IpO1xuICAgICAgICAgICAgICAkdGV4dENvbnRhaW5lci5jc3MoXCJ0ZXh0QWxpZ25cIiwgZm9udERhdGEuYWxpZ24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERldGVybWluZSB3aGF0IHR5cGUgb2YgZm9udCB0aGlzIGlzIChzdGFuZGFyZCBvciBnb29nbGUpLlxuICAgICAgICAgIGZ1bmN0aW9uIGdldEZvbnRUeXBlKGZhbWlseSkge1xuICAgICAgICAgICAgaWYgKFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuZmFtaWxpZXMuaW5kZXhPZihmYW1pbHkpICE9PSAtMSkge1xuICAgICAgICAgICAgICByZXR1cm4gXCJzdGFuZGFyZFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmdvb2dsZUZvbnRMaXN0LmluZGV4T2YoZmFtaWx5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiZ29vZ2xlXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBcImN1c3RvbVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEV4dHJhY3QgZm9udCBuYW1lIGZyb20gZm9udCBVUkwuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0Q3VzdG9tRm9udEZhbWlseSgpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5mb250RGF0YS5mb250LnVybC5zcGxpdChcIi9cIikucG9wKCkuc3BsaXQoXCIuXCIpWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBMb2FkIGEgY3VzdG9tIGZvbnQuXG4gICAgICAgICAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5KSB7XG4gICAgICAgICAgICB2YXIgc2hlZXQgPSBudWxsLFxuICAgICAgICAgICAgICB1cmwgPSAkLnRyaW0oJHNjb3BlLmZvbnREYXRhLmZvbnQudXJsKSxcbiAgICAgICAgICAgICAgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZmFtaWx5ICsgXCI7IFwiICsgXCJzcmM6IHVybCgnXCIgKyB1cmwgKyBcIicpO1wiO1xuXG4gICAgICAgICAgICBzaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgICAgICAgICBpZiAoc2hlZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiKVxuICAgIC5mYWN0b3J5KFwiZ29vZ2xlRm9udExvYWRlclwiLCBbXCIkaHR0cFwiLCBcImFuZ3VsYXJMb2FkXCIsIGZ1bmN0aW9uKCRodHRwLCBhbmd1bGFyTG9hZCkge1xuXG4gICAgdmFyIGZvbnRzQXBpID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS93ZWJmb250cy92MS93ZWJmb250cz9rZXk9QUl6YVN5Qlh4VktfSU9WN0xOUU11VlZvX2w3WnZONTNlak44NnpZXCIsXG4gICAgICBmb250QmFzZVVybCA9IFwiLy9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiLFxuICAgICAgZXhjbHVkZSA9IFtcIkJ1ZGFcIiwgXCJDb2RhIENhcHRpb25cIiwgXCJPcGVuIFNhbnMgQ29uZGVuc2VkXCIsIFwiVW5pZnJha3R1ckNvb2tcIiwgXCJNb2xsZVwiXSxcbiAgICAgIGZhbGxiYWNrID0gXCIsc2Fucy1zZXJpZjtcIixcbiAgICAgIGZhY3RvcnkgPSB7fTtcblxuICAgIGZhY3RvcnkuZ2V0Rm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoZm9udHNBcGksIHsgY2FjaGU6IHRydWUgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgZmFtaWx5ID0gXCJcIiwgZm9udHMgPSBcIlwiLCBzcGFjZXMgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBmYW1pbHkgPSByZXNwb25zZS5kYXRhLml0ZW1zW2ldLmZhbWlseTtcblxuICAgICAgICAgICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKGZhbWlseSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhckxvYWQubG9hZENTUyhmb250QmFzZVVybCArIGZhbWlseSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZvbnQgbG9hZGVkLlxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxuICAgICAgICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcbiAgICAgICAgICAgICAgICAgIHNwYWNlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlcykge1xuICAgICAgICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXG4gICAgICAgICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZm9udHM7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvZm9udC1zZXR0aW5nL2ZvbnQtc2V0dGluZy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb250LXNldHRpbmdcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGV4dGFyZWEgdWktdGlueW1jZT1cXFwidGlueW1jZU9wdGlvbnNcXFwiIG5nLW1vZGVsPVxcXCJ0aW55bWNlTW9kZWxcXFwiIG5nLWlmPVxcXCJ0aW55bWNlT3B0aW9uc1xcXCI+PC90ZXh0YXJlYT5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCIgbmctaWY9XFxcInByZXZpZXdUZXh0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJ0ZXh0LWNvbnRhaW5lciBmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0XFxcIj57e3ByZXZpZXdUZXh0fX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8IS0tIEN1c3RvbSBGb250IC0tPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLWZvbnQgbW9kYWxcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgZGF0YS1iYWNrZHJvcD1cXFwiZmFsc2VcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXRpbWVzIGhhbGYtdG9wXFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8aDIgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj57e1xcXCJmb250LXNldHRpbmcuY3VzdG9tLWZvbnRcXFwiIHwgdHJhbnNsYXRlfX08L2gyPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8Zm9ybSByb2xlPVxcXCJmb3JtXFxcIiBuYW1lPVxcXCJjdXN0b21Gb250Rm9ybVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx1cmwtZmllbGQgdXJsPVxcXCJmb250RGF0YS5mb250LnVybFxcXCIgbmctbW9kZWw9XFxcImN1c3RvbUZvbnRcXFwiIGluaXQtZW1wdHk+PC91cmwtZmllbGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0IGJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIG5nLWNsaWNrPVxcXCJhcHBseUN1c3RvbUZvbnQoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImN1c3RvbUZvbnRGb3JtLiRpbnZhbGlkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zZWxlY3RcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2FuY2VsIGJ0biBidG4tZGVmYXVsdCBidG4tZml4ZWQtd2lkdGhcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLmNhbmNlbFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9mb3JtPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPCEtLSBDdXN0b20gRm9udCBTaXplIC0tPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLWZvbnQtc2l6ZSBtb2RhbFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBkYXRhLWJhY2tkcm9wPVxcXCJmYWxzZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdGltZXMgaGFsZi10b3BcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxoMiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPnt7XFxcImZvbnQtc2V0dGluZy5jdXN0b20tZm9udC1zaXplXFxcIiB8IHRyYW5zbGF0ZX19PC9oMj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGZvcm0gcm9sZT1cXFwiZm9ybVxcXCIgbmFtZT1cXFwiY3VzdG9tRm9udFNpemVGb3JtXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIG5nLW1vZGVsPVxcXCJjdXN0b21Gb250U2l6ZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgLz5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5waXhlbHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0IGJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIG5nLWNsaWNrPVxcXCJhcHBseUN1c3RvbUZvbnRTaXplKClcXFwiIG5nLWRpc2FibGVkPVxcXCJjdXN0b21Gb250U2l6ZUZvcm0uJGludmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLnNlbGVjdFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjYW5jZWwgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLXRpbWVzIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Zvcm0+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuLyoqXG4gKiBCaW5kcyBhIFRpbnlNQ0Ugd2lkZ2V0IHRvIDx0ZXh0YXJlYT4gZWxlbWVudHMuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS50aW55bWNlJywgW10pXG4gIC52YWx1ZSgndWlUaW55bWNlQ29uZmlnJywge30pXG4gIC5kaXJlY3RpdmUoJ3VpVGlueW1jZScsIFsnJHJvb3RTY29wZScsICckY29tcGlsZScsICckdGltZW91dCcsICckd2luZG93JywgJyRzY2UnLCAndWlUaW55bWNlQ29uZmlnJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGNvbXBpbGUsICR0aW1lb3V0LCAkd2luZG93LCAkc2NlLCB1aVRpbnltY2VDb25maWcpIHtcbiAgICB1aVRpbnltY2VDb25maWcgPSB1aVRpbnltY2VDb25maWcgfHwge307XG4gICAgdmFyIGdlbmVyYXRlZElkcyA9IDA7XG4gICAgdmFyIElEX0FUVFIgPSAndWktdGlueW1jZSc7XG4gICAgaWYgKHVpVGlueW1jZUNvbmZpZy5iYXNlVXJsKSB7XG4gICAgICB0aW55bWNlLmJhc2VVUkwgPSB1aVRpbnltY2VDb25maWcuYmFzZVVybDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/Zm9ybSddLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgICBpZiAoISR3aW5kb3cudGlueW1jZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZ01vZGVsID0gY3RybHNbMF0sXG4gICAgICAgICAgZm9ybSA9IGN0cmxzWzFdIHx8IG51bGw7XG5cbiAgICAgICAgdmFyIGV4cHJlc3Npb24sIG9wdGlvbnMgPSB7fSwgdGlueUluc3RhbmNlLFxuICAgICAgICAgIHVwZGF0ZVZpZXcgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gZWRpdG9yLmdldENvbnRlbnQoe2Zvcm1hdDogb3B0aW9ucy5mb3JtYXR9KS50cmltKCk7XG4gICAgICAgICAgICBjb250ZW50ID0gJHNjZS50cnVzdEFzSHRtbChjb250ZW50KTtcblxuICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGNvbnRlbnQpO1xuICAgICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlKGRpc2FibGVkKSB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBpZiAodGlueUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXRCb2R5KCkuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UgJiYgIXRpbnlJbnN0YW5jZS5zZXR0aW5ncy5yZWFkb25seSkge1xuICAgICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0Qm9keSgpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgYW4gSURcbiAgICAgICAgYXR0cnMuJHNldCgnaWQnLCBJRF9BVFRSICsgJy0nICsgZ2VuZXJhdGVkSWRzKyspO1xuXG4gICAgICAgIGV4cHJlc3Npb24gPSB7fTtcblxuICAgICAgICBhbmd1bGFyLmV4dGVuZChleHByZXNzaW9uLCBzY29wZS4kZXZhbChhdHRycy51aVRpbnltY2UpKTtcblxuICAgICAgICB2YXIgc2V0dXBPcHRpb25zID0ge1xuICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCB3aGVuIGNhbGxpbmcgc2V0Q29udGVudFxuICAgICAgICAgIC8vIChzdWNoIGFzIGZyb20gdGhlIHNvdXJjZSBlZGl0b3IgcG9wdXApXG4gICAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKGVkKSB7XG4gICAgICAgICAgICBlZC5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgICAgaWYgKGZvcm0pIHtcbiAgICAgICAgICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIG1vZGVsIG9uIGJ1dHRvbiBjbGlja1xuICAgICAgICAgICAgZWQub24oJ0V4ZWNDb21tYW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVkLnNhdmUoKTtcbiAgICAgICAgICAgICAgdXBkYXRlVmlldyhlZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIG1vZGVsIG9uIGNoYW5nZVxuICAgICAgICAgICAgZWQub24oJ2NoYW5nZSBOb2RlQ2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVkLnNhdmUoKTtcbiAgICAgICAgICAgICAgdXBkYXRlVmlldyhlZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWQub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWxlbWVudFswXS5ibHVyKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIG1vZGVsIHdoZW4gYW4gb2JqZWN0IGhhcyBiZWVuIHJlc2l6ZWQgKHRhYmxlLCBpbWFnZSlcbiAgICAgICAgICAgIGVkLm9uKCdPYmplY3RSZXNpemVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVkLnNhdmUoKTtcbiAgICAgICAgICAgICAgdXBkYXRlVmlldyhlZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWQub24oJ3JlbW92ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChleHByZXNzaW9uLnNldHVwKSB7XG4gICAgICAgICAgICAgIGV4cHJlc3Npb24uc2V0dXAoZWQsIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3OiB1cGRhdGVWaWV3XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9ybWF0OiBleHByZXNzaW9uLmZvcm1hdCB8fCAnaHRtbCcsXG4gICAgICAgICAgc2VsZWN0b3I6ICcjJyArIGF0dHJzLmlkXG4gICAgICAgIH07XG4gICAgICAgIC8vIGV4dGVuZCBvcHRpb25zIHdpdGggaW5pdGlhbCB1aVRpbnltY2VDb25maWcgYW5kXG4gICAgICAgIC8vIG9wdGlvbnMgZnJvbSBkaXJlY3RpdmUgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9wdGlvbnMsIHVpVGlueW1jZUNvbmZpZywgZXhwcmVzc2lvbiwgc2V0dXBPcHRpb25zKTtcbiAgICAgICAgLy8gV3JhcHBlZCBpbiAkdGltZW91dCBkdWUgdG8gJHRpbnltY2U6cmVmcmVzaCBpbXBsZW1lbnRhdGlvbiwgcmVxdWlyZXNcbiAgICAgICAgLy8gZWxlbWVudCB0byBiZSBwcmVzZW50IGluIERPTSBiZWZvcmUgaW5zdGFudGlhdGluZyBlZGl0b3Igd2hlblxuICAgICAgICAvLyByZS1yZW5kZXJpbmcgZGlyZWN0aXZlXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChvcHRpb25zLmJhc2VVUkwpe1xuICAgICAgICAgICAgdGlueW1jZS5iYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMOyAgICAgICAgICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgICB0aW55bWNlLmluaXQob3B0aW9ucyk7XG4gICAgICAgICAgdG9nZ2xlRGlzYWJsZShzY29wZS4kZXZhbChhdHRycy5uZ0Rpc2FibGVkKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWUgPyAkc2NlLnRydXN0QXNIdG1sKG1vZGVsVmFsdWUpIDogJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbih2aWV3VmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlID8gJHNjZS5nZXRUcnVzdGVkSHRtbCh2aWV3VmFsdWUpIDogJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICB2YXIgdmlld1ZhbHVlID0gbmdNb2RlbC4kdmlld1ZhbHVlID9cbiAgICAgICAgICAgICRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlKSA6ICcnO1xuXG4gICAgICAgICAgLy8gaW5zdGFuY2UuZ2V0RG9jKCkgY2hlY2sgaXMgYSBndWFyZCBhZ2FpbnN0IG51bGwgdmFsdWVcbiAgICAgICAgICAvLyB3aGVuIGRlc3RydWN0aW9uICYgcmVjcmVhdGlvbiBvZiBpbnN0YW5jZXMgaGFwcGVuXG4gICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSAmJlxuICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldERvYygpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aW55SW5zdGFuY2Uuc2V0Q29udGVudCh2aWV3VmFsdWUpO1xuICAgICAgICAgICAgLy8gVHJpZ2dlcmluZyBjaGFuZ2UgZXZlbnQgZHVlIHRvIFRpbnlNQ0Ugbm90IGZpcmluZyBldmVudCAmXG4gICAgICAgICAgICAvLyBiZWNvbWluZyBvdXQgb2Ygc3luYyBmb3IgY2hhbmdlIGNhbGxiYWNrc1xuICAgICAgICAgICAgdGlueUluc3RhbmNlLmZpcmUoJ2NoYW5nZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCB0b2dnbGVEaXNhYmxlKTtcblxuICAgICAgICAvLyBUaGlzIGJsb2NrIGlzIGJlY2F1c2Ugb2YgVGlueU1DRSBub3QgcGxheWluZyB3ZWxsIHdpdGggcmVtb3ZhbCBhbmRcbiAgICAgICAgLy8gcmVjcmVhdGlvbiBvZiBpbnN0YW5jZXMsIHJlcXVpcmluZyBpbnN0YW5jZXMgdG8gaGF2ZSBkaWZmZXJlbnRcbiAgICAgICAgLy8gc2VsZWN0b3JzIGluIG9yZGVyIHRvIHJlbmRlciBuZXcgaW5zdGFuY2VzIHByb3Blcmx5XG4gICAgICAgIHNjb3BlLiRvbignJHRpbnltY2U6cmVmcmVzaCcsIGZ1bmN0aW9uKGUsIGlkKSB7XG4gICAgICAgICAgdmFyIGVpZCA9IGF0dHJzLmlkO1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGlkKSB8fCBpZCA9PT0gZWlkKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsZW1lbnQucGFyZW50KCk7XG4gICAgICAgICAgICB2YXIgY2xvbmVkRWxlbWVudCA9IGVsZW1lbnQuY2xvbmUoKTtcbiAgICAgICAgICAgIGNsb25lZEVsZW1lbnQucmVtb3ZlQXR0cignaWQnKTtcbiAgICAgICAgICAgIGNsb25lZEVsZW1lbnQucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgIGNsb25lZEVsZW1lbnQucmVtb3ZlQXR0cignYXJpYS1oaWRkZW4nKTtcbiAgICAgICAgICAgIHRpbnltY2UuZXhlY0NvbW1hbmQoJ21jZVJlbW92ZUVkaXRvcicsIGZhbHNlLCBlaWQpO1xuICAgICAgICAgICAgcGFyZW50RWxlbWVudC5hcHBlbmQoJGNvbXBpbGUoY2xvbmVkRWxlbWVudCkoc2NvcGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGlueUluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGVuc3VyZUluc3RhbmNlKCkge1xuICAgICAgICAgIGlmICghdGlueUluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aW55SW5zdGFuY2UgPSB0aW55bWNlLmdldChhdHRycy5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIiwgW1wicmlzZXZpc2lvbi5jb21tb24uaTE4blwiXSlcbiAgICAuZGlyZWN0aXZlKFwid2lkZ2V0QnV0dG9uVG9vbGJhclwiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBzYXZlOiBcIiZcIixcbiAgICAgICAgICBjYW5jZWw6IFwiJlwiLFxuICAgICAgICAgIGRpc2FibGVTYXZlOiBcIiZcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyL3dpZGdldC1idXR0b24tdG9vbGJhci5odG1sXCIpXG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHVsbC1yaWdodFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJzYXZlXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1maXhlZC13aWR0aFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwic2F2ZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGlzYWJsZVNhdmUoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zYXZlXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJjYW5jZWxcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLWZpeGVkLXdpZHRoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJjYW5jZWwoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5jYW5jZWxcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsIFtcInVpLmJvb3RzdHJhcFwiXSlcbiAgICAuZGlyZWN0aXZlKFwicnZUb29sdGlwXCIsIFtmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBXCIsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtcXVlc3Rpb24tY2lyY2xlXCIpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYS1sZ1wiKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LnJzcy5jb25maWdcIiwgW10pXG4gICAgLnZhbHVlKFwibGF5b3V0NHgxXCIsIFwiaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3dpZGdldC1yc3MvMS4wLjAvZGlzdC9sYXlvdXQtNHgxLmh0bWxcIilcbiAgICAudmFsdWUoXCJsYXlvdXQyeDFcIiwgXCJodHRwczovL3MzLmFtYXpvbmF3cy5jb20vd2lkZ2V0LXJzcy8xLjAuMC9kaXN0L2xheW91dC0yeDEuaHRtbFwiKVxuICAgIC52YWx1ZShcImxheW91dDF4MlwiLCBcImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS93aWRnZXQtcnNzLzEuMC4wL2Rpc3QvbGF5b3V0LTF4Mi5odG1sXCIpO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbn1cblxudmFyIGNvbmZpZyA9IHt9O1xuXG5cblxuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LnJzcy5zZXR0aW5nc1wiLCBbXG4gIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LnJzcy5jb25maWdcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCJcbl0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiLCBbXSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb250cm9sbGVyKFwic2V0dGluZ3NDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcInNldHRpbmdzU2F2ZXJcIiwgXCJzZXR0aW5nc0dldHRlclwiLCBcInNldHRpbmdzQ2xvc2VyXCIsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgc2V0dGluZ3NTYXZlciwgc2V0dGluZ3NHZXR0ZXIsIHNldHRpbmdzQ2xvc2VyKSB7XG5cbiAgICAkc2NvcGUuc2V0dGluZ3MgPSB7IHBhcmFtczoge30sIGFkZGl0aW9uYWxQYXJhbXM6IHt9fTtcbiAgICAkc2NvcGUuYWxlcnRzID0gW107XG5cbiAgICAkc2NvcGUuZ2V0QWRkaXRpb25hbFBhcmFtID0gZnVuY3Rpb24gKG5hbWUsIGRlZmF1bHRWYWwpIHtcbiAgICAgIHZhciB2YWwgPSAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXTtcbiAgICAgIGlmKGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsKSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWRkaXRpb25hbFBhcmFtID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldHRpbmdzR2V0dGVyLmdldEFkZGl0aW9uYWxQYXJhbXMoKS50aGVuKGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zKSB7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zID0gYWRkaXRpb25hbFBhcmFtcztcbiAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCJsb2FkQWRkaXRpb25hbFBhcmFtc1wiLCBhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbiAoZXJyKSB7YWxlcnQgKGVycik7IH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0QWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChuYW1lLCB2YWwpIHtcbiAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdID0gdmFsO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9jbGVhciBvdXQgcHJldmlvdXMgYWxlcnRzLCBpZiBhbnlcbiAgICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCJjb2xsZWN0QWRkaXRpb25hbFBhcmFtc1wiKTtcblxuICAgICAgc2V0dGluZ3NTYXZlci5zYXZlU2V0dGluZ3MoJHNjb3BlLnNldHRpbmdzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9UT0RPOiBwZXJoYXBzIHNob3cgc29tZSBpbmRpY2F0b3IgaW4gVUk/XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLmNsb3NlU2V0dGluZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldHRpbmdzQ2xvc2VyLmNsb3NlU2V0dGluZ3MoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9UT0RPOlxuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAkc2NvcGUuYWxlcnRzID0gZXJyLmFsZXJ0cztcbiAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5zZXR0aW5ncy5wYXJhbXMgPSBzZXR0aW5nc0dldHRlci5nZXRQYXJhbXMoKTtcbiAgICAkc2NvcGUubG9hZEFkZGl0aW9uYWxQYXJhbXMoKTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZShcInNjcm9sbE9uQWxlcnRzXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogXCJBXCIsIC8vcmVzdHJpY3RzIHRvIGF0dHJpYnV0ZXNcbiAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsbSkge1xuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihcImFsZXJ0c1wiLCBmdW5jdGlvbiAobmV3QWxlcnRzLCBvbGRBbGVydHMpIHtcbiAgICAgICAgICBpZihuZXdBbGVydHMubGVuZ3RoID4gMCAmJiBvbGRBbGVydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAkKFwiYm9keVwiKS5hbmltYXRlKHtzY3JvbGxUb3A6ICRlbG0ub2Zmc2V0KCkudG9wfSwgXCJmYXN0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuY29uc3RhbnQoXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3Jpc2VtZWRpYWxpYnJhcnktXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRk9MREVSX1VSTF9CQVNFXCIsIFwiZ29vZ2xlYXBpcy5jb20vc3RvcmFnZS9cIilcbiAgLmZhY3RvcnkoXCJjb21tb25TZXR0aW5nc1wiLCBbXCIkbG9nXCIsIFwiU1RPUkFHRV9GSUxFX1VSTF9CQVNFXCIsIFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIixcbiAgICBmdW5jdGlvbiAoJGxvZywgU1RPUkFHRV9GSUxFX1VSTF9CQVNFLCBTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSkge1xuXG4gICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICBnZXRTdG9yYWdlVXJsRGF0YTogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgc3RvcmFnZSA9IHt9LFxuICAgICAgICAgIHN0ciwgYXJyLCBwYXJhbXMsIHBhaXI7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U3RvcmFnZVR5cGUoc3RvcmFnZVVybCkge1xuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3RvcmFnZVVybC5pbmRleE9mKFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBcImZvbGRlclwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29tcGFueUlkKHN0b3JhZ2VVcmwpIHtcbiAgICAgICAgICB2YXIgcCA9IHN0b3JhZ2VVcmwuc3BsaXQoXCJyaXNlbWVkaWFsaWJyYXJ5LVwiKTtcblxuICAgICAgICAgIHJldHVybiBwWzFdLnNsaWNlKDAsIHBbMV0uaW5kZXhPZihcIi9cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgICAgc3RyID0gdXJsLnNwbGl0KFNUT1JBR0VfRklMRV9VUkxfQkFTRSlbMV07XG4gICAgICAgICAgc3RyID0gZGVjb2RlVVJJQ29tcG9uZW50KHN0ci5zbGljZShzdHIuaW5kZXhPZihcIi9cIikgKyAxKSk7XG4gICAgICAgICAgYXJyID0gc3RyLnNwbGl0KFwiL1wiKTtcblxuICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgc3RvcmFnZS5maWxlTmFtZSA9IGFyci5wb3AoKTtcbiAgICAgICAgICBzdG9yYWdlLmZvbGRlciA9IGFyci5sZW5ndGggPiAwID8gYXJyLmpvaW4oXCIvXCIpIDogXCJcIjtcblxuICAgICAgICAgIGlmIChzdG9yYWdlLmZvbGRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgLy8gYWRkIGVuZGluZyBcIi9cIiB0byB0aGUgZm9sZGVyIHBhdGhcbiAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyICs9IFwiL1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZXRTdG9yYWdlVHlwZSh1cmwpID09PSBcImZvbGRlclwiKSB7XG4gICAgICAgICAgcGFyYW1zID0gdXJsLnNwbGl0KFwiP1wiKTtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlyID0gcGFyYW1zW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgICAgICAgaWYgKHBhaXJbMF0gPT09IFwicHJlZml4XCIgJiYgdHlwZW9mIHBhaXJbMV0gIT09IFwidW5kZWZpbmVkXCIgJiYgcGFpclsxXSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICBzdG9yYWdlLmNvbXBhbnlJZCA9IGdldENvbXBhbnlJZCh1cmwpO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZvbGRlciA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICAgICAgc3RvcmFnZS5maWxlTmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdG9yYWdlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdhZGdldHNBcGlcIiwgW1wiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuICAgIHJldHVybiAkd2luZG93LmdhZGdldHM7XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLnNlcnZpY2UoXCJpMThuTG9hZGVyXCIsIFtcIiR3aW5kb3dcIiwgXCIkcVwiLCBmdW5jdGlvbiAoJHdpbmRvdywgJHEpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgJHdpbmRvdy5pMThuLmluaXQoeyBcbiAgICAgIGZhbGxiYWNrTG5nOiBcImVuXCIsXG4gICAgICByZXNHZXRQYXRoOiBcImxvY2FsZXMvX19uc19fX19fbG5nX18uanNvblwiXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93LmkxOG4pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiaW1hZ2VWYWxpZGF0b3JcIiwgW1wiJHFcIiwgZnVuY3Rpb24gKCRxKSB7XG4gICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAvLyBWZXJpZnkgdGhhdCBVUkwgaXMgYSB2YWxpZCBpbWFnZSBmaWxlLlxuICAgICAgaXNJbWFnZTogZnVuY3Rpb24oc3JjKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NTYXZlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsIFwic2V0dGluZ3NQYXJzZXJcIixcbiAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYWRnZXRzQXBpLCBzZXR0aW5nc1BhcnNlcikge1xuXG4gICAgdGhpcy5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoc2V0dGluZ3MsIHZhbGlkYXRvcikge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBhbGVydHMgPSBbXSwgc3RyID0gXCJcIjtcblxuICAgICAgc2V0dGluZ3MgPSBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgIGFsZXJ0cyA9IHZhbGlkYXRvcihzZXR0aW5ncyk7XG4gICAgICB9XG5cbiAgICAgIGlmKGFsZXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJWYWxpZGF0aW9uIGZhaWxlZC5cIiwgYWxlcnRzKTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHthbGVydHM6IGFsZXJ0c30pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2V0dGluZ3MucGFyYW1zLmhhc093blByb3BlcnR5KFwibGF5b3V0VVJMXCIpKSB7XG4gICAgICAgIC8vIGVuc3VyZSB0aGUgdXJsIGlzIHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG4gICAgICAgIHN0ciArPSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMICsgXCI/XCI7XG4gICAgICAgIC8vIGRlbGV0ZSB0aGlzIHByb3BlcnR5IHNvIGl0cyBub3QgaW5jbHVkZWQgYmVsb3cgaW4gZW5jb2RlUGFyYW1zIGNhbGxcbiAgICAgICAgZGVsZXRlIHNldHRpbmdzLnBhcmFtcy5sYXlvdXRVUkw7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBzZXR0aW5nc1BhcnNlci5lbmNvZGVQYXJhbXMoc2V0dGluZ3MucGFyYW1zKTtcblxuICAgICAgdmFyIGFkZGl0aW9uYWxQYXJhbXNTdHIgPVxuICAgICAgICBzZXR0aW5nc1BhcnNlci5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zKHNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMpO1xuXG4gICAgICBnYWRnZXRzQXBpLnJwYy5jYWxsKFwiXCIsIFwicnNjbWRfc2F2ZVNldHRpbmdzXCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZyhcImVuY29kZWQgc2V0dGluZ3NcIiwgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgICRsb2cuZGVidWcoXCJTZXR0aW5ncyBzYXZlZC4gXCIsIHNldHRpbmdzKTtcblxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9LCB7XG4gICAgICAgIHBhcmFtczogc3RyLFxuICAgICAgICBhZGRpdGlvbmFsUGFyYW1zOiBhZGRpdGlvbmFsUGFyYW1zU3RyXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgICAgdmFyIG5ld1NldHRpbmdzID0gYW5ndWxhci5jb3B5KHNldHRpbmdzKTtcblxuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5pZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuY29tcGFueUlkO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc1c7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLnJzSDtcblxuICAgICAgcmV0dXJuIG5ld1NldHRpbmdzO1xuICAgIH1cblxuICB9XSlcblxuICAuc2VydmljZShcInNldHRpbmdzR2V0dGVyXCIsIFtcIiRxXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcIiRsb2dcIiwgXCJzZXR0aW5nc1BhcnNlclwiLCBcIiR3aW5kb3dcIiwgXCJkZWZhdWx0U2V0dGluZ3NcIixcbiAgICBmdW5jdGlvbiAoJHEsIGdhZGdldHNBcGksICRsb2csIHNldHRpbmdzUGFyc2VyLCAkd2luZG93LCBkZWZhdWx0U2V0dGluZ3MpIHtcblxuICAgICAgdGhpcy5nZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICB2YXIgZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMgPSBkZWZhdWx0U2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcyB8fCB7fTtcbiAgICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2dldEFkZGl0aW9uYWxQYXJhbXNcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc2V0dGluZ3NQYXJzZXIucGFyc2VBZGRpdGlvbmFsUGFyYW1zKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgICRsb2cuZGVidWcoXCJnZXRBZGRpdGlvbmFsUGFyYW1zIHJldHVybnMgXCIsIHJlc3VsdCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShhbmd1bGFyLmV4dGVuZChkZWZhdWx0QWRkaXRpb25hbFBhcmFtcywgcmVzdWx0KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0UGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgc2V0dGluZ3NQYXJzZXIucGFyc2VQYXJhbXMoJHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpKTtcbiAgICAgIH07XG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NQYXJzZXJcIiwgW2Z1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcnNlQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICBpZihhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFkZGl0aW9uYWxQYXJhbXNTdHIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICB2YXIgc3RyID0gW107XG4gICAgICBmb3IodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zW3BdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1twXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyLnB1c2goXCJ1cF9cIiArIGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xuICAgICAgaWYobmFtZS5pbmRleE9mKFwidXBfXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGFyc2VQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zU3RyKSB7XG4gICAgICAvL2dldCByaWQgb2YgcHJlY2VlZGluZyBcIj9cIlxuICAgICAgaWYocGFyYW1zU3RyWzBdID09PSBcIj9cIikge1xuICAgICAgICBwYXJhbXNTdHIgPSBwYXJhbXNTdHIuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgdmFycyA9IHBhcmFtc1N0ci5zcGxpdChcIiZcIik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHJpcFByZWZpeChkZWNvZGVVUklDb21wb25lbnQocGFpclswXSkpO1xuICAgICAgICAvL3NhdmUgc2V0dGluZ3Mgb25seSBpZiBpdCBoYXMgdXBfIHByZWZpeC4gSWdub3JlIG90aGVyd2lzZVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0Nsb3NlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSkge1xuXG4gICAgdGhpcy5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2Nsb3NlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHt9KTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnZpc3VhbGl6YXRpb25cIiwgW10pXG4gICAgLmZhY3RvcnkoXCJ2aXN1YWxpemF0aW9uQXBpXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHEsICR3aW5kb3cpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICBpZiAoISR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgJHdpbmRvdy5nb29nbGUuc2V0T25Mb2FkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LnJzcy5zZXR0aW5nc1wiKVxuICAuY29udHJvbGxlcihcInJzc1NldHRpbmdzQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCIkbG9nXCIsXG4gICAgZnVuY3Rpb24gKCRzY29wZS8qLCAkbG9nKi8pIHtcblxuICAgICAgLy8gY29udmVydGluZyBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kcyBhbmQgdmljZSB2ZXJzYVxuICAgICAgJHNjb3BlLiR3YXRjaChcImR1cmF0aW9uXCIsIGZ1bmN0aW9uICh2YWx1ZSl7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy50cmFuc2l0aW9uLmR1cmF0aW9uID0gdmFsdWUgKiAxMDAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICRzY29wZS4kd2F0Y2goXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnRyYW5zaXRpb24uZHVyYXRpb25cIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAkc2NvcGUuZHVyYXRpb24gPSB2YWx1ZSAvIDEwMDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5kYXRhU2VsZWN0aW9uLnNob3dUaXRsZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSAhPT0gXCJcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5oZWFkbGluZS5mb250U3R5bGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd1RpbWVzdGFtcFwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSAhPT0gXCJcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy50aW1lc3RhbXAuZm9udFN0eWxlID0ge307XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5kYXRhU2VsZWN0aW9uLnNob3dBdXRob3JcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgdmFsdWUgIT09IFwiXCIgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuYXV0aG9yLmZvbnRTdHlsZSA9IHt9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH1dKVxuICAudmFsdWUoXCJkZWZhdWx0U2V0dGluZ3NcIiwge1xuICAgIFwicGFyYW1zXCI6IHt9LFxuICAgIFwiYWRkaXRpb25hbFBhcmFtc1wiOiB7XG4gICAgICBcInVybFwiOiBcIlwiLFxuICAgICAgXCJpdGVtc0luUXVldWVcIjogNSxcbiAgICAgIFwiaXRlbXNUb1Nob3dcIjogMixcbiAgICAgIFwiaGVhZGxpbmVcIjoge1xuICAgICAgICBcImZvbnRTdHlsZVwiOiB7fVxuICAgICAgfSxcbiAgICAgIFwic3RvcnlcIjoge1xuICAgICAgICBcImZvbnRTdHlsZVwiOiB7fVxuICAgICAgfSxcbiAgICAgIFwidGltZXN0YW1wXCI6IHtcbiAgICAgICAgXCJmb250U3R5bGVcIjoge31cbiAgICAgIH0sXG4gICAgICBcImF1dGhvclwiOiB7XG4gICAgICAgIFwiZm9udFN0eWxlXCI6IHt9XG4gICAgICB9LFxuICAgICAgXCJ0cmFuc2l0aW9uXCI6IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwibm9uZVwiLFxuICAgICAgICBcImR1cmF0aW9uXCI6IDEwMDAwXG4gICAgICB9LFxuICAgICAgXCJkYXRhU2VsZWN0aW9uXCI6IHtcbiAgICAgICAgXCJzaG93VGl0bGVcIjogdHJ1ZSxcbiAgICAgICAgXCJzaG93VGltZXN0YW1wXCI6IHRydWUsXG4gICAgICAgIFwic2hvd0F1dGhvclwiOiB0cnVlLFxuICAgICAgICBcInNob3dJbWFnZVwiOiB0cnVlLFxuICAgICAgICBcInNob3dEZXNjcmlwdGlvblwiOiBcInNuaXBwZXRcIlxuICAgICAgfSxcbiAgICAgIFwibGF5b3V0XCI6IFwibGF5b3V0LTR4MVwiLFxuICAgICAgLy8gXCJsYXlvdXRVcmxcIjogXCJcIlxuICAgIH1cbiAgfSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
