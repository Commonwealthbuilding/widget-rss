!function(e,t){function n(e,t,n){var i=e.children(),o=!1;e.empty();for(var s=0,a=i.length;a>s;s++){var l=i.eq(s);if(e.append(l),n&&e.append(n),r(e,t)){l.remove(),o=!0;break}n&&n.detach()}return o}function i(t,n,s,a,l){var d=!1,u="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",c="script, .dotdotdot-keep";return t.contents().detach().each(function(){var f=this,h=e(f);if("undefined"==typeof f)return!0;if(h.is(c))t.append(h);else{if(d)return!0;t.append(h),!l||h.is(a.after)||h.find(a.after).length||t[t.is(u)?"after":"append"](l),r(s,a)&&(d=3==f.nodeType?o(h,n,s,a,l):i(h,n,s,a,l),d||(h.detach(),d=!0)),d||l&&l.detach()}}),n.addClass("is-truncated"),d}function o(t,n,i,o,a){var u=t[0];if(!u)return!1;var f=d(u),h=-1!==f.indexOf(" ")?" ":"　",p="letter"==o.wrap?"":h,g=f.split(p),m=-1,v=-1,S=0,y=g.length-1;for(o.fallbackToLetter&&0==S&&0==y&&(p="",g=f.split(p),y=g.length-1);y>=S&&(0!=S||0!=y);){var R=Math.floor((S+y)/2);if(R==v)break;v=R,l(u,g.slice(0,v+1).join(p)+o.ellipsis),i.children().each(function(){e(this).toggle().toggle()}),r(i,o)?(y=v,o.fallbackToLetter&&0==S&&0==y&&(p="",g=g[0].split(p),m=-1,v=-1,S=0,y=g.length-1)):(m=v,S=v)}if(-1==m||1==g.length&&0==g[0].length){var w=t.parent();t.detach();var C=a&&a.closest(w).length?a.length:0;w.contents().length>C?u=c(w.contents().eq(-1-C),n):(u=c(w,n,!0),C||w.detach()),u&&(f=s(d(u),o),l(u,f),C&&a&&e(u).parent().append(a))}else f=s(g.slice(0,m+1).join(p),o),l(u,f);return!0}function r(e,t){return e.innerHeight()>t.maxHeight}function s(t,n){for(;e.inArray(t.slice(-1),n.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),n.lastCharacter.noEllipsis)<0&&(t+=n.ellipsis),t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function d(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function u(e){do e=e.previousSibling;while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function c(t,n,i){var o,r=t&&t[0];if(r){if(!i){if(3===r.nodeType)return r;if(e.trim(t.text()))return c(t.contents().last(),n)}for(o=u(r);!o;){if(t=t.parent(),t.is(n)||!t.length)return!1;o=u(t[0])}if(o)return c(e(o),n)}return!1}function f(t,n){return t?"string"==typeof t?(t=e(t,n),t.length?t:!1):t.jquery?t:!1:!1}function h(e){for(var t=e.innerHeight(),n=["paddingTop","paddingBottom"],i=0,o=n.length;o>i;i++){var r=parseInt(e.css(n[i]),10);isNaN(r)&&(r=0),t-=r}return t}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(t)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(t,a){switch(o.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(o[0]);break;default:l.maxHeight=h(o)}l.maxHeight+=l.tolerance,"undefined"!=typeof a&&(("string"==typeof a||"nodeType"in a&&1===a.nodeType)&&(a=e("<div />").append(a).contents()),a instanceof e&&(s=a)),g=o.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var u=!1,c=!1;return d.afterElement&&(u=d.afterElement.clone(!0),u.show(),d.afterElement.detach()),r(g,l)&&(c="children"==l.wrap?n(g,l,u):i(g,o,g,l,u)),g.replaceWith(g.contents()),g=null,e.isFunction(l.callback)&&l.callback.call(o[0],c,s),d.isTruncated=c,c}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],d.isTruncated),d.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],s),s}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(s).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var t=e(window),n=t.width(),i=t.height();t.bind("resize.dot"+d.dotId,function(){n==t.width()&&i==t.height()&&l.windowResizeFix||(n=t.width(),i=t.height(),c&&clearInterval(c),c=setTimeout(function(){o.trigger("update.dot")},100))})}else u=a(o),c=setInterval(function(){if(o.is(":visible")){var e=a(o);(u.width!=e.width||u.height!=e.height)&&(o.trigger("update.dot"),u=e)}},500);return o},o.unwatch=function(){return e(window).unbind("resize.dot"+d.dotId),c&&clearInterval(c),o};var s=o.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,t),d={},u={},c=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),d.afterElement=f(l.after,o),d.isTruncated=!1,d.dotId=p++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(){};var p=1,g=e.fn.html;e.fn.html=function(n){return n!=t&&!e.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var m=e.fn.text;e.fn.text=function(n){return n!=t&&!e.isFunction(n)&&this.data("dotdotdot")?(n=e("<div />").text(n).html(),this.trigger("update",[n])):m.apply(this,arguments)}}}(jQuery);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family:"+t.font.family+"; ",i="color: "+(t.color?t.color:t.forecolor)+"; ",o="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),r="font-weight: "+(t.bold?"bold":"normal")+"; ",s="font-style: "+(t.italic?"italic":"normal")+"; ",a="text-decoration: "+(t.underline?"underline":"none")+"; ",l="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+"; ";return"."+e+" {"+n+i+o+r+s+a+l+"}"}function t(e){for(var t=document.createElement("style"),n=0,i=e.length;i>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,r){n.forEach(function(n){n.class&&n.fontSetting&&t([e(n.class,n.fontSetting)]),n.fontSetting.font.type&&("custom"===n.fontSetting.font.type&&n.fontSetting.font.family&&n.fontSetting.font.url?i(n.fontSetting.font.family,n.fontSetting.font.url,r):"google"===n.fontSetting.font.type&&n.fontSetting.font.family&&o(n.fontSetting.font.family,r))})}function i(e,t,n){var i=null,o="font-family: "+e+"; src: url('"+t+"');";n=n||document,i=n.styleSheets[0],null!==i&&i.addRule("@font-face",o)}function o(e,t){var n,i=document.createElement("link");t=t||document,i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),n=e.split(",")[0],n=n.replace(/'/g,""),i.setAttribute("href","https://fonts.googleapis.com/css?family="+n),null!==i&&t.getElementsByTagName("head")[0].appendChild(i)}function r(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i]=new Image,n[i].src=e[i]}function s(e){for(var t,n=window.location.search.substring(1),i=n.split("&"),o=0;o<i.length;o++)if(t=i[o].split("="),t[0]==e)return decodeURIComponent(t[1]);return""}function a(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}return{getQueryParameter:s,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:i,loadGoogleFont:o,preloadImages:r,getRiseCacheErrorMessage:a}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var i=null;e.event?(i=e,i.file_url&&(i.file_format=n(i.file_url)),i.company_id=a,i.display_id=s,t(i)):t(i)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,i=e.getUTCDate();return 10>n&&(n="0"+n),10>i&&(i="0"+i),t+n+i}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function i(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},i=JSON.parse(JSON.stringify(n));return i.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),i.rows[0].json=JSON.parse(JSON.stringify(e)),i.rows[0].json.ts=(new Date).toISOString(),i}function o(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function r(e,t){a=e,s=t}var s="",a="";return{getInsertData:i,getFileFormat:n,logEvent:o,setIds:r}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-d<358e4?e({}):(t.open("POST",o,!0),t.onloadend=function(){var n=JSON.parse(t.response);e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return s&&l===e}function i(i,o){function c(t){var n,s,a=new XMLHttpRequest;s=r.replace("TABLE_ID",i),d=t.refreshedAt||d,u=t.token||u,n=e.getInsertData(o),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),o.cb&&"function"==typeof o.cb&&(a.onloadend=function(){o.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!i||!o||o.hasOwnProperty("event")&&!o.event||o.hasOwnProperty("event")&&n(o.event)))return s=!0,l=o.event,setTimeout(function(){s=!1},a),t(c)}var o="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",r="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,l="",d=0,u="";return{log:i}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.RSS={},RiseVision.RSS=function(e,t){"use strict";function n(){t.rpc.call("","rsevent_ready",null,y.getString("id"),!0,!0,!0,!0,!0)}function i(){t.rpc.call("","rsevent_done",null,y.getString("id")),null!==E&&d(E,!0),d({event:"done",feed_url:S.url},!1)}function o(){var e={event:"error",event_details:"no feed items",feed_url:S.url};d(e,!0),m("There are no items to show from this RSS feed.")}function r(){clearTimeout(I),I=null}function s(){r(),I=setTimeout(function(){i()},5e3)}function a(){R=new RiseVision.Common.Message(e.getElementById("container"),e.getElementById("messageContainer")),R.show("Please wait while your feed is loaded.");var t=[{"class":"story_font-style",fontSetting:S.story.fontStyle}];S.headline&&!_.isEmpty(S.headline.fontStyle)&&t.push({"class":"headline_font-style",fontSetting:S.headline.fontStyle}),S.timestamp&&!_.isEmpty(S.timestamp.fontStyle)&&t.push({"class":"timestamp_font-style",fontSetting:S.timestamp.fontStyle}),S.author&&!_.isEmpty(S.author.fontStyle)&&t.push({"class":"author_font-style",fontSetting:S.author.fontStyle}),RiseVision.Common.Utilities.loadFonts(t),w=new RiseVision.RSS.RiseRSS(S),w.init(),n()}function l(){return"rss_events"}function d(e,t){t&&(E=e),RiseVision.Common.LoggerUtils.logEvent(l(),e)}function u(){i()}function c(e){console.log("onRiseRSSInit"),console.dir(e),C=new RiseVision.RSS.Content(y,S),e.items&&e.items.length>0?(R.hide(),T=_.clone(e),C.init(T),b||C.play()):o()}function f(e){console.log("onRiseRSSRefresh"),console.dir(e);var t=!1;if(e.items&&0!==e.items.length)if(T&&e.items.length===T.items.length){for(var n=0;n<T.items.length;n+=1)if(!_.isEqual(e.items[n],T.items[n])){t=!0;break}}else t=!0;else o();t&&(T=_.clone(e),V?(C||(C=new RiseVision.RSS.Content(y,S)),R.hide(),C.init(T),V=!1,E=null):C.update(e))}function h(){return b=!0,V?(r(),void 0):(C&&C.pause(),void 0)}function p(){return b=!1,d({event:"play",feed_url:S.url},!1),V?(s(),void 0):(C&&C.play(),void 0)}function g(n){S=JSON.parse(JSON.stringify(n)),y=new t.Prefs,S.width=y.getInt("rsW"),S.height=y.getInt("rsH"),e.getElementById("container").style.width=S.width+"px",e.getElementById("container").style.height=S.height+"px",a()}function m(e){V=!0,C.reset(),T=null,R.show(e),b||s()}function v(){h()}var S=null,y=new t.Prefs,R=null,w=null,C=null,T=null,b=!0,I=null,E=null,V=!1;return{getTableName:l,logEvent:d,onContentDone:u,onRiseRSSInit:c,onRiseRSSRefresh:f,pause:h,play:p,setAdditionalParams:g,showError:m,stop:v}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Utils=function(){"use strict";function e(e){var t,n,i=document.createElement("div");for(i.innerHTML=e,t=i.getElementsByTagName("script"),n=t.length;n--;)t[n].parentNode.removeChild(t[n]);return i.innerHTML}function t(e){var t=120;return e.length>t&&(e=e.substring(0,t),e=e.replace(/\w+$/,""),e+=" ..."),e}return{stripScripts:e,truncate:t}}();var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.RiseRSS=function(e){"use strict";function t(){var t=document.querySelector("rise-rss");t.addEventListener("rise-rss-response",function(e){e.detail&&e.detail.feed&&(n?(n=!1,RiseVision.RSS.onRiseRSSInit(e.detail.feed)):RiseVision.RSS.onRiseRSSRefresh(e.detail.feed))}),t.addEventListener("rise-rss-error",function(t){var n="";t.detail&&"string"==typeof t.detail?n=t.detail:t.detail&&Array.isArray(t.detail)&&t.detail.length>0&&(n=t.detail[0]);var i={event:"error",event_details:"rise rss error",error_details:n,feed_url:e.url};RiseVision.RSS.logEvent(i,!0),RiseVision.RSS.showError("Sorry, there was a problem with the RSS feed.",!0)}),t.setAttribute("url",e.url),e.itemsInQueue&&t.setAttribute("entries",e.itemsInQueue),t.go()}var n=!0;return{init:t}};var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Content=function(e,t){"use strict";function n(){R={page:$(".page")}}function i(){var n=w.length<=t.itemsToShow?w.length:t.itemsToShow;return e.getInt("rsH")/n}function o(e){var n={};return e+t.itemsToShow>=w.length-1?(n.itemsToShow=w.length-(e+1),n.currentItemIndex=w.length-1):(n.itemsToShow=t.itemsToShow,n.currentItemIndex=e+t.itemsToShow),n}function r(){var e={};return w.length<=t.itemsToShow?(e.itemsToShow=w.length,e.currentItemIndex=w.length-1):(e.itemsToShow=t.itemsToShow,e.currentItemIndex=t.itemsToShow-1),e}function s(e){var t=null;return _.has(e,"content:encoded")?t=e["content:encoded"]:_.has(e,"description")&&(t=e.description),t}function a(e){var t=null;return _.has(e,"dc:creator")?t=e["dc:creator"]:_.has(e,"author")&&(t=e.author),t}function l(e){var n,i,o=s(e),r=a(e),l=document.querySelector("#rssItem").content,d=$(l.cloneNode(!0));!e.title||"undefined"!=typeof t.dataSelection.showTitle&&!t.dataSelection.showTitle?d.find(".headline").remove():(d.find(".headline").css("textAlign",t.headline.fontStyle.align),d.find(".headline a").text(e.title));var u=!1;if(!e.pubdate||"undefined"!=typeof t.dataSelection.showTimestamp&&!t.dataSelection.showTimestamp)u=!0,d.find(".timestamp").remove();else{var c=new Date(e.pubdate),f={year:"numeric",month:"long",day:"numeric"},h=c.toLocaleDateString("en-us",f);t.timestamp&&d.find(".timestamp").css("textAlign",t.timestamp.fontStyle.align),d.find(".timestamp").text(h)}return!r||"undefined"!=typeof t.dataSelection.showAuthor&&!t.dataSelection.showAuthor?(u=!0,d.find(".author").remove()):(t.author&&d.find(".author").css("textAlign",t.author.fontStyle.align),d.find(".author").text(r)),u&&d.find(".separator").remove(),o?(n=d.find(".story"),n.css("textAlign",t.story.fontStyle.align),o=C.stripScripts(o),"snippet"===t.dataSelection.showDescription?n.html(C.truncate($("<div/>").html(o).text())):n.html(o),n.find("p").addClass("story_font-style"),n.find("div").addClass("story_font-style"),n.find("span").addClass("story_font-style")):d.remove(".story"),i=$(document.importNode(d[0],!0))}function d(e){"fade"===I.type?($(".item").one("transitionend",function(){u(e)}),$(".item").addClass("fade-out").removeClass("fade-in")):u(e)}function u(e){R.page.empty(),e&&"function"==typeof e&&e()}function c(e){R.page.append(l(w[e])),$(".item").height(i()),"fade"===I.type&&$(".item").addClass("fade-in"),$(".item").removeClass("hide"),$(".item").dotdotdot({height:i()})}function f(){var e,t,n=r(),i=o(T);return T===w.length-1?(p(),d(function(){for(var e=0;e<n.itemsToShow;e+=1)c(e);T=n.currentItemIndex,RiseVision.RSS.onContentDone()}),E=!1,void 0):(E?(e=0,E=!1,t=n.itemsToShow,T=n.currentItemIndex):(e=T+1,t=i.itemsToShow,T=i.currentItemIndex),d(function(){for(var n=e;e+t>n;n+=1)c(n)}),void 0)}function h(){null===b&&(b=setInterval(function(){f()},I.duration))}function p(){clearInterval(b),b=null}function g(e){var n;w=e.items,t.transition&&(I=t.transition),n=r(),T=n.currentItemIndex;for(var i=0;i<n.itemsToShow;i+=1)c(i)}function m(){p()}function v(){p(),d(),w=[]}function S(){h()}function y(e){w=e.items,E=!0}var R,w=[],C=RiseVision.RSS.Utils,T=0,b=null,I={type:"none",duration:1e4},E=!1;return n(),{init:g,pause:m,play:S,reset:v,update:y}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,t){"use strict";function n(){try{t.style.height=e.style.height}catch(n){console.warn("Can't initialize Message - ",n.message)}}function i(){if(r){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none",e.style.visibility="visible",r=!1}}function o(n){var i,o=document.createDocumentFragment();r?(i=t.querySelector(".message"),i.innerHTML=n):(e.style.visibility="hidden",t.style.display="block",i=document.createElement("p"),i.innerHTML=n,i.setAttribute("class","message"),o.appendChild(i),t.appendChild(o),r=!0)}var r=!1;return n(),{hide:i,show:o}},function(e,t,n){"use strict";function i(e,t){var n,i="",o="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(i=t[0]),"displayId"===e[1]&&(o=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(i,o),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),RiseVision.RSS.setAdditionalParams(n)))}function o(){RiseVision.RSS.play()}function r(){RiseVision.RSS.pause()}function s(){RiseVision.RSS.stop()}function a(){e.removeEventListener("WebComponentsReady",a),d&&""!==d&&(n.rpc.register("rscmd_play_"+d,o),n.rpc.register("rscmd_pause_"+d,r),n.rpc.register("rscmd_stop_"+d,s),n.rpc.register("rsparam_set_"+d,i),n.rpc.call("","rsparam_get",null,d,["companyId","displayId","additionalParams"]))}var l=new n.Prefs,d=l.getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},e.addEventListener("WebComponentsReady",a)}(window,document,gadgets);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiJCIsInVuZGVmIiwiY2hpbGRyZW4iLCIkZWxlbSIsIm8iLCJhZnRlciIsIiRlbGVtZW50cyIsImlzVHJ1bmNhdGVkIiwiZW1wdHkiLCJhIiwibCIsImxlbmd0aCIsIiRlIiwiZXEiLCJhcHBlbmQiLCJ0ZXN0IiwicmVtb3ZlIiwiZGV0YWNoIiwiZWxsaXBzaXMiLCIkZCIsIiRpIiwibm90eCIsIm5vdHkiLCJjb250ZW50cyIsImVhY2giLCJlIiwidGhpcyIsImlzIiwiZmluZCIsIm5vZGVUeXBlIiwiZWxsaXBzaXNFbGVtZW50IiwiYWRkQ2xhc3MiLCJ0eHQiLCJnZXRUZXh0Q29udGVudCIsInNwYWNlIiwiaW5kZXhPZiIsInNlcGFyYXRvciIsIndyYXAiLCJ0ZXh0QXJyIiwic3BsaXQiLCJwb3NpdGlvbiIsIm1pZFBvcyIsInN0YXJ0UG9zIiwiZW5kUG9zIiwiZmFsbGJhY2tUb0xldHRlciIsIm0iLCJNYXRoIiwiZmxvb3IiLCJzZXRUZXh0Q29udGVudCIsInNsaWNlIiwiam9pbiIsInRvZ2dsZSIsIiR3IiwicGFyZW50IiwiYWZ0ZXJMZW5ndGgiLCJjbG9zZXN0IiwiZmluZExhc3RUZXh0Tm9kZSIsImFkZEVsbGlwc2lzIiwiaW5uZXJIZWlnaHQiLCJtYXhIZWlnaHQiLCJpbkFycmF5IiwibGFzdENoYXJhY3RlciIsIm5vRWxsaXBzaXMiLCJnZXRTaXplcyIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImNvbnRlbnQiLCJpbm5lclRleHQiLCJub2RlVmFsdWUiLCJ0ZXh0Q29udGVudCIsImdldFByZXZOb2RlIiwibiIsInByZXZpb3VzU2libGluZyIsIiRlbCIsIiR0b3AiLCJleGNsdWRlQ3VycmVudCIsInAiLCJ0cmltIiwidGV4dCIsImxhc3QiLCJnZXRFbGVtZW50IiwianF1ZXJ5IiwiZ2V0VHJ1ZUlubmVySGVpZ2h0IiwiaCIsInoiLCJwYXJzZUludCIsImNzcyIsImlzTmFOIiwiZm4iLCJkb3Rkb3Rkb3QiLCJkZWJ1ZyIsInNlbGVjdG9yIiwiJGRvdCIsImRhdGEiLCJ0cmlnZ2VyIiwiYXR0ciIsImJpbmRfZXZlbnRzIiwiYmluZCIsImMiLCJyZW1vdmVDbGFzcyIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwib3B0cyIsImNhbGwiLCJ0b2xlcmFuY2UiLCJvcmdDb250ZW50IiwiJGluciIsIndyYXBJbm5lciIsImVuZCIsImNsb25lIiwicmVwbGFjZVdpdGgiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwidHJ1bmMiLCJjb25mIiwiYWZ0ZXJFbGVtZW50Iiwic2hvdyIsImlzRnVuY3Rpb24iLCJjYWxsYmFjayIsInVud2F0Y2giLCJ1bmJpbmRfZXZlbnRzIiwidW5iaW5kIiwid2F0Y2giLCIkd2luZG93Iiwid2luZG93IiwiX3dXaWR0aCIsIl93SGVpZ2h0IiwiZG90SWQiLCJ3aW5kb3dSZXNpemVGaXgiLCJ3YXRjaEludCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0Iiwid2F0Y2hPcmciLCJzZXRJbnRlcnZhbCIsIndhdGNoTmV3IiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJBcnJheSIsImRlZmF1bHRBcnJheXMiLCJfb3JnSHRtbCIsImh0bWwiLCJzdHIiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9vcmdUZXh0IiwialF1ZXJ5IiwiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SQUdFX0VOViIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJVdGlsaXRpZXMiLCJnZXRGb250Q3NzU3R5bGUiLCJjbGFzc05hbWUiLCJmb250T2JqIiwiZmFtaWx5IiwiZm9udCIsImNvbG9yIiwiZm9yZWNvbG9yIiwic2l6ZSIsIndlaWdodCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJoaWdobGlnaHQiLCJoaWdobGlnaHRDb2xvciIsImJhY2tjb2xvciIsImFkZENTU1J1bGVzIiwicnVsZXMiLCJzdHlsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImkiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiaGVhZCIsImxvYWRGb250cyIsInNldHRpbmdzIiwiY29udGVudERvYyIsImZvckVhY2giLCJpdGVtIiwiY2xhc3MiLCJmb250U2V0dGluZyIsInR5cGUiLCJ1cmwiLCJsb2FkQ3VzdG9tRm9udCIsImxvYWRHb29nbGVGb250Iiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiZmFtaWx5VmFsIiwic3R5bGVzaGVldCIsInNldEF0dHJpYnV0ZSIsInJlcGxhY2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJzcmMiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwicGFpciIsInF1ZXJ5IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ2YXJzIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsImVycm9yTWVzc2FnZSIsIkxvZ2dlclV0aWxzIiwiZ2V0RXZlbnRQYXJhbXMiLCJwYXJhbXMiLCJjYiIsImpzb24iLCJldmVudCIsImZpbGVfdXJsIiwiZmlsZV9mb3JtYXQiLCJnZXRGaWxlRm9ybWF0IiwiY29tcGFueV9pZCIsImNvbXBhbnlJZCIsImRpc3BsYXlfaWQiLCJkaXNwbGF5SWQiLCJnZXRTdWZmaXgiLCJkYXRlIiwiRGF0ZSIsInllYXIiLCJnZXRVVENGdWxsWWVhciIsIm1vbnRoIiwiZ2V0VVRDTW9udGgiLCJkYXkiLCJnZXRVVENEYXRlIiwiaGFzUGFyYW1zIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicmFuZG9tIiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRzIiwidG9JU09TdHJpbmciLCJsb2dFdmVudCIsInRhYmxlIiwiTG9nZ2VyIiwibG9nIiwic2V0SWRzIiwiY29tcGFueSIsImRpc3BsYXkiLCJ1dGlscyIsInJlZnJlc2hUb2tlbiIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVmcmVzaERhdGUiLCJvcGVuIiwiUkVGUkVTSF9VUkwiLCJvbmxvYWRlbmQiLCJyZXNwIiwicmVzcG9uc2UiLCJ0b2tlbiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hlZEF0Iiwic2VuZCIsImlzVGhyb3R0bGVkIiwidGhyb3R0bGUiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwic2V0UmVxdWVzdEhlYWRlciIsImhhc093blByb3BlcnR5IiwidGhyb3R0bGVEZWxheSIsIlJTUyIsImdhZGdldHMiLCJfcmVhZHkiLCJycGMiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJfZG9uZSIsIl9lcnJvckxvZyIsImZlZWRfdXJsIiwiX2FkZGl0aW9uYWxQYXJhbXMiLCJfbm9GZWVkSXRlbXMiLCJldmVudF9kZXRhaWxzIiwic2hvd0Vycm9yIiwiX2NsZWFyRXJyb3JUaW1lciIsImNsZWFyVGltZW91dCIsIl9lcnJvclRpbWVyIiwiX3N0YXJ0RXJyb3JUaW1lciIsIl9pbml0IiwiX21lc3NhZ2UiLCJNZXNzYWdlIiwiZ2V0RWxlbWVudEJ5SWQiLCJmb250U2V0dGluZ3MiLCJzdG9yeSIsImZvbnRTdHlsZSIsImhlYWRsaW5lIiwiXyIsImlzRW1wdHkiLCJwdXNoIiwidGltZXN0YW1wIiwiYXV0aG9yIiwiX3Jpc2Vyc3MiLCJSaXNlUlNTIiwiaW5pdCIsImdldFRhYmxlTmFtZSIsImlzRXJyb3IiLCJvbkNvbnRlbnREb25lIiwib25SaXNlUlNTSW5pdCIsImZlZWQiLCJjb25zb2xlIiwiZGlyIiwiX2NvbnRlbnQiLCJDb250ZW50IiwiaXRlbXMiLCJoaWRlIiwiX2N1cnJlbnRGZWVkIiwiX3ZpZXdlclBhdXNlZCIsInBsYXkiLCJvblJpc2VSU1NSZWZyZXNoIiwidXBkYXRlZCIsImlzRXF1YWwiLCJfZXJyb3JGbGFnIiwidXBkYXRlIiwicGF1c2UiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtcyIsIlByZWZzIiwiZ2V0SW50IiwibWVzc2FnZSIsInJlc2V0Iiwic3RvcCIsIlV0aWxzIiwic3RyaXBTY3JpcHRzIiwic2NyaXB0cyIsImRpdiIsImlubmVySFRNTCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInRydW5jYXRlIiwibWF4TGVuZ3RoIiwicnNzIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJlcnJvckRldGFpbHMiLCJpc0FycmF5IiwiZXJyb3JfZGV0YWlscyIsIml0ZW1zSW5RdWV1ZSIsImdvIiwicHJlZnMiLCJfY2FjaGUiLCJfJGVsIiwicGFnZSIsIl9nZXRJdGVtSGVpZ2h0IiwiaXRlbXNUb1Nob3ciLCJfaXRlbXMiLCJfZ2V0VHJhbnNpdGlvbkNvbmZpZyIsImluZGV4IiwiY29uZmlnIiwiY3VycmVudEl0ZW1JbmRleCIsIl9nZXRTdGFydENvbmZpZyIsIl9nZXRTdG9yeSIsImhhcyIsImRlc2NyaXB0aW9uIiwiX2dldEF1dGhvciIsIl9nZXRUZW1wbGF0ZSIsIiRzdG9yeSIsInRlbXBsYXRlIiwiJGNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0aXRsZSIsImRhdGFTZWxlY3Rpb24iLCJzaG93VGl0bGUiLCJhbGlnbiIsInJlbW92ZVNlcGFyYXRvciIsInB1YmRhdGUiLCJzaG93VGltZXN0YW1wIiwib3B0aW9ucyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInNob3dBdXRob3IiLCJfdXRpbHMiLCJzaG93RGVzY3JpcHRpb24iLCJpbXBvcnROb2RlIiwiX2NsZWFyIiwiX3RyYW5zaXRpb24iLCJvbmUiLCJfY2xlYXJQYWdlIiwiX3Nob3dJdGVtIiwiX21ha2VUcmFuc2l0aW9uIiwic3RhcnRpbmdJbmRleCIsInN0YXJ0Q29uZmlnIiwidHJhbnNDb25maWciLCJfY3VycmVudEl0ZW1JbmRleCIsIl9zdG9wVHJhbnNpdGlvblRpbWVyIiwiX3dhaXRpbmdGb3JVcGRhdGUiLCJfc3RhcnRUcmFuc2l0aW9uVGltZXIiLCJfdHJhbnNpdGlvbkludGVydmFsSWQiLCJkdXJhdGlvbiIsInRyYW5zaXRpb24iLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsIndhcm4iLCJfYWN0aXZlIiwiZmlyc3RDaGlsZCIsInZpc2liaWxpdHkiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjb25maWd1cmUiLCJuYW1lcyIsInZhbHVlcyIsIndlYkNvbXBvbmVudHNSZWFkeSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpZCIsInJlZ2lzdGVyIiwib25jb250ZXh0bWVudSIsImJvZHkiLCJvbm1vdXNlZG93biJdLCJtYXBwaW5ncyI6IkNBYUEsU0FBV0EsRUFBR0MsR0FpVGIsUUFBU0MsR0FBVUMsRUFBT0MsRUFBR0MsR0FFNUIsR0FBSUMsR0FBYUgsRUFBTUQsV0FDdEJLLEdBQWMsQ0FFZkosR0FBTUssT0FFTixLQUFNLEdBQUlDLEdBQUksRUFBR0MsRUFBSUosRUFBVUssT0FBWUQsRUFBSkQsRUFBT0EsSUFDOUMsQ0FDQyxHQUFJRyxHQUFLTixFQUFVTyxHQUFJSixFQU12QixJQUxBTixFQUFNVyxPQUFRRixHQUNUUCxHQUVKRixFQUFNVyxPQUFRVCxHQUVWVSxFQUFNWixFQUFPQyxHQUNsQixDQUNDUSxFQUFHSSxTQUNIVCxHQUFjLENBQ2QsT0FJS0YsR0FFSkEsRUFBTVksU0FJVCxNQUFPVixHQUVSLFFBQVNXLEdBQVVm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U0FBUyxlQUFpQkQsRUFBSUwsR0FDMUN4SSxFQUFRRSxJQUFJaE0sS0FBSyxHQUFJLGNBQWUsS0FBTTJVLEdBQUssWUFBYSxZQUFhLHNCQTdEN0UsR0FBSS9ELEdBQVEsR0FBSTlFLEdBQVFzRCxNQUN0QnVGLEVBQUsvRCxFQUFNMUUsVUFBVSxLQUd2QjVLLEdBQU91VCxjQUFnQixXQUNyQixPQUFPLEdBR1RyUSxFQUFTc1EsS0FBS0MsWUFBYyxXQUMxQixPQUFPLEdBd0RUelQsRUFBTzhPLGlCQUFpQixxQkFBc0JxRSxJQUc3Q25ULE9BQVFrRCxTQUFVc0giLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqXHRqUXVlcnkgZG90ZG90ZG90IDEuNy40XHJcbiAqXHJcbiAqXHRDb3B5cmlnaHQgKGMpIEZyZWQgSGV1c3NjaGVuXHJcbiAqXHR3d3cuZnJlYnNpdGUubmxcclxuICpcclxuICpcdFBsdWdpbiB3ZWJzaXRlOlxyXG4gKlx0ZG90ZG90ZG90LmZyZWJzaXRlLm5sXHJcbiAqXHJcbiAqXHRMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiAqXHRodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZiApXHJcbntcclxuXHRpZiAoICQuZm4uZG90ZG90ZG90IClcclxuXHR7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQkLmZuLmRvdGRvdGRvdCA9IGZ1bmN0aW9uKCBvIClcclxuXHR7XHJcblx0XHRpZiAoIHRoaXMubGVuZ3RoID09IDAgKVxyXG5cdFx0e1xyXG5cdFx0XHQkLmZuLmRvdGRvdGRvdC5kZWJ1ZyggJ05vIGVsZW1lbnQgZm91bmQgZm9yIFwiJyArIHRoaXMuc2VsZWN0b3IgKyAnXCIuJyApO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxIClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChcclxuXHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5kb3Rkb3Rkb3QoIG8gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHZhciAkZG90ID0gdGhpcztcclxuXHJcblx0XHRpZiAoICRkb3QuZGF0YSggJ2RvdGRvdGRvdCcgKSApXHJcblx0XHR7XHJcblx0XHRcdCRkb3QudHJpZ2dlciggJ2Rlc3Ryb3kuZG90JyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdCRkb3QuZGF0YSggJ2RvdGRvdGRvdC1zdHlsZScsICRkb3QuYXR0ciggJ3N0eWxlJyApIHx8ICcnICk7XHJcblx0XHQkZG90LmNzcyggJ3dvcmQtd3JhcCcsICdicmVhay13b3JkJyApO1xyXG5cdFx0aWYgKCRkb3QuY3NzKCAnd2hpdGUtc3BhY2UnICkgPT09ICdub3dyYXAnKVxyXG5cdFx0e1xyXG5cdFx0XHQkZG90LmNzcyggJ3doaXRlLXNwYWNlJywgJ25vcm1hbCcgKTtcclxuXHRcdH1cclxuXHJcblx0XHQkZG90LmJpbmRfZXZlbnRzID0gZnVuY3Rpb24oKVxyXG5cdFx0e1xyXG5cdFx0XHQkZG90LmJpbmQoXHJcblx0XHRcdFx0J3VwZGF0ZS5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlLCBjIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkZG90LnJlbW92ZUNsYXNzKFwiaXMtdHJ1bmNhdGVkXCIpO1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRzd2l0Y2goIHR5cGVvZiBvcHRzLmhlaWdodCApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ251bWJlcic6XHJcblx0XHRcdFx0XHRcdFx0b3B0cy5tYXhIZWlnaHQgPSBvcHRzLmhlaWdodDtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgJ2Z1bmN0aW9uJzpcclxuXHRcdFx0XHRcdFx0XHRvcHRzLm1heEhlaWdodCA9IG9wdHMuaGVpZ2h0LmNhbGwoICRkb3RbIDAgXSApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHRvcHRzLm1heEhlaWdodCA9IGdldFRydWVJbm5lckhlaWdodCggJGRvdCApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG9wdHMubWF4SGVpZ2h0ICs9IG9wdHMudG9sZXJhbmNlO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGMgIT0gJ3VuZGVmaW5lZCcgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiBjID09ICdzdHJpbmcnIHx8ICgnbm9kZVR5cGUnIGluIGMgJiYgYy5ub2RlVHlwZSA9PT0gMSkgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHQgXHRcdGMgPSAkKCc8ZGl2IC8+JykuYXBwZW5kKCBjICkuY29udGVudHMoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIGMgaW5zdGFuY2VvZiAkIClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdG9yZ0NvbnRlbnQgPSBjO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0JGluciA9ICRkb3Qud3JhcElubmVyKCAnPGRpdiBjbGFzcz1cImRvdGRvdGRvdFwiIC8+JyApLmNoaWxkcmVuKCk7XHJcblx0XHRcdFx0XHQkaW5yLmNvbnRlbnRzKClcclxuXHRcdFx0XHRcdFx0LmRldGFjaCgpXHJcblx0XHRcdFx0XHRcdC5lbmQoKVxyXG5cdFx0XHRcdFx0XHQuYXBwZW5kKCBvcmdDb250ZW50LmNsb25lKCB0cnVlICkgKVxyXG5cdFx0XHRcdFx0XHQuZmluZCggJ2JyJyApXHJcblx0XHRcdFx0XHRcdC5yZXBsYWNlV2l0aCggJyAgPGJyIC8+ICAnIClcclxuXHRcdFx0XHRcdFx0LmVuZCgpXHJcblx0XHRcdFx0XHRcdC5jc3Moe1xyXG5cdFx0XHRcdFx0XHRcdCdoZWlnaHQnXHQ6ICdhdXRvJyxcclxuXHRcdFx0XHRcdFx0XHQnd2lkdGgnXHRcdDogJ2F1dG8nLFxyXG5cdFx0XHRcdFx0XHRcdCdib3JkZXInXHQ6ICdub25lJyxcclxuXHRcdFx0XHRcdFx0XHQncGFkZGluZydcdDogMCxcclxuXHRcdFx0XHRcdFx0XHQnbWFyZ2luJ1x0OiAwXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHZhciBhZnRlciA9IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHR0cnVuYyA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdGlmICggY29uZi5hZnRlckVsZW1lbnQgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhZnRlciA9IGNvbmYuYWZ0ZXJFbGVtZW50LmNsb25lKCB0cnVlICk7XHJcblx0XHRcdFx0XHQgICAgYWZ0ZXIuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRjb25mLmFmdGVyRWxlbWVudC5kZXRhY2goKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIHRlc3QoICRpbnIsIG9wdHMgKSApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmICggb3B0cy53cmFwID09ICdjaGlsZHJlbicgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dHJ1bmMgPSBjaGlsZHJlbiggJGluciwgb3B0cywgYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0cnVuYyA9IGVsbGlwc2lzKCAkaW5yLCAkZG90LCAkaW5yLCBvcHRzLCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkaW5yLnJlcGxhY2VXaXRoKCAkaW5yLmNvbnRlbnRzKCkgKTtcclxuXHRcdFx0XHRcdCRpbnIgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBvcHRzLmNhbGxiYWNrICkgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRvcHRzLmNhbGxiYWNrLmNhbGwoICRkb3RbIDAgXSwgdHJ1bmMsIG9yZ0NvbnRlbnQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb25mLmlzVHJ1bmNhdGVkID0gdHJ1bmM7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1bmM7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0KS5iaW5kKFxyXG5cdFx0XHRcdCdpc1RydW5jYXRlZC5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlLCBmbiApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Zm4uY2FsbCggJGRvdFsgMCBdLCBjb25mLmlzVHJ1bmNhdGVkICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gY29uZi5pc1RydW5jYXRlZDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHQpLmJpbmQoXHJcblx0XHRcdFx0J29yaWdpbmFsQ29udGVudC5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlLCBmbiApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Zm4uY2FsbCggJGRvdFsgMCBdLCBvcmdDb250ZW50ICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gb3JnQ29udGVudDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHQpLmJpbmQoXHJcblx0XHRcdFx0J2Rlc3Ryb3kuZG90JyxcclxuXHRcdFx0XHRmdW5jdGlvbiggZSApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHQkZG90LnVud2F0Y2goKVxyXG5cdFx0XHRcdFx0XHQudW5iaW5kX2V2ZW50cygpXHJcblx0XHRcdFx0XHRcdC5jb250ZW50cygpXHJcblx0XHRcdFx0XHRcdC5kZXRhY2goKVxyXG5cdFx0XHRcdFx0XHQuZW5kKClcclxuXHRcdFx0XHRcdFx0LmFwcGVuZCggb3JnQ29udGVudCApXHJcblx0XHRcdFx0XHRcdC5hdHRyKCAnc3R5bGUnLCAkZG90LmRhdGEoICdkb3Rkb3Rkb3Qtc3R5bGUnICkgfHwgJycgKVxyXG5cdFx0XHRcdFx0XHQuZGF0YSggJ2RvdGRvdGRvdCcsIGZhbHNlICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXR1cm4gJGRvdDtcclxuXHRcdH07XHQvL1x0L2JpbmRfZXZlbnRzXHJcblxyXG5cdFx0JGRvdC51bmJpbmRfZXZlbnRzID0gZnVuY3Rpb24oKVxyXG5cdFx0e1xyXG5cdFx0XHQkZG90LnVuYmluZCgnLmRvdCcpO1xyXG5cdFx0XHRyZXR1cm4gJGRvdDtcclxuXHRcdH07XHQvL1x0L3VuYmluZF9ldmVudHNcclxuXHJcblx0XHQkZG90LndhdGNoID0gZnVuY3Rpb24oKVxyXG5cdFx0e1xyXG5cdFx0XHQkZG90LnVud2F0Y2goKTtcclxuXHRcdFx0aWYgKCBvcHRzLndhdGNoID09ICd3aW5kb3cnIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZhciAkd2luZG93ID0gJCh3aW5kb3cpLFxyXG5cdFx0XHRcdFx0X3dXaWR0aCA9ICR3aW5kb3cud2lkdGgoKSxcclxuXHRcdFx0XHRcdF93SGVpZ2h0ID0gJHdpbmRvdy5oZWlnaHQoKTtcclxuXHJcblx0XHRcdFx0JHdpbmRvdy5iaW5kKFxyXG5cdFx0XHRcdFx0J3Jlc2l6ZS5kb3QnICsgY29uZi5kb3RJZCxcclxuXHRcdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0aWYgKCBfd1dpZHRoICE9ICR3aW5kb3cud2lkdGgoKSB8fCBfd0hlaWdodCAhPSAkd2luZG93LmhlaWdodCgpIHx8ICFvcHRzLndpbmRvd1Jlc2l6ZUZpeCApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRfd1dpZHRoID0gJHdpbmRvdy53aWR0aCgpO1xyXG5cdFx0XHRcdFx0XHRcdF93SGVpZ2h0ID0gJHdpbmRvdy5oZWlnaHQoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKCB3YXRjaEludCApXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggd2F0Y2hJbnQgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0d2F0Y2hJbnQgPSBzZXRUaW1lb3V0KFxyXG5cdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkZG90LnRyaWdnZXIoICd1cGRhdGUuZG90JyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSwgMTAwXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0d2F0Y2hPcmcgPSBnZXRTaXplcyggJGRvdCApO1xyXG5cdFx0XHRcdHdhdGNoSW50ID0gc2V0SW50ZXJ2YWwoXHJcblx0XHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmICggJGRvdC5pcyggJzp2aXNpYmxlJyApIClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHZhciB3YXRjaE5ldyA9IGdldFNpemVzKCAkZG90ICk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCB3YXRjaE9yZy53aWR0aCAgIT0gd2F0Y2hOZXcud2lkdGggfHxcclxuXHRcdFx0XHRcdFx0XHRcdCB3YXRjaE9yZy5oZWlnaHQgIT0gd2F0Y2hOZXcuaGVpZ2h0IClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHQkZG90LnRyaWdnZXIoICd1cGRhdGUuZG90JyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0d2F0Y2hPcmcgPSB3YXRjaE5ldztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIDUwMFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICRkb3Q7XHJcblx0XHR9O1xyXG5cdFx0JGRvdC51bndhdGNoID0gZnVuY3Rpb24oKVxyXG5cdFx0e1xyXG5cdFx0XHQkKHdpbmRvdykudW5iaW5kKCAncmVzaXplLmRvdCcgKyBjb25mLmRvdElkICk7XHJcblx0XHRcdGlmICggd2F0Y2hJbnQgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggd2F0Y2hJbnQgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJGRvdDtcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyXHRvcmdDb250ZW50XHQ9ICRkb3QuY29udGVudHMoKSxcclxuXHRcdFx0b3B0cyBcdFx0PSAkLmV4dGVuZCggdHJ1ZSwge30sICQuZm4uZG90ZG90ZG90LmRlZmF1bHRzLCBvICksXHJcblx0XHRcdGNvbmZcdFx0PSB7fSxcclxuXHRcdFx0d2F0Y2hPcmdcdD0ge30sXHJcblx0XHRcdHdhdGNoSW50XHQ9IG51bGwsXHJcblx0XHRcdCRpbnJcdFx0PSBudWxsO1xyXG5cclxuXHJcblx0XHRpZiAoICEoIG9wdHMubGFzdENoYXJhY3Rlci5yZW1vdmUgaW5zdGFuY2VvZiBBcnJheSApIClcclxuXHRcdHtcclxuXHRcdFx0b3B0cy5sYXN0Q2hhcmFjdGVyLnJlbW92ZSA9ICQuZm4uZG90ZG90ZG90LmRlZmF1bHRBcnJheXMubGFzdENoYXJhY3Rlci5yZW1vdmU7XHJcblx0XHR9XHJcblx0XHRpZiAoICEoIG9wdHMubGFzdENoYXJhY3Rlci5ub0VsbGlwc2lzIGluc3RhbmNlb2YgQXJyYXkgKSApXHJcblx0XHR7XHJcblx0XHRcdG9wdHMubGFzdENoYXJhY3Rlci5ub0VsbGlwc2lzID0gJC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdEFycmF5cy5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXM7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGNvbmYuYWZ0ZXJFbGVtZW50XHQ9IGdldEVsZW1lbnQoIG9wdHMuYWZ0ZXIsICRkb3QgKTtcclxuXHRcdGNvbmYuaXNUcnVuY2F0ZWRcdD0gZmFsc2U7XHJcblx0XHRjb25mLmRvdElkXHRcdFx0PSBkb3RJZCsrO1xyXG5cclxuXHJcblx0XHQkZG90LmRhdGEoICdkb3Rkb3Rkb3QnLCB0cnVlIClcclxuXHRcdFx0LmJpbmRfZXZlbnRzKClcclxuXHRcdFx0LnRyaWdnZXIoICd1cGRhdGUuZG90JyApO1xyXG5cclxuXHRcdGlmICggb3B0cy53YXRjaCApXHJcblx0XHR7XHJcblx0XHRcdCRkb3Qud2F0Y2goKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gJGRvdDtcclxuXHR9O1xyXG5cclxuXHJcblx0Ly9cdHB1YmxpY1xyXG5cdCQuZm4uZG90ZG90ZG90LmRlZmF1bHRzID0ge1xyXG5cdFx0J2VsbGlwc2lzJ1x0XHRcdDogJy4uLiAnLFxyXG5cdFx0J3dyYXAnXHRcdFx0XHQ6ICd3b3JkJyxcclxuXHRcdCdmYWxsYmFja1RvTGV0dGVyJ1x0OiB0cnVlLFxyXG5cdFx0J2xhc3RDaGFyYWN0ZXInXHRcdDoge30sXHJcblx0XHQndG9sZXJhbmNlJ1x0XHRcdDogMCxcclxuXHRcdCdjYWxsYmFjaydcdFx0XHQ6IG51bGwsXHJcblx0XHQnYWZ0ZXInXHRcdFx0XHQ6IG51bGwsXHJcblx0XHQnaGVpZ2h0J1x0XHRcdDogbnVsbCxcclxuXHRcdCd3YXRjaCdcdFx0XHRcdDogZmFsc2UsXHJcblx0XHQnd2luZG93UmVzaXplRml4J1x0OiB0cnVlXHJcblx0fTtcclxuXHQkLmZuLmRvdGRvdGRvdC5kZWZhdWx0QXJyYXlzID0ge1xyXG5cdFx0J2xhc3RDaGFyYWN0ZXInXHRcdDoge1xyXG5cdFx0XHQncmVtb3ZlJ1x0XHRcdDogWyAnICcsICdcXHUzMDAwJywgJywnLCAnOycsICcuJywgJyEnLCAnPycgXSxcclxuXHRcdFx0J25vRWxsaXBzaXMnXHRcdDogW11cclxuXHRcdH1cclxuXHR9O1xyXG5cdCQuZm4uZG90ZG90ZG90LmRlYnVnID0gZnVuY3Rpb24oIG1zZyApIHt9O1xyXG5cclxuXHJcblx0Ly9cdHByaXZhdGVcclxuXHR2YXIgZG90SWQgPSAxO1xyXG5cclxuXHRmdW5jdGlvbiBjaGlsZHJlbiggJGVsZW0sIG8sIGFmdGVyIClcclxuXHR7XHJcblx0XHR2YXIgJGVsZW1lbnRzIFx0PSAkZWxlbS5jaGlsZHJlbigpLFxyXG5cdFx0XHRpc1RydW5jYXRlZFx0PSBmYWxzZTtcclxuXHJcblx0XHQkZWxlbS5lbXB0eSgpO1xyXG5cclxuXHRcdGZvciAoIHZhciBhID0gMCwgbCA9ICRlbGVtZW50cy5sZW5ndGg7IGEgPCBsOyBhKysgKVxyXG5cdFx0e1xyXG5cdFx0XHR2YXIgJGUgPSAkZWxlbWVudHMuZXEoIGEgKTtcclxuXHRcdFx0JGVsZW0uYXBwZW5kKCAkZSApO1xyXG5cdFx0XHRpZiAoIGFmdGVyIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRlbGVtLmFwcGVuZCggYWZ0ZXIgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIHRlc3QoICRlbGVtLCBvICkgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JGUucmVtb3ZlKCk7XHJcblx0XHRcdFx0aXNUcnVuY2F0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmICggYWZ0ZXIgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFmdGVyLmRldGFjaCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGlzVHJ1bmNhdGVkO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBlbGxpcHNpcyggJGVsZW0sICRkLCAkaSwgbywgYWZ0ZXIgKVxyXG5cdHtcclxuXHRcdHZhciBpc1RydW5jYXRlZFx0PSBmYWxzZTtcclxuXHJcblx0XHQvL1x0RG9uJ3QgcHV0IHRoZSBlbGxpcHNpcyBkaXJlY3RseSBpbnNpZGUgdGhlc2UgZWxlbWVudHNcclxuXHRcdHZhciBub3R4ID0gJ2EsIHRhYmxlLCB0aGVhZCwgdGJvZHksIHRmb290LCB0ciwgY29sLCBjb2xncm91cCwgb2JqZWN0LCBlbWJlZCwgcGFyYW0sIG9sLCB1bCwgZGwsIGJsb2NrcXVvdGUsIHNlbGVjdCwgb3B0Z3JvdXAsIG9wdGlvbiwgdGV4dGFyZWEsIHNjcmlwdCwgc3R5bGUnO1xyXG5cclxuXHRcdC8vXHREb24ndCByZW1vdmUgdGhlc2UgZWxlbWVudHMgZXZlbiBpZiB0aGV5IGFyZSBhZnRlciB0aGUgZWxsaXBzaXNcclxuXHRcdHZhciBub3R5ID0gJ3NjcmlwdCwgLmRvdGRvdGRvdC1rZWVwJztcclxuXHJcblx0XHQkZWxlbVxyXG5cdFx0XHQuY29udGVudHMoKVxyXG5cdFx0XHQuZGV0YWNoKClcclxuXHRcdFx0LmVhY2goXHJcblx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdHtcclxuXHJcblx0XHRcdFx0XHR2YXIgZVx0PSB0aGlzLFxyXG5cdFx0XHRcdFx0XHQkZVx0PSAkKGUpO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGUgPT0gJ3VuZGVmaW5lZCcgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYgKCAkZS5pcyggbm90eSApIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0JGVsZW0uYXBwZW5kKCAkZSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoIGlzVHJ1bmNhdGVkIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdCRlbGVtLmFwcGVuZCggJGUgKTtcclxuXHRcdFx0XHRcdFx0aWYgKCBhZnRlciAmJiAhJGUuaXMoIG8uYWZ0ZXIgKSAmJiAhJGUuZmluZCggby5hZnRlciApLmxlbmd0aCAgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0JGVsZW1bICRlbGVtLmlzKCBub3R4ICkgPyAnYWZ0ZXInIDogJ2FwcGVuZCcgXSggYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIHRlc3QoICRpLCBvICkgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBlLm5vZGVUeXBlID09IDMgKSAvLyBub2RlIGlzIFRFWFRcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRpc1RydW5jYXRlZCA9IGVsbGlwc2lzRWxlbWVudCggJGUsICRkLCAkaSwgbywgYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlzVHJ1bmNhdGVkID0gZWxsaXBzaXMoICRlLCAkZCwgJGksIG8sIGFmdGVyICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoICFpc1RydW5jYXRlZCApXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0JGUuZGV0YWNoKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRpc1RydW5jYXRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoICFpc1RydW5jYXRlZCApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGFmdGVyIClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRhZnRlci5kZXRhY2goKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHQkZC5hZGRDbGFzcyhcImlzLXRydW5jYXRlZFwiKTtcclxuXHRcdHJldHVybiBpc1RydW5jYXRlZDtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZWxsaXBzaXNFbGVtZW50KCAkZSwgJGQsICRpLCBvLCBhZnRlciApXHJcblx0e1xyXG5cdFx0dmFyIGUgPSAkZVsgMCBdO1xyXG5cclxuXHRcdGlmICggIWUgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHR4dFx0XHRcdD0gZ2V0VGV4dENvbnRlbnQoIGUgKSxcclxuXHRcdFx0c3BhY2VcdFx0PSAoIHR4dC5pbmRleE9mKCcgJykgIT09IC0xICkgPyAnICcgOiAnXFx1MzAwMCcsXHJcblx0XHRcdHNlcGFyYXRvclx0PSAoIG8ud3JhcCA9PSAnbGV0dGVyJyApID8gJycgOiBzcGFjZSxcclxuXHRcdFx0dGV4dEFyclx0XHQ9IHR4dC5zcGxpdCggc2VwYXJhdG9yICksXHJcblx0XHRcdHBvc2l0aW9uIFx0PSAtMSxcclxuXHRcdFx0bWlkUG9zXHRcdD0gLTEsXHJcblx0XHRcdHN0YXJ0UG9zXHQ9IDAsXHJcblx0XHRcdGVuZFBvc1x0XHQ9IHRleHRBcnIubGVuZ3RoIC0gMTtcclxuXHJcblxyXG5cdFx0Ly9cdE9ubHkgb25lIHdvcmRcclxuXHRcdGlmICggby5mYWxsYmFja1RvTGV0dGVyICYmIHN0YXJ0UG9zID09IDAgJiYgZW5kUG9zID09IDAgKVxyXG5cdFx0e1xyXG5cdFx0XHRzZXBhcmF0b3JcdD0gJyc7XHJcblx0XHRcdHRleHRBcnJcdFx0PSB0eHQuc3BsaXQoIHNlcGFyYXRvciApO1xyXG5cdFx0XHRlbmRQb3NcdFx0PSB0ZXh0QXJyLmxlbmd0aCAtIDE7XHJcblx0XHR9XHJcblxyXG5cdFx0d2hpbGUgKCBzdGFydFBvcyA8PSBlbmRQb3MgJiYgISggc3RhcnRQb3MgPT0gMCAmJiBlbmRQb3MgPT0gMCApIClcclxuXHRcdHtcclxuXHRcdFx0dmFyIG0gPSBNYXRoLmZsb29yKCAoIHN0YXJ0UG9zICsgZW5kUG9zICkgLyAyICk7XHJcblx0XHRcdGlmICggbSA9PSBtaWRQb3MgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0bWlkUG9zID0gbTtcclxuXHJcblx0XHRcdHNldFRleHRDb250ZW50KCBlLCB0ZXh0QXJyLnNsaWNlKCAwLCBtaWRQb3MgKyAxICkuam9pbiggc2VwYXJhdG9yICkgKyBvLmVsbGlwc2lzICk7XHJcblx0XHRcdCRpLmNoaWxkcmVuKClcclxuXHRcdFx0XHQuZWFjaChcclxuXHRcdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS50b2dnbGUoKS50b2dnbGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0aWYgKCAhdGVzdCggJGksIG8gKSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRwb3NpdGlvbiA9IG1pZFBvcztcclxuXHRcdFx0XHRzdGFydFBvcyA9IG1pZFBvcztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHRlbmRQb3MgPSBtaWRQb3M7XHJcblxyXG5cdFx0XHRcdC8vXHRGYWxsYmFjayB0byBsZXR0ZXJcclxuXHRcdFx0XHRpZiAoby5mYWxsYmFja1RvTGV0dGVyICYmIHN0YXJ0UG9zID09IDAgJiYgZW5kUG9zID09IDAgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHNlcGFyYXRvclx0PSAnJztcclxuXHRcdFx0XHRcdHRleHRBcnJcdFx0PSB0ZXh0QXJyWyAwIF0uc3BsaXQoIHNlcGFyYXRvciApO1xyXG5cdFx0XHRcdFx0cG9zaXRpb25cdD0gLTE7XHJcblx0XHRcdFx0XHRtaWRQb3NcdFx0PSAtMTtcclxuXHRcdFx0XHRcdHN0YXJ0UG9zXHQ9IDA7XHJcblx0XHRcdFx0XHRlbmRQb3NcdFx0PSB0ZXh0QXJyLmxlbmd0aCAtIDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBwb3NpdGlvbiAhPSAtMSAmJiAhKCB0ZXh0QXJyLmxlbmd0aCA9PSAxICYmIHRleHRBcnJbIDAgXS5sZW5ndGggPT0gMCApIClcclxuXHRcdHtcclxuXHRcdFx0dHh0ID0gYWRkRWxsaXBzaXMoIHRleHRBcnIuc2xpY2UoIDAsIHBvc2l0aW9uICsgMSApLmpvaW4oIHNlcGFyYXRvciApLCBvICk7XHJcblx0XHRcdHNldFRleHRDb250ZW50KCBlLCB0eHQgKTtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdHtcclxuXHRcdFx0dmFyICR3ID0gJGUucGFyZW50KCk7XHJcblx0XHRcdCRlLmRldGFjaCgpO1xyXG5cclxuXHRcdFx0dmFyIGFmdGVyTGVuZ3RoID0gKCBhZnRlciAmJiBhZnRlci5jbG9zZXN0KCR3KS5sZW5ndGggKSA/IGFmdGVyLmxlbmd0aCA6IDA7XHJcblxyXG5cdFx0XHRpZiAoICR3LmNvbnRlbnRzKCkubGVuZ3RoID4gYWZ0ZXJMZW5ndGggKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZSA9IGZpbmRMYXN0VGV4dE5vZGUoICR3LmNvbnRlbnRzKCkuZXEoIC0xIC0gYWZ0ZXJMZW5ndGggKSwgJGQgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHRlID0gZmluZExhc3RUZXh0Tm9kZSggJHcsICRkLCB0cnVlICk7XHJcblx0XHRcdFx0aWYgKCAhYWZ0ZXJMZW5ndGggKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdCR3LmRldGFjaCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIGUgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHh0ID0gYWRkRWxsaXBzaXMoIGdldFRleHRDb250ZW50KCBlICksIG8gKTtcclxuXHRcdFx0XHRzZXRUZXh0Q29udGVudCggZSwgdHh0ICk7XHJcblx0XHRcdFx0aWYgKCBhZnRlckxlbmd0aCAmJiBhZnRlciApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JChlKS5wYXJlbnQoKS5hcHBlbmQoIGFmdGVyICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHRlc3QoICRpLCBvIClcclxuXHR7XHJcblx0XHRyZXR1cm4gJGkuaW5uZXJIZWlnaHQoKSA+IG8ubWF4SGVpZ2h0O1xyXG5cdH1cclxuXHRmdW5jdGlvbiBhZGRFbGxpcHNpcyggdHh0LCBvIClcclxuXHR7XHJcblx0XHR3aGlsZSggJC5pbkFycmF5KCB0eHQuc2xpY2UoIC0xICksIG8ubGFzdENoYXJhY3Rlci5yZW1vdmUgKSA+IC0xIClcclxuXHRcdHtcclxuXHRcdFx0dHh0ID0gdHh0LnNsaWNlKCAwLCAtMSApO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCAkLmluQXJyYXkoIHR4dC5zbGljZSggLTEgKSwgby5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXMgKSA8IDAgKVxyXG5cdFx0e1xyXG5cdFx0XHR0eHQgKz0gby5lbGxpcHNpcztcclxuXHRcdH1cclxuXHRcdHJldHVybiB0eHQ7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGdldFNpemVzKCAkZCApXHJcblx0e1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0J3dpZHRoJ1x0OiAkZC5pbm5lcldpZHRoKCksXHJcblx0XHRcdCdoZWlnaHQnOiAkZC5pbm5lckhlaWdodCgpXHJcblx0XHR9O1xyXG5cdH1cclxuXHRmdW5jdGlvbiBzZXRUZXh0Q29udGVudCggZSwgY29udGVudCApXHJcblx0e1xyXG5cdFx0aWYgKCBlLmlubmVyVGV4dCApXHJcblx0XHR7XHJcblx0XHRcdGUuaW5uZXJUZXh0ID0gY29udGVudDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKCBlLm5vZGVWYWx1ZSApXHJcblx0XHR7XHJcblx0XHRcdGUubm9kZVZhbHVlID0gY29udGVudDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKGUudGV4dENvbnRlbnQpXHJcblx0XHR7XHJcblx0XHRcdGUudGV4dENvbnRlbnQgPSBjb250ZW50O1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnQoIGUgKVxyXG5cdHtcclxuXHRcdGlmICggZS5pbm5lclRleHQgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZS5pbm5lclRleHQ7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICggZS5ub2RlVmFsdWUgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZS5ub2RlVmFsdWU7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICggZS50ZXh0Q29udGVudCApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBlLnRleHRDb250ZW50O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0UHJldk5vZGUoIG4gKVxyXG5cdHtcclxuXHRcdGRvXHJcblx0XHR7XHJcblx0XHRcdG4gPSBuLnByZXZpb3VzU2libGluZztcclxuXHRcdH1cclxuXHRcdHdoaWxlICggbiAmJiBuLm5vZGVUeXBlICE9PSAxICYmIG4ubm9kZVR5cGUgIT09IDMgKTtcclxuXHJcblx0XHRyZXR1cm4gbjtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZmluZExhc3RUZXh0Tm9kZSggJGVsLCAkdG9wLCBleGNsdWRlQ3VycmVudCApXHJcblx0e1xyXG5cdFx0dmFyIGUgPSAkZWwgJiYgJGVsWyAwIF0sIHA7XHJcblx0XHRpZiAoIGUgKVxyXG5cdFx0e1xyXG5cdFx0XHRpZiAoICFleGNsdWRlQ3VycmVudCApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZiAoIGUubm9kZVR5cGUgPT09IDMgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHJldHVybiBlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoICQudHJpbSggJGVsLnRleHQoKSApIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmluZExhc3RUZXh0Tm9kZSggJGVsLmNvbnRlbnRzKCkubGFzdCgpLCAkdG9wICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHAgPSBnZXRQcmV2Tm9kZSggZSApO1xyXG5cdFx0XHR3aGlsZSAoICFwIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRlbCA9ICRlbC5wYXJlbnQoKTtcclxuXHRcdFx0XHRpZiAoICRlbC5pcyggJHRvcCApIHx8ICEkZWwubGVuZ3RoIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHAgPSBnZXRQcmV2Tm9kZSggJGVsWzBdICk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCBwIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHJldHVybiBmaW5kTGFzdFRleHROb2RlKCAkKHApLCAkdG9wICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0RWxlbWVudCggZSwgJGkgKVxyXG5cdHtcclxuXHRcdGlmICggIWUgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAoIHR5cGVvZiBlID09PSAnc3RyaW5nJyApXHJcblx0XHR7XHJcblx0XHRcdGUgPSAkKGUsICRpKTtcclxuXHRcdFx0cmV0dXJuICggZS5sZW5ndGggKVxyXG5cdFx0XHRcdD8gZVxyXG5cdFx0XHRcdDogZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gIWUuanF1ZXJ5XHJcblx0XHRcdD8gZmFsc2VcclxuXHRcdFx0OiBlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRUcnVlSW5uZXJIZWlnaHQoICRlbCApXHJcblx0e1xyXG5cdFx0dmFyIGggPSAkZWwuaW5uZXJIZWlnaHQoKSxcclxuXHRcdFx0YSA9IFsgJ3BhZGRpbmdUb3AnLCAncGFkZGluZ0JvdHRvbScgXTtcclxuXHJcblx0XHRmb3IgKCB2YXIgeiA9IDAsIGwgPSBhLmxlbmd0aDsgeiA8IGw7IHorKyApXHJcblx0XHR7XHJcblx0XHRcdHZhciBtID0gcGFyc2VJbnQoICRlbC5jc3MoIGFbIHogXSApLCAxMCApO1xyXG5cdFx0XHRpZiAoIGlzTmFOKCBtICkgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bSA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0aCAtPSBtO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGg7XHJcblx0fVxyXG5cclxuXHJcblx0Ly9cdG92ZXJyaWRlIGpRdWVyeS5odG1sXHJcblx0dmFyIF9vcmdIdG1sID0gJC5mbi5odG1sO1xyXG5cdCQuZm4uaHRtbCA9IGZ1bmN0aW9uKCBzdHIgKVxyXG5cdHtcclxuXHRcdGlmICggc3RyICE9IHVuZGVmICYmICEkLmlzRnVuY3Rpb24oIHN0ciApICYmIHRoaXMuZGF0YSggJ2RvdGRvdGRvdCcgKSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiB0aGlzLnRyaWdnZXIoICd1cGRhdGUnLCBbIHN0ciBdICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gX29yZ0h0bWwuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdH07XHJcblxyXG5cclxuXHQvL1x0b3ZlcnJpZGUgalF1ZXJ5LnRleHRcclxuXHR2YXIgX29yZ1RleHQgPSAkLmZuLnRleHQ7XHJcblx0JC5mbi50ZXh0ID0gZnVuY3Rpb24oIHN0ciApXHJcblx0e1xyXG5cdFx0aWYgKCBzdHIgIT0gdW5kZWYgJiYgISQuaXNGdW5jdGlvbiggc3RyICkgJiYgdGhpcy5kYXRhKCAnZG90ZG90ZG90JyApIClcclxuXHRcdHtcclxuXHRcdFx0c3RyID0gJCggJzxkaXYgLz4nICkudGV4dCggc3RyICkuaHRtbCgpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy50cmlnZ2VyKCAndXBkYXRlJywgWyBzdHIgXSApO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIF9vcmdUZXh0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcclxuXHR9O1xyXG5cclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXG52YXIgV0lER0VUX0NPTU1PTl9DT05GSUcgPSB7XG4gIEFVVEhfUEFUSF9VUkw6IFwidjEvd2lkZ2V0L2F1dGhcIixcbiAgTE9HR0VSX0NMSUVOVF9JRDogXCIxMDg4NTI3MTQ3MTA5LTZxMW8ydnRpaG4zNDI5MnBqdDRja2htaGNrMHJrMG83LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tXCIsXG4gIExPR0dFUl9DTElFTlRfU0VDUkVUOiBcIm5sWnlyY1BMZzZvRXdPOWY5V2ZuMjlXaFwiLFxuICBMT0dHRVJfUkVGUkVTSF9UT0tFTjogXCIxL3h6dDRrd3pFMUg3VzlWbktCOGNBYUN4NnpiNEVzNG5LRW9xYVlIZFREMTVJZ09ySkR0ZHVuNnpLNlhpQVRDS1RcIixcbiAgU1RPUkFHRV9FTlY6IFwicHJvZFwiLFxuICBTVE9SRV9VUkw6IFwiaHR0cHM6Ly9zdG9yZS1kb3QtcnZhc2VydmVyMi5hcHBzcG90LmNvbS9cIlxufTtcbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzID0gKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGdldEZvbnRDc3NTdHlsZShjbGFzc05hbWUsIGZvbnRPYmopIHtcbiAgICB2YXIgZmFtaWx5ID0gXCJmb250LWZhbWlseTpcIiArIGZvbnRPYmouZm9udC5mYW1pbHkgKyBcIjsgXCI7XG4gICAgdmFyIGNvbG9yID0gXCJjb2xvcjogXCIgKyAoZm9udE9iai5jb2xvciA/IGZvbnRPYmouY29sb3IgOiBmb250T2JqLmZvcmVjb2xvcikgKyBcIjsgXCI7XG4gICAgdmFyIHNpemUgPSBcImZvbnQtc2l6ZTogXCIgKyAoZm9udE9iai5zaXplLmluZGV4T2YoXCJweFwiKSA9PT0gLTEgPyBmb250T2JqLnNpemUgKyBcInB4OyBcIiA6IGZvbnRPYmouc2l6ZSArIFwiOyBcIik7XG4gICAgdmFyIHdlaWdodCA9IFwiZm9udC13ZWlnaHQ6IFwiICsgKGZvbnRPYmouYm9sZCA/IFwiYm9sZFwiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIGl0YWxpYyA9IFwiZm9udC1zdHlsZTogXCIgKyAoZm9udE9iai5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIHVuZGVybGluZSA9IFwidGV4dC1kZWNvcmF0aW9uOiBcIiArIChmb250T2JqLnVuZGVybGluZSA/IFwidW5kZXJsaW5lXCIgOiBcIm5vbmVcIikgKyBcIjsgXCI7XG4gICAgdmFyIGhpZ2hsaWdodCA9IFwiYmFja2dyb3VuZC1jb2xvcjogXCIgKyAoZm9udE9iai5oaWdobGlnaHRDb2xvciA/IGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgOiBmb250T2JqLmJhY2tjb2xvcikgKyBcIjsgXCI7XG5cbiAgICByZXR1cm4gXCIuXCIgKyBjbGFzc05hbWUgKyBcIiB7XCIgKyBmYW1pbHkgKyBjb2xvciArIHNpemUgKyB3ZWlnaHQgKyBpdGFsaWMgKyB1bmRlcmxpbmUgKyBoaWdobGlnaHQgKyBcIn1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENTU1J1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShydWxlc1tpXSkpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgLypcbiAgICogTG9hZHMgR29vZ2xlIG9yIGN1c3RvbSBmb250cywgaWYgYXBwbGljYWJsZSwgYW5kIGluamVjdHMgQ1NTIHN0eWxlc1xuICAgKiBpbnRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgIGFycmF5ICAgIHNldHRpbmdzICAgIEFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm06XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJkYXRlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRTZXR0aW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJWZXJkYW5hXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdvb2dsZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly9jdXN0b20tZm9udC11cmxcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiMjBcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICpcbiAgICogICAgICAgICAgIG9iamVjdCAgIGNvbnRlbnREb2MgICAgRG9jdW1lbnQgb2JqZWN0IGludG8gd2hpY2ggdG8gaW5qZWN0IHN0eWxlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgbG9hZCBmb250cyAob3B0aW9uYWwpLlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZvbnRzKHNldHRpbmdzLCBjb250ZW50RG9jKSB7XG4gICAgc2V0dGluZ3MuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5jbGFzcyAmJiBpdGVtLmZvbnRTZXR0aW5nKSB7XG4gICAgICAgIGFkZENTU1J1bGVzKFsgZ2V0Rm9udENzc1N0eWxlKGl0ZW0uY2xhc3MsIGl0ZW0uZm9udFNldHRpbmcpIF0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUpIHtcbiAgICAgICAgaWYgKGl0ZW0uZm9udFNldHRpbmcuZm9udC50eXBlID09PSBcImN1c3RvbVwiICYmIGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHkgJiZcbiAgICAgICAgICBpdGVtLmZvbnRTZXR0aW5nLmZvbnQudXJsKSB7XG4gICAgICAgICAgbG9hZEN1c3RvbUZvbnQoaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSwgaXRlbS5mb250U2V0dGluZy5mb250LnVybCxcbiAgICAgICAgICAgIGNvbnRlbnREb2MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0uZm9udFNldHRpbmcuZm9udC50eXBlID09PSBcImdvb2dsZVwiICYmIGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHkpIHtcbiAgICAgICAgICBsb2FkR29vZ2xlRm9udChpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5LCBjb250ZW50RG9jKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5LCB1cmwsIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc2hlZXQgPSBudWxsO1xuICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHNoZWV0ID0gY29udGVudERvYy5zdHlsZVNoZWV0c1swXTtcblxuICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEdvb2dsZUZvbnQoZmFtaWx5LCBjb250ZW50RG9jKSB7XG4gICAgdmFyIHN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSxcbiAgICAgIGZhbWlseVZhbDtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpO1xuICAgIHN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHQvY3NzXCIpO1xuXG4gICAgLy8gc3BsaXQgdG8gYWNjb3VudCBmb3IgZmFtaWx5IHZhbHVlIGNvbnRhaW5pbmcgYSBmYWxsYmFjayAoZWcuIEFsYWRpbixzYW5zLXNlcmlmKVxuICAgIGZhbWlseVZhbCA9IGZhbWlseS5zcGxpdChcIixcIilbMF07XG5cbiAgICAvLyBzdHJpcCBwb3NzaWJsZSBzaW5nbGUgcXVvdGVzXG4gICAgZmFtaWx5VmFsID0gZmFtaWx5VmFsLnJlcGxhY2UoLycvZywgXCJcIik7XG5cbiAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIgKyBmYW1pbHlWYWwpO1xuXG4gICAgaWYgKHN0eWxlc2hlZXQgIT09IG51bGwpIHtcbiAgICAgIGNvbnRlbnREb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHN0eWxlc2hlZXQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIHZhciBsZW5ndGggPSB1cmxzLmxlbmd0aCxcbiAgICAgIGltYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbaV0uc3JjID0gdXJsc1tpXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtZXRlcihwYXJhbSkge1xuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLFxuICAgICAgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKSxcbiAgICAgIHBhaXI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgaWYgKHBhaXJbMF0gPT0gcGFyYW0pIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDQwNDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDc6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgaXMgbm90IGVub3VnaCBkaXNrIHNwYWNlIHRvIHNhdmUgdGhlIGZpbGUgb24gUmlzZSBDYWNoZS5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIHdhcyBhIHByb2JsZW0gcmV0cmlldmluZyB0aGUgZmlsZSBmcm9tIFJpc2UgQ2FjaGUuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0UXVlcnlQYXJhbWV0ZXI6IGdldFF1ZXJ5UGFyYW1ldGVyLFxuICAgIGdldEZvbnRDc3NTdHlsZTogIGdldEZvbnRDc3NTdHlsZSxcbiAgICBhZGRDU1NSdWxlczogICAgICBhZGRDU1NSdWxlcyxcbiAgICBsb2FkRm9udHM6ICAgICAgICBsb2FkRm9udHMsXG4gICAgbG9hZEN1c3RvbUZvbnQ6ICAgbG9hZEN1c3RvbUZvbnQsXG4gICAgbG9hZEdvb2dsZUZvbnQ6ICAgbG9hZEdvb2dsZUZvbnQsXG4gICAgcHJlbG9hZEltYWdlczogICAgcHJlbG9hZEltYWdlcyxcbiAgICBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2U6IGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZVxuICB9O1xufSkoKTtcblxuLyogZ2xvYmFsIGdhZGdldHMgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMgPSAoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gICB2YXIgZGlzcGxheUlkID0gXCJcIixcbiAgICBjb21wYW55SWQgPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiB5ZWFyICsgbW9udGggKyBkYXk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEZpbGVGb3JtYXQodXJsKSB7XG4gICAgdmFyIGhhc1BhcmFtcyA9IC9bPyMmXS8sXG4gICAgICBzdHI7XG5cbiAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdHIgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcblxuICAgIC8vIGRvbid0IGluY2x1ZGUgYW55IHBhcmFtcyBhZnRlciB0aGUgZmlsZW5hbWVcbiAgICBpZiAoaGFzUGFyYW1zLnRlc3Qoc3RyKSkge1xuICAgICAgc3RyID0gc3RyLnN1YnN0cigwICwoc3RyLmluZGV4T2YoXCI/XCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIj9cIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCIjXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiNcIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCImXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiZcIikgOiBzdHIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbnNlcnREYXRhKHBhcmFtcykge1xuICAgIHZhciBCQVNFX0lOU0VSVF9TQ0hFTUEgPSB7XG4gICAgICBcImtpbmRcIjogXCJiaWdxdWVyeSN0YWJsZURhdGFJbnNlcnRBbGxSZXF1ZXN0XCIsXG4gICAgICBcInNraXBJbnZhbGlkUm93c1wiOiBmYWxzZSxcbiAgICAgIFwiaWdub3JlVW5rbm93blZhbHVlc1wiOiBmYWxzZSxcbiAgICAgIFwidGVtcGxhdGVTdWZmaXhcIjogZ2V0U3VmZml4KCksXG4gICAgICBcInJvd3NcIjogW3tcbiAgICAgICAgXCJpbnNlcnRJZFwiOiBcIlwiXG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoQkFTRV9JTlNFUlRfU0NIRU1BKSk7XG5cbiAgICBkYXRhLnJvd3NbMF0uaW5zZXJ0SWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMikudG9VcHBlckNhc2UoKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24udHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHRhYmxlLCBwYXJhbXMpIHtcbiAgICBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgIGlmIChqc29uICE9PSBudWxsKSB7XG4gICAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlci5sb2codGFibGUsIGpzb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyogU2V0IHRoZSBDb21wYW55IGFuZCBEaXNwbGF5IElEcy4gKi9cbiAgZnVuY3Rpb24gc2V0SWRzKGNvbXBhbnksIGRpc3BsYXkpIHtcbiAgICBjb21wYW55SWQgPSBjb21wYW55O1xuICAgIGRpc3BsYXlJZCA9IGRpc3BsYXk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0SW5zZXJ0RGF0YVwiOiBnZXRJbnNlcnREYXRhLFxuICAgIFwiZ2V0RmlsZUZvcm1hdFwiOiBnZXRGaWxlRm9ybWF0LFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJzZXRJZHNcIjogc2V0SWRzXG4gIH07XG59KSgpO1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIgPSAoZnVuY3Rpb24odXRpbHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIFJFRlJFU0hfVVJMID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW4/Y2xpZW50X2lkPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9JRCArXG4gICAgICBcIiZjbGllbnRfc2VjcmV0PVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9TRUNSRVQgK1xuICAgICAgXCImcmVmcmVzaF90b2tlbj1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9SRUZSRVNIX1RPS0VOICtcbiAgICAgIFwiJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlblwiO1xuXG4gIHZhciBzZXJ2aWNlVXJsID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy9jbGllbnQtc2lkZS1ldmVudHMvZGF0YXNldHMvV2lkZ2V0X0V2ZW50cy90YWJsZXMvVEFCTEVfSUQvaW5zZXJ0QWxsXCIsXG4gICAgdGhyb3R0bGUgPSBmYWxzZSxcbiAgICB0aHJvdHRsZURlbGF5ID0gMTAwMCxcbiAgICBsYXN0RXZlbnQgPSBcIlwiLFxuICAgIHJlZnJlc2hEYXRlID0gMCxcbiAgICB0b2tlbiA9IFwiXCI7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVmcmVzaFRva2VuKGNiKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKG5ldyBEYXRlKCkgLSByZWZyZXNoRGF0ZSA8IDM1ODAwMDApIHtcbiAgICAgIHJldHVybiBjYih7fSk7XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJQT1NUXCIsIFJFRlJFU0hfVVJMLCB0cnVlKTtcbiAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzcCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcblxuICAgICAgY2IoeyB0b2tlbjogcmVzcC5hY2Nlc3NfdG9rZW4sIHJlZnJlc2hlZEF0OiBuZXcgRGF0ZSgpIH0pO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNUaHJvdHRsZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhyb3R0bGUgJiYgKGxhc3RFdmVudCA9PT0gZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBsb2codGFibGVOYW1lLCBwYXJhbXMpIHtcbiAgICBpZiAoIXRhYmxlTmFtZSB8fCAhcGFyYW1zIHx8IChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiAhcGFyYW1zLmV2ZW50KSB8fFxuICAgICAgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmIGlzVGhyb3R0bGVkKHBhcmFtcy5ldmVudCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3R0bGUgPSB0cnVlO1xuICAgIGxhc3RFdmVudCA9IHBhcmFtcy5ldmVudDtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3R0bGUgPSBmYWxzZTtcbiAgICB9LCB0aHJvdHRsZURlbGF5KTtcblxuICAgIGZ1bmN0aW9uIGluc2VydFdpdGhUb2tlbihyZWZyZXNoRGF0YSkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICBpbnNlcnREYXRhLCB1cmw7XG5cbiAgICAgIHVybCA9IHNlcnZpY2VVcmwucmVwbGFjZShcIlRBQkxFX0lEXCIsIHRhYmxlTmFtZSk7XG4gICAgICByZWZyZXNoRGF0ZSA9IHJlZnJlc2hEYXRhLnJlZnJlc2hlZEF0IHx8IHJlZnJlc2hEYXRlO1xuICAgICAgdG9rZW4gPSByZWZyZXNoRGF0YS50b2tlbiB8fCB0b2tlbjtcbiAgICAgIGluc2VydERhdGEgPSB1dGlscy5nZXRJbnNlcnREYXRhKHBhcmFtcyk7XG5cbiAgICAgIC8vIEluc2VydCB0aGUgZGF0YS5cbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgdG9rZW4pO1xuXG4gICAgICBpZiAocGFyYW1zLmNiICYmIHR5cGVvZiBwYXJhbXMuY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGFyYW1zLmNiKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGluc2VydERhdGEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaFRva2VuKGluc2VydFdpdGhUb2tlbik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwibG9nXCI6IGxvZ1xuICB9O1xufSkoUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMpO1xuLyogZ2xvYmFsIGdhZGdldHMsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5SU1MgPSB7fTtcblxuUmlzZVZpc2lvbi5SU1MgPSAoZnVuY3Rpb24gKGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWRkaXRpb25hbFBhcmFtcyA9IG51bGwsXG4gICAgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKTtcblxuICB2YXIgX21lc3NhZ2UgPSBudWxsLFxuICAgIF9yaXNlcnNzID0gbnVsbCxcbiAgICBfY29udGVudCA9IG51bGw7XG5cbiAgdmFyIF9jdXJyZW50RmVlZCA9IG51bGw7XG5cbiAgdmFyIF92aWV3ZXJQYXVzZWQgPSB0cnVlLFxuICAgIF9lcnJvclRpbWVyID0gbnVsbCxcbiAgICBfZXJyb3JMb2cgPSBudWxsLFxuICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcblxuICAgIC8vIEFueSBlcnJvcnMgbmVlZCB0byBiZSBsb2dnZWQgYmVmb3JlIHRoZSBkb25lIGV2ZW50LlxuICAgIGlmIChfZXJyb3JMb2cgIT09IG51bGwpIHtcbiAgICAgIGxvZ0V2ZW50KF9lcnJvckxvZywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gbG9nIFwiZG9uZVwiIGV2ZW50XG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwiZG9uZVwiLCBcImZlZWRfdXJsXCI6IF9hZGRpdGlvbmFsUGFyYW1zLnVybCB9LCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfbm9GZWVkSXRlbXMoKSB7XG4gICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwibm8gZmVlZCBpdGVtc1wiLFxuICAgICAgXCJmZWVkX3VybFwiOiBfYWRkaXRpb25hbFBhcmFtcy51cmxcbiAgICB9O1xuXG4gICAgbG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICBzaG93RXJyb3IoXCJUaGVyZSBhcmUgbm8gaXRlbXMgdG8gc2hvdyBmcm9tIHRoaXMgUlNTIGZlZWQuXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsZWFyRXJyb3JUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoX2Vycm9yVGltZXIpO1xuICAgIF9lcnJvclRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydEVycm9yVGltZXIoKSB7XG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgX2Vycm9yVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG5vdGlmeSBWaWV3ZXIgd2lkZ2V0IGlzIGRvbmVcbiAgICAgIF9kb25lKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICBfbWVzc2FnZSA9IG5ldyBSaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlQ29udGFpbmVyXCIpKTtcblxuICAgIC8vIHNob3cgd2FpdCBtZXNzYWdlXG4gICAgX21lc3NhZ2Uuc2hvdyhcIlBsZWFzZSB3YWl0IHdoaWxlIHlvdXIgZmVlZCBpcyBsb2FkZWQuXCIpO1xuXG4gICAgLy8gTG9hZCBmb250cy5cbiAgICB2YXIgZm9udFNldHRpbmdzID0gW1xuICAgICAge1xuICAgICAgICBcImNsYXNzXCI6IFwic3RvcnlfZm9udC1zdHlsZVwiLFxuICAgICAgICBcImZvbnRTZXR0aW5nXCI6IF9hZGRpdGlvbmFsUGFyYW1zLnN0b3J5LmZvbnRTdHlsZVxuICAgICAgfVxuICAgIF07XG5cbiAgICBpZihfYWRkaXRpb25hbFBhcmFtcy5oZWFkbGluZSAmJiAhXy5pc0VtcHR5KF9hZGRpdGlvbmFsUGFyYW1zLmhlYWRsaW5lLmZvbnRTdHlsZSkpe1xuICAgICAgZm9udFNldHRpbmdzLnB1c2goe1xuICAgICAgICBcImNsYXNzXCI6IFwiaGVhZGxpbmVfZm9udC1zdHlsZVwiLFxuICAgICAgICBcImZvbnRTZXR0aW5nXCI6IF9hZGRpdGlvbmFsUGFyYW1zLmhlYWRsaW5lLmZvbnRTdHlsZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoX2FkZGl0aW9uYWxQYXJhbXMudGltZXN0YW1wICYmICFfLmlzRW1wdHkoX2FkZGl0aW9uYWxQYXJhbXMudGltZXN0YW1wLmZvbnRTdHlsZSkpe1xuICAgICAgZm9udFNldHRpbmdzLnB1c2goe1xuICAgICAgICBcImNsYXNzXCI6IFwidGltZXN0YW1wX2ZvbnQtc3R5bGVcIixcbiAgICAgICAgXCJmb250U2V0dGluZ1wiOiBfYWRkaXRpb25hbFBhcmFtcy50aW1lc3RhbXAuZm9udFN0eWxlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihfYWRkaXRpb25hbFBhcmFtcy5hdXRob3IgJiYgIV8uaXNFbXB0eShfYWRkaXRpb25hbFBhcmFtcy5hdXRob3IuZm9udFN0eWxlKSl7XG4gICAgICBmb250U2V0dGluZ3MucHVzaCh7XG4gICAgICAgIFwiY2xhc3NcIjogXCJhdXRob3JfZm9udC1zdHlsZVwiLFxuICAgICAgICBcImZvbnRTZXR0aW5nXCI6IF9hZGRpdGlvbmFsUGFyYW1zLmF1dGhvci5mb250U3R5bGVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5sb2FkRm9udHMoZm9udFNldHRpbmdzKTtcblxuICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgcnNzIG1vZHVsZSBpbnN0YW5jZVxuICAgIF9yaXNlcnNzID0gbmV3IFJpc2VWaXNpb24uUlNTLlJpc2VSU1MoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgIF9yaXNlcnNzLmluaXQoKTtcblxuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRUYWJsZU5hbWUoKSB7XG4gICAgcmV0dXJuIFwicnNzX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQocGFyYW1zLCBpc0Vycm9yKSB7XG4gICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgIF9lcnJvckxvZyA9IHBhcmFtcztcbiAgICB9XG5cbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5sb2dFdmVudChnZXRUYWJsZU5hbWUoKSwgcGFyYW1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ29udGVudERvbmUoKSB7XG4gICAgX2RvbmUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmlzZVJTU0luaXQoZmVlZCkge1xuICAgIGNvbnNvbGUubG9nKFwib25SaXNlUlNTSW5pdFwiKTtcbiAgICBjb25zb2xlLmRpcihmZWVkKTtcblxuICAgIF9jb250ZW50ID0gbmV3IFJpc2VWaXNpb24uUlNTLkNvbnRlbnQoX3ByZWZzLCBfYWRkaXRpb25hbFBhcmFtcyk7XG5cbiAgICBpZiAoZmVlZC5pdGVtcyAmJiBmZWVkLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHJlbW92ZSBhIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICBfY3VycmVudEZlZWQgPSBfLmNsb25lKGZlZWQpO1xuXG4gICAgICBfY29udGVudC5pbml0KF9jdXJyZW50RmVlZCk7XG5cbiAgICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgICBfY29udGVudC5wbGF5KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX25vRmVlZEl0ZW1zKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25SaXNlUlNTUmVmcmVzaChmZWVkKSB7XG4gICAgY29uc29sZS5sb2coXCJvblJpc2VSU1NSZWZyZXNoXCIpO1xuICAgIGNvbnNvbGUuZGlyKGZlZWQpO1xuXG4gICAgdmFyIHVwZGF0ZWQgPSBmYWxzZTtcblxuICAgIGlmICghZmVlZC5pdGVtcyB8fCBmZWVkLml0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgX25vRmVlZEl0ZW1zKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFfY3VycmVudEZlZWQgfHwgZmVlZC5pdGVtcy5sZW5ndGggIT09IF9jdXJyZW50RmVlZC5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIHJ1biB0aHJvdWdoIGVhY2ggaXRlbSBhbmQgY29tcGFyZSwgaWYgYW55IGFyZSBkaWZmZXJlbnQsIGZlZWQgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfY3VycmVudEZlZWQuaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKCFfLmlzRXF1YWwoZmVlZC5pdGVtc1tpXSwgX2N1cnJlbnRGZWVkLml0ZW1zW2ldKSkge1xuICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgIF9jdXJyZW50RmVlZCA9IF8uY2xvbmUoZmVlZCk7XG5cbiAgICAgIGlmIChfZXJyb3JGbGFnKSB7XG4gICAgICAgIGlmICghX2NvbnRlbnQpIHtcbiAgICAgICAgICAvLyBjcmVhdGUgY29udGVudCBtb2R1bGUgaW5zdGFuY2VcbiAgICAgICAgICBfY29udGVudCA9IG5ldyBSaXNlVmlzaW9uLlJTUy5Db250ZW50KF9wcmVmcywgX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuICAgICAgICBfY29udGVudC5pbml0KF9jdXJyZW50RmVlZCk7XG5cbiAgICAgICAgLy8gcmVmcmVzaGVkIGZlZWQgZml4ZWQgcHJldmlvdXMgZXJyb3IsIGVuc3VyZSBmbGFnIGlzIHJlbW92ZWQgc28gbmV4dCBwbGF5YmFjayBzaG93cyBjb250ZW50XG4gICAgICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcbiAgICAgICAgX2Vycm9yTG9nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBfY29udGVudC51cGRhdGUoZmVlZCk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICAgIGlmIChfZXJyb3JGbGFnKSB7XG4gICAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9jb250ZW50KSB7XG4gICAgICBfY29udGVudC5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IGZhbHNlO1xuXG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwicGxheVwiLCBcImZlZWRfdXJsXCI6IF9hZGRpdGlvbmFsUGFyYW1zLnVybCB9LCBmYWxzZSk7XG5cbiAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfY29udGVudCkge1xuICAgICAgX2NvbnRlbnQucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcykge1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKSk7XG4gICAgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKTtcblxuICAgIF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUud2lkdGggPSBfYWRkaXRpb25hbFBhcmFtcy53aWR0aCArIFwicHhcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgKyBcInB4XCI7XG5cbiAgICBfaW5pdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UpIHtcbiAgICBfZXJyb3JGbGFnID0gdHJ1ZTtcblxuICAgIF9jb250ZW50LnJlc2V0KCk7XG4gICAgX2N1cnJlbnRGZWVkID0gbnVsbDtcbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBwYXVzZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldFRhYmxlTmFtZVwiOiBnZXRUYWJsZU5hbWUsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcIm9uQ29udGVudERvbmVcIjogb25Db250ZW50RG9uZSxcbiAgICBcIm9uUmlzZVJTU0luaXRcIjogb25SaXNlUlNTSW5pdCxcbiAgICBcIm9uUmlzZVJTU1JlZnJlc2hcIjogb25SaXNlUlNTUmVmcmVzaCxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwic2hvd0Vycm9yXCI6IHNob3dFcnJvcixcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xuXG59KShkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uUlNTID0gUmlzZVZpc2lvbi5SU1MgfHwge307XG5cblJpc2VWaXNpb24uUlNTLlV0aWxzID0gKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLypcbiAgICogIFB1YmxpYyAgTWV0aG9kc1xuICAgKi9cblxuICBmdW5jdGlvbiBzdHJpcFNjcmlwdHMoaHRtbCkge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgc2NyaXB0cywgaTtcblxuICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuICAgIHNjcmlwdHMgPSBkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG4gICAgaSA9IHNjcmlwdHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgc2NyaXB0c1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdHNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyogVHJ1bmNhdGUgdGV4dCB3aGlsZSBwcmVzZXJ2aW5nIHdvcmQgYm91bmRhcmllcy4gKi9cbiAgZnVuY3Rpb24gdHJ1bmNhdGUodGV4dCkge1xuICAgIHZhciBtYXhMZW5ndGggPSAxMjA7XG5cbiAgICBpZiAodGV4dC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBtYXhMZW5ndGgpO1xuXG4gICAgICAvLyBFbnN1cmUgdGhhdCB3ZSBkb24ndCB0cnVuY2F0ZSBtaWQtd29yZC5cbiAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcdyskLywgXCJcIik7XG4gICAgICB0ZXh0ICs9IFwiIC4uLlwiO1xuICAgIH1cblxuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcInN0cmlwU2NyaXB0c1wiOiBzdHJpcFNjcmlwdHMsXG4gICAgXCJ0cnVuY2F0ZVwiOiB0cnVuY2F0ZVxuICB9O1xuXG59KSgpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlJTUyA9IFJpc2VWaXNpb24uUlNTIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlJTUy5SaXNlUlNTID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pbml0aWFsTG9hZCA9IHRydWU7XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciByc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicmlzZS1yc3NcIik7XG5cbiAgICByc3MuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtcnNzLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC5mZWVkKSB7XG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uUlNTLm9uUmlzZVJTU0luaXQoZS5kZXRhaWwuZmVlZCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSaXNlVmlzaW9uLlJTUy5vblJpc2VSU1NSZWZyZXNoKGUuZGV0YWlsLmZlZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByc3MuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtcnNzLWVycm9yXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZXJyb3JEZXRhaWxzID0gXCJcIjtcblxuICAgICAgaWYgKGUuZGV0YWlsICYmIHR5cGVvZiBlLmRldGFpbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBlcnJvckRldGFpbHMgPSBlLmRldGFpbDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGUuZGV0YWlsICYmIEFycmF5LmlzQXJyYXkoZS5kZXRhaWwpICYmIGUuZGV0YWlsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gcmlzZS1yc3MtZXJyb3IgcGFzc2VzIGVycm9yIGZyb20gZ2FkZ2V0cy5pby5tYWtlUmVxdWVzdCB3aGljaCBpcyBhbHdheXMgYW4gQXJyYXkgd2l0aCBvbmUgaXRlbVxuICAgICAgICBlcnJvckRldGFpbHMgPSBlLmRldGFpbFswXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInJpc2UgcnNzIGVycm9yXCIsXG4gICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBlcnJvckRldGFpbHMsXG4gICAgICAgIFwiZmVlZF91cmxcIjogZGF0YS51cmxcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uUlNTLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLlJTUy5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBSU1MgZmVlZC5cIiwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICByc3Muc2V0QXR0cmlidXRlKFwidXJsXCIsIGRhdGEudXJsKTtcblxuICAgIGlmIChkYXRhLml0ZW1zSW5RdWV1ZSkge1xuICAgICAgcnNzLnNldEF0dHJpYnV0ZShcImVudHJpZXNcIiwgZGF0YS5pdGVtc0luUXVldWUpO1xuICAgIH1cblxuICAgIHJzcy5nbygpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxuLyogZ2xvYmFsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5SU1MgPSBSaXNlVmlzaW9uLlJTUyB8fCB7fTtcblxuUmlzZVZpc2lvbi5SU1MuQ29udGVudCA9IGZ1bmN0aW9uIChwcmVmcywgcGFyYW1zKSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pdGVtcyA9IFtdLFxuICAgIF91dGlscyA9IFJpc2VWaXNpb24uUlNTLlV0aWxzO1xuXG4gIHZhciBfJGVsO1xuXG4gIHZhciBfY3VycmVudEl0ZW1JbmRleCA9IDA7XG5cbiAgdmFyIF90cmFuc2l0aW9uSW50ZXJ2YWxJZCA9IG51bGw7XG5cbiAgdmFyIF90cmFuc2l0aW9uID0ge1xuICAgIFwidHlwZVwiOiBcIm5vbmVcIixcbiAgICBkdXJhdGlvbjogMTAwMDBcbiAgfTtcblxuICB2YXIgX3dhaXRpbmdGb3JVcGRhdGUgPSBmYWxzZTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfY2FjaGUoKSB7XG4gICAgXyRlbCA9IHtcbiAgICAgIHBhZ2U6ICAgICAgICAgICAkKFwiLnBhZ2VcIilcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldEl0ZW1IZWlnaHQoKSB7XG4gICAgLy8gYWNjb3VudCBmb3Igbm90IGVub3VnaCBpdGVtcyB0byBhY3R1YWxseSBzaG93IGNvbXBhcmVkIHRvIHNldHRpbmcgdmFsdWVcbiAgICB2YXIgaXRlbXNUb1Nob3cgPSAoX2l0ZW1zLmxlbmd0aCA8PSBwYXJhbXMuaXRlbXNUb1Nob3cpID8gX2l0ZW1zLmxlbmd0aCA6IHBhcmFtcy5pdGVtc1RvU2hvdztcblxuICAgIHJldHVybiBwcmVmcy5nZXRJbnQoXCJyc0hcIikgLyBpdGVtc1RvU2hvdztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRUcmFuc2l0aW9uQ29uZmlnKGluZGV4KSB7XG4gICAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gICAgaWYgKChpbmRleCArIHBhcmFtcy5pdGVtc1RvU2hvdykgPj0gKF9pdGVtcy5sZW5ndGggLSAxKSkge1xuICAgICAgLy8gYWNjb3VudCBmb3Igbm90IGVub3VnaCBpdGVtcyB0byBhY3R1YWxseSBzaG93IGZyb20gdGhlIGZlZWRcbiAgICAgIGNvbmZpZy5pdGVtc1RvU2hvdyA9IF9pdGVtcy5sZW5ndGggLSAoaW5kZXggKyAxKTtcbiAgICAgIGNvbmZpZy5jdXJyZW50SXRlbUluZGV4ID0gKF9pdGVtcy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25maWcuaXRlbXNUb1Nob3cgPSBwYXJhbXMuaXRlbXNUb1Nob3c7XG4gICAgICAvLyB2YWx1ZSBpcyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgaXRlbSBzaG93aW5nXG4gICAgICBjb25maWcuY3VycmVudEl0ZW1JbmRleCA9IGluZGV4ICsgcGFyYW1zLml0ZW1zVG9TaG93O1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0U3RhcnRDb25maWcoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gICAgaWYgKF9pdGVtcy5sZW5ndGggPD0gcGFyYW1zLml0ZW1zVG9TaG93KSB7XG4gICAgICAvLyBhY2NvdW50IGZvciBub3QgZW5vdWdoIGl0ZW1zIHRvIGFjdHVhbGx5IHNob3cgZnJvbSB0aGUgZmVlZFxuICAgICAgY29uZmlnLml0ZW1zVG9TaG93ID0gX2l0ZW1zLmxlbmd0aDtcbiAgICAgIGNvbmZpZy5jdXJyZW50SXRlbUluZGV4ID0gKF9pdGVtcy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25maWcuaXRlbXNUb1Nob3cgPSBwYXJhbXMuaXRlbXNUb1Nob3c7XG4gICAgICAvLyB2YWx1ZSBpcyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgaXRlbSBzaG93aW5nXG4gICAgICBjb25maWcuY3VycmVudEl0ZW1JbmRleCA9IChwYXJhbXMuaXRlbXNUb1Nob3cgLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFN0b3J5KGl0ZW0pIHtcbiAgICB2YXIgc3RvcnkgPSBudWxsO1xuXG4gICAgaWYgKF8uaGFzKGl0ZW0sIFwiY29udGVudDplbmNvZGVkXCIpKSB7XG4gICAgICBzdG9yeSA9IGl0ZW1bXCJjb250ZW50OmVuY29kZWRcIl07XG4gICAgfSBlbHNlIGlmIChfLmhhcyhpdGVtLCBcImRlc2NyaXB0aW9uXCIpKSB7XG4gICAgICBzdG9yeSA9IGl0ZW0uZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3J5O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldEF1dGhvcihpdGVtKSB7XG4gICAgdmFyIGF1dGhvciA9IG51bGw7XG5cbiAgICBpZiAoXy5oYXMoaXRlbSwgXCJkYzpjcmVhdG9yXCIpKSB7XG4gICAgICBhdXRob3IgPSBpdGVtW1wiZGM6Y3JlYXRvclwiXTtcbiAgICB9IGVsc2UgaWYgKF8uaGFzKGl0ZW0sIFwiYXV0aG9yXCIpKSB7XG4gICAgICBhdXRob3IgPSBpdGVtLmF1dGhvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gYXV0aG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldFRlbXBsYXRlKGl0ZW0pIHtcbiAgICB2YXIgc3RvcnkgPSBfZ2V0U3RvcnkoaXRlbSksXG4gICAgICBhdXRob3IgPSBfZ2V0QXV0aG9yKGl0ZW0pLFxuICAgICAgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jzc0l0ZW1cIikuY29udGVudCxcbiAgICAgICRjb250ZW50ID0gJCh0ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSkpLFxuICAgICAgJHN0b3J5LCBjbG9uZTtcblxuICAgIC8vIEhlYWRsaW5lXG4gICAgaWYgKCFpdGVtLnRpdGxlIHx8ICgodHlwZW9mIHBhcmFtcy5kYXRhU2VsZWN0aW9uLnNob3dUaXRsZSAhPT0gXCJ1bmRlZmluZWRcIikgJiZcbiAgICAgICFwYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93VGl0bGUpKSB7XG4gICAgICAkY29udGVudC5maW5kKFwiLmhlYWRsaW5lXCIpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRjb250ZW50LmZpbmQoXCIuaGVhZGxpbmVcIikuY3NzKFwidGV4dEFsaWduXCIsIHBhcmFtcy5oZWFkbGluZS5mb250U3R5bGUuYWxpZ24pO1xuICAgICAgJGNvbnRlbnQuZmluZChcIi5oZWFkbGluZSBhXCIpLnRleHQoaXRlbS50aXRsZSk7XG4gICAgfVxuXG4gICAgdmFyIHJlbW92ZVNlcGFyYXRvciA9IGZhbHNlO1xuICAgIC8vIFRpbWVzdGFtcFxuICAgIGlmICghaXRlbS5wdWJkYXRlIHx8ICgodHlwZW9mIHBhcmFtcy5kYXRhU2VsZWN0aW9uLnNob3dUaW1lc3RhbXAgIT09IFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAhcGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd1RpbWVzdGFtcCkpIHtcbiAgICAgIHJlbW92ZVNlcGFyYXRvciA9IHRydWU7XG4gICAgICAkY29udGVudC5maW5kKFwiLnRpbWVzdGFtcFwiKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgcHViZGF0ZSA9IG5ldyBEYXRlKGl0ZW0ucHViZGF0ZSk7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgeWVhcjogXCJudW1lcmljXCIsIG1vbnRoOiBcImxvbmdcIiwgZGF5OiBcIm51bWVyaWNcIlxuICAgICAgfTtcbiAgICAgIHZhciB0aW1lc3RhbXAgPSBwdWJkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLXVzXCIsIG9wdGlvbnMpO1xuICAgICAgaWYgKHBhcmFtcy50aW1lc3RhbXApIHtcbiAgICAgICAgJGNvbnRlbnQuZmluZChcIi50aW1lc3RhbXBcIikuY3NzKFwidGV4dEFsaWduXCIsIHBhcmFtcy50aW1lc3RhbXAuZm9udFN0eWxlLmFsaWduKTtcbiAgICAgIH1cbiAgICAgICRjb250ZW50LmZpbmQoXCIudGltZXN0YW1wXCIpLnRleHQodGltZXN0YW1wKTtcbiAgICB9XG5cbiAgICAvLyBBdXRob3JcbiAgICBpZiAoIWF1dGhvciB8fCAoKHR5cGVvZiBwYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93QXV0aG9yICE9PSBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgIXBhcmFtcy5kYXRhU2VsZWN0aW9uLnNob3dBdXRob3IpKSB7XG4gICAgICByZW1vdmVTZXBhcmF0b3IgPSB0cnVlO1xuICAgICAgJGNvbnRlbnQuZmluZChcIi5hdXRob3JcIikucmVtb3ZlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKHBhcmFtcy5hdXRob3IpIHtcbiAgICAgICAgJGNvbnRlbnQuZmluZChcIi5hdXRob3JcIikuY3NzKFwidGV4dEFsaWduXCIsIHBhcmFtcy5hdXRob3IuZm9udFN0eWxlLmFsaWduKTtcbiAgICAgIH1cbiAgICAgICRjb250ZW50LmZpbmQoXCIuYXV0aG9yXCIpLnRleHQoYXV0aG9yKTtcbiAgICB9XG5cbiAgICBpZiAocmVtb3ZlU2VwYXJhdG9yKSB7XG4gICAgICAkY29udGVudC5maW5kKFwiLnNlcGFyYXRvclwiKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyBTdG9yeVxuICAgIGlmICghc3RvcnkpIHtcbiAgICAgICRjb250ZW50LnJlbW92ZShcIi5zdG9yeVwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkc3RvcnkgPSAkY29udGVudC5maW5kKFwiLnN0b3J5XCIpO1xuICAgICAgJHN0b3J5LmNzcyhcInRleHRBbGlnblwiLCBwYXJhbXMuc3RvcnkuZm9udFN0eWxlLmFsaWduKTtcbiAgICAgIHN0b3J5ID0gX3V0aWxzLnN0cmlwU2NyaXB0cyhzdG9yeSk7XG5cbiAgICAgIGlmIChwYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93RGVzY3JpcHRpb24gPT09IFwic25pcHBldFwiKSB7XG4gICAgICAgICRzdG9yeS5odG1sKF91dGlscy50cnVuY2F0ZSgkKFwiPGRpdi8+XCIpLmh0bWwoc3RvcnkpLnRleHQoKSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICRzdG9yeS5odG1sKHN0b3J5KTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgdGhlIHN0b3J5IGZvbnQgc3R5bGluZyB0byBjaGlsZCBlbGVtZW50cyBhcyB3ZWxsLlxuICAgICAgJHN0b3J5LmZpbmQoXCJwXCIpLmFkZENsYXNzKFwic3RvcnlfZm9udC1zdHlsZVwiKTtcbiAgICAgICRzdG9yeS5maW5kKFwiZGl2XCIpLmFkZENsYXNzKFwic3RvcnlfZm9udC1zdHlsZVwiKTtcbiAgICAgICRzdG9yeS5maW5kKFwic3BhblwiKS5hZGRDbGFzcyhcInN0b3J5X2ZvbnQtc3R5bGVcIik7XG4gICAgfVxuXG4gICAgY2xvbmUgPSAkKGRvY3VtZW50LmltcG9ydE5vZGUoJGNvbnRlbnRbMF0sIHRydWUpKTtcblxuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIC8vIEZhZGUgb3V0IGFuZCBjbGVhciBjb250ZW50LlxuICBmdW5jdGlvbiBfY2xlYXIoY2IpIHtcbiAgICBpZiAoX3RyYW5zaXRpb24udHlwZSA9PT0gXCJmYWRlXCIpIHtcbiAgICAgICQoXCIuaXRlbVwiKS5vbmUoXCJ0cmFuc2l0aW9uZW5kXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBfY2xlYXJQYWdlKGNiKTtcbiAgICAgIH0pO1xuXG4gICAgICAkKFwiLml0ZW1cIikuYWRkQ2xhc3MoXCJmYWRlLW91dFwiKS5yZW1vdmVDbGFzcyhcImZhZGUtaW5cIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX2NsZWFyUGFnZShjYik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NsZWFyUGFnZShjYikge1xuICAgIF8kZWwucGFnZS5lbXB0eSgpO1xuICAgIGlmICghY2IgfHwgdHlwZW9mIGNiICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zaG93SXRlbShpbmRleCkge1xuICAgIF8kZWwucGFnZS5hcHBlbmQoX2dldFRlbXBsYXRlKF9pdGVtc1tpbmRleF0pKTtcblxuICAgICQoXCIuaXRlbVwiKS5oZWlnaHQoX2dldEl0ZW1IZWlnaHQoKSk7XG5cbiAgICBpZiAoX3RyYW5zaXRpb24udHlwZSA9PT0gXCJmYWRlXCIpIHtcbiAgICAgICQoXCIuaXRlbVwiKS5hZGRDbGFzcyhcImZhZGUtaW5cIik7XG4gICAgfVxuXG4gICAgJChcIi5pdGVtXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcblxuICAgIC8vIHRydW5jYXRlIGNvbnRlbnRcbiAgICAkKFwiLml0ZW1cIikuZG90ZG90ZG90KHtcbiAgICAgIGhlaWdodDogX2dldEl0ZW1IZWlnaHQoKVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX21ha2VUcmFuc2l0aW9uKCkge1xuICAgIHZhciBzdGFydENvbmZpZyA9IF9nZXRTdGFydENvbmZpZygpLFxuICAgICAgdHJhbnNDb25maWcgPSBfZ2V0VHJhbnNpdGlvbkNvbmZpZyhfY3VycmVudEl0ZW1JbmRleCksXG4gICAgICBzdGFydGluZ0luZGV4LCBpdGVtc1RvU2hvdztcblxuICAgIGlmIChfY3VycmVudEl0ZW1JbmRleCA9PT0gKF9pdGVtcy5sZW5ndGggLSAxKSkge1xuXG4gICAgICBfc3RvcFRyYW5zaXRpb25UaW1lcigpO1xuXG4gICAgICBfY2xlYXIoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgLy8gc2hvdyB0aGUgaXRlbXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydENvbmZpZy5pdGVtc1RvU2hvdzsgaSArPSAxKSB7XG4gICAgICAgICAgX3Nob3dJdGVtKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2N1cnJlbnRJdGVtSW5kZXggPSBzdGFydENvbmZpZy5jdXJyZW50SXRlbUluZGV4O1xuXG4gICAgICAgIFJpc2VWaXNpb24uUlNTLm9uQ29udGVudERvbmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfd2FpdGluZ0ZvclVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF93YWl0aW5nRm9yVXBkYXRlKSB7XG4gICAgICAvLyBzdGFydCBvdmVyIGF0IGZpcnN0IGl0ZW0gc2luY2UgdGhlIGZlZWQgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgc3RhcnRpbmdJbmRleCA9IDA7XG5cbiAgICAgIF93YWl0aW5nRm9yVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIC8vIGFwcGx5IGNvbmZpZyB2YWx1ZXMgZnJvbSBhIHJlc3RhcnRcbiAgICAgIGl0ZW1zVG9TaG93ID0gc3RhcnRDb25maWcuaXRlbXNUb1Nob3c7XG4gICAgICBfY3VycmVudEl0ZW1JbmRleCA9IHN0YXJ0Q29uZmlnLmN1cnJlbnRJdGVtSW5kZXg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3RhcnRpbmdJbmRleCA9IF9jdXJyZW50SXRlbUluZGV4ICsgMTtcblxuICAgICAgLy8gYXBwbHkgY29uZmlnIHZhbHVlcyBmcm9tIGEgdHJhbnNpdGlvblxuICAgICAgaXRlbXNUb1Nob3cgPSB0cmFuc0NvbmZpZy5pdGVtc1RvU2hvdztcbiAgICAgIF9jdXJyZW50SXRlbUluZGV4ID0gdHJhbnNDb25maWcuY3VycmVudEl0ZW1JbmRleDtcbiAgICB9XG5cbiAgICBfY2xlYXIoZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0aW5nSW5kZXg7IGkgPCAoc3RhcnRpbmdJbmRleCArIGl0ZW1zVG9TaG93KTsgaSArPSAxKSB7XG4gICAgICAgIF9zaG93SXRlbShpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydFRyYW5zaXRpb25UaW1lcigpIHtcbiAgICBpZiAoX3RyYW5zaXRpb25JbnRlcnZhbElkID09PSBudWxsKSB7XG4gICAgICBfdHJhbnNpdGlvbkludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9tYWtlVHJhbnNpdGlvbigpO1xuICAgICAgfSwgX3RyYW5zaXRpb24uZHVyYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdG9wVHJhbnNpdGlvblRpbWVyKCkge1xuICAgIGNsZWFySW50ZXJ2YWwoX3RyYW5zaXRpb25JbnRlcnZhbElkKTtcbiAgICBfdHJhbnNpdGlvbkludGVydmFsSWQgPSBudWxsO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KGZlZWQpIHtcbiAgICB2YXIgc3RhcnRDb25maWc7XG5cbiAgICBfaXRlbXMgPSBmZWVkLml0ZW1zO1xuXG4gICAgaWYocGFyYW1zLnRyYW5zaXRpb24pe1xuICAgICAgX3RyYW5zaXRpb24gPSBwYXJhbXMudHJhbnNpdGlvbjtcbiAgICB9XG5cbiAgICBzdGFydENvbmZpZyA9IF9nZXRTdGFydENvbmZpZygpO1xuXG4gICAgX2N1cnJlbnRJdGVtSW5kZXggPSBzdGFydENvbmZpZy5jdXJyZW50SXRlbUluZGV4O1xuXG4gICAgLy8gc2hvdyB0aGUgaXRlbXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXJ0Q29uZmlnLml0ZW1zVG9TaG93OyBpICs9IDEpIHtcbiAgICAgIF9zaG93SXRlbShpKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIF9zdG9wVHJhbnNpdGlvblRpbWVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBfc3RvcFRyYW5zaXRpb25UaW1lcigpO1xuICAgIF9jbGVhcigpO1xuICAgIF9pdGVtcyA9IFtdO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBfc3RhcnRUcmFuc2l0aW9uVGltZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZShmZWVkKSB7XG4gICAgX2l0ZW1zID0gZmVlZC5pdGVtcztcbiAgICBfd2FpdGluZ0ZvclVwZGF0ZSA9IHRydWU7XG4gIH1cblxuICBfY2FjaGUoKTtcblxuICByZXR1cm4ge1xuICAgIGluaXQ6IGluaXQsXG4gICAgcGF1c2U6IHBhdXNlLFxuICAgIHBsYXk6IHBsYXksXG4gICAgcmVzZXQ6IHJlc2V0LFxuICAgIHVwZGF0ZTogdXBkYXRlXG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlID0gZnVuY3Rpb24gKG1haW5Db250YWluZXIsIG1lc3NhZ2VDb250YWluZXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hY3RpdmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBpbml0aWFsaXplIE1lc3NhZ2UgLSBcIiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgaWYgKF9hY3RpdmUpIHtcbiAgICAgIC8vIGNsZWFyIGNvbnRlbnQgb2YgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBoaWRlIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgLy8gc2hvdyBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgIF9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBwO1xuXG4gICAgaWYgKCFfYWN0aXZlKSB7XG4gICAgICAvLyBoaWRlIG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcbiAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XG4gICAgICBwID0gbWVzc2FnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiaGlkZVwiOiBoaWRlLFxuICAgIFwic2hvd1wiOiBzaG93XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgUmlzZVZpc2lvbiAqL1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgZG9jdW1lbnQsIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBpZCA9IHByZWZzLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIC8vIERpc2FibGUgY29udGV4dCBtZW51IChyaWdodCBjbGljayBtZW51KVxuICB3aW5kb3cub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZG9jdW1lbnQuYm9keS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBjb25maWd1cmUobmFtZXMsIHZhbHVlcykge1xuICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zLFxuICAgICAgY29tcGFueUlkID0gXCJcIixcbiAgICAgIGRpc3BsYXlJZCA9IFwiXCI7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lcykgJiYgbmFtZXMubGVuZ3RoID4gMCAmJiBBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChuYW1lc1swXSA9PT0gXCJjb21wYW55SWRcIikge1xuICAgICAgICBjb21wYW55SWQgPSB2YWx1ZXNbMF07XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lc1sxXSA9PT0gXCJkaXNwbGF5SWRcIikge1xuICAgICAgICBpZiAodmFsdWVzWzFdKSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gdmFsdWVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyhjb21wYW55SWQsIGRpc3BsYXlJZCk7XG5cbiAgICAgIGlmIChuYW1lc1syXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzJdKTtcblxuICAgICAgICBSaXNlVmlzaW9uLlJTUy5zZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgUmlzZVZpc2lvbi5SU1MucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5SU1MucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5SU1Muc3RvcCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gd2ViQ29tcG9uZW50c1JlYWR5KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsIHdlYkNvbXBvbmVudHNSZWFkeSk7XG5cbiAgICBpZiAoaWQgJiYgaWQgIT09IFwiXCIpIHtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfcGxheV9cIiArIGlkLCBwbGF5KTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfcGF1c2VfXCIgKyBpZCwgcGF1c2UpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9zdG9wX1wiICsgaWQsIHN0b3ApO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBjb25maWd1cmUpO1xuICAgICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzcGFyYW1fZ2V0XCIsIG51bGwsIGlkLCBbXCJjb21wYW55SWRcIiwgXCJkaXNwbGF5SWRcIiwgXCJhZGRpdGlvbmFsUGFyYW1zXCJdKTtcbiAgICB9XG4gIH1cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCB3ZWJDb21wb25lbnRzUmVhZHkpO1xuXG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsIGdhZGdldHMpO1xuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
