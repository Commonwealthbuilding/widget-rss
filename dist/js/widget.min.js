"undefined"!=typeof angular&&(angular.module("risevision.widget.rss.config",[]).value("layout4x1","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-4x1.html").value("layout2x1","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-2x1.html").value("layout1x2","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-1x2.html"),angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"));var config={};!function(e,t,n,i){"use strict";function o(t,n){this.element=t,this.page=e(t).find(".page"),this.options=e.extend({},r,n),this._defaults=r,this._name=s,this.isLoading=!0,this.draggable=null,this.tween=null,this.calculateProgress=null,this.init()}var s="autoScroll",r={by:"continuous",speed:"medium",pause:5,click:!1,minimumMovement:3};o.prototype={init:function(){function t(){s.tween.pause(),TweenLite.killDelayedCallsTo(s.calculateProgress),TweenLite.killDelayedCallsTo(r),TweenLite.killDelayedCallsTo(a)}var n,o,s=this,r=null,a=null,l=e(this.element).outerHeight(!0),u=l,c=this.element.scrollHeight-this.element.offsetHeight;this.calculateProgress=function(){u=e(s.element).scrollTop()+l,s.tween.progress(e(s.element).scrollTop()/c).play()},this.canScroll()?("page"===this.options.by?(n="fastest"===this.options.speed?.4:"fast"===this.options.speed?.8:"medium"===this.options.speed?1.2:"slow"===this.options.speed?1.6:2,o=this.page.outerHeight(!0)/e(this.element).outerHeight(!0)*n):(n="fastest"===this.options.speed?60:"fast"===this.options.speed?50:"medium"===this.options.speed?40:"slow"===this.options.speed?30:20,o=Math.abs((this.page.outerHeight(!0)-e(this.element).outerHeight(!0))/n)),Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.75,minimumMovement:s.options.minimumMovement,onPress:function(){t()},onRelease:function(){"none"!==s.options.by&&TweenLite.delayedCall(s.options.pause,s.calculateProgress)},onClick:function(){s.options.click&&(t(),e(s.element).trigger("scrollClick",[this.pointerEvent]))}}),this.draggable=Draggable.get(this.element),this.tween=TweenLite.to(this.draggable.scrollProxy,o,{scrollTop:c,ease:Linear.easeNone,delay:this.options.pause,paused:!0,onUpdate:"page"===this.options.by?function(){Math.abs(s.draggable.scrollProxy.top())>=u&&(s.tween.pause(),u+=l,TweenLite.delayedCall(s.options.pause,a=function(){s.tween.resume()}))}:i,onComplete:function(){TweenLite.delayedCall(s.options.pause,r=function(){TweenLite.to(s.page,1,{autoAlpha:0,onComplete:function(){s.tween.seek(0).pause(),"page"===s.options.by&&(u=l),e(s.element).trigger("done")}})})}}),TweenLite.set(this.element,{overflowY:"hidden"})):this.options.click&&(Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.95,minimumMovement:this.options.minimumMovement,onClick:function(){e(s.element).trigger("scrollClick",[this.pointerEvent])}}),this.draggable=Draggable.get(this.element))},canScroll:function(){return this.options&&this.page.height()>e(this.element).height()},destroy:function(){e(this.element).removeData(),this.tween&&this.tween.kill(),this.draggable&&this.draggable.kill(),this.element=null,this.page=null,this.options=null,this._defaults=null,this.draggable=null,this.tween=null,this.calculateProgress=null}},o.prototype.play=function(){this.canScroll()&&"none"!==this.options.by&&this.tween&&(this.isLoading?(this.tween.play(),this.isLoading=!1):(TweenLite.to(this.page,1,{autoAlpha:1}),TweenLite.delayedCall(this.options.pause,this.calculateProgress)))},o.prototype.pause=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.pause())},o.prototype.stop=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.kill()),this.element=null,this.page=null},e.fn.autoScroll=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new o(this,t))})}}(jQuery,window,document),function(e,t){function n(e,t,n){var i=e.children(),o=!1;e.empty();for(var r=0,a=i.length;a>r;r++){var l=i.eq(r);if(e.append(l),n&&e.append(n),s(e,t)){l.remove(),o=!0;break}n&&n.detach()}return o}function i(t,n,r,a,l){var u=!1,c="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",d="script, .dotdotdot-keep";return t.contents().detach().each(function(){var h=this,p=e(h);if("undefined"==typeof h)return!0;if(p.is(d))t.append(p);else{if(u)return!0;t.append(p),!l||p.is(a.after)||p.find(a.after).length||t[t.is(c)?"after":"append"](l),s(r,a)&&(u=3==h.nodeType?o(p,n,r,a,l):i(p,n,r,a,l),u||(p.detach(),u=!0)),u||l&&l.detach()}}),n.addClass("is-truncated"),u}function o(t,n,i,o,a){var c=t[0];if(!c)return!1;var h=u(c),p=-1!==h.indexOf(" ")?" ":"　",f="letter"==o.wrap?"":p,g=h.split(f),m=-1,y=-1,w=0,v=g.length-1;for(o.fallbackToLetter&&0==w&&0==v&&(f="",g=h.split(f),v=g.length-1);v>=w&&(0!=w||0!=v);){var S=Math.floor((w+v)/2);if(S==y)break;y=S,l(c,g.slice(0,y+1).join(f)+o.ellipsis),i.children().each(function(){e(this).toggle().toggle()}),s(i,o)?(v=y,o.fallbackToLetter&&0==w&&0==v&&(f="",g=g[0].split(f),m=-1,y=-1,w=0,v=g.length-1)):(m=y,w=y)}if(-1==m||1==g.length&&0==g[0].length){var R=t.parent();t.detach();var b=a&&a.closest(R).length?a.length:0;R.contents().length>b?c=d(R.contents().eq(-1-b),n):(c=d(R,n,!0),b||R.detach()),c&&(h=r(u(c),o),l(c,h),b&&a&&e(c).parent().append(a))}else h=r(g.slice(0,m+1).join(f),o),l(c,h);return!0}function s(e,t){return e.innerHeight()>t.maxHeight}function r(t,n){for(;e.inArray(t.slice(-1),n.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),n.lastCharacter.noEllipsis)<0&&(t+=n.ellipsis),t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function u(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function c(e){do e=e.previousSibling;while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function d(t,n,i){var o,s=t&&t[0];if(s){if(!i){if(3===s.nodeType)return s;if(e.trim(t.text()))return d(t.contents().last(),n)}for(o=c(s);!o;){if(t=t.parent(),t.is(n)||!t.length)return!1;o=c(t[0])}if(o)return d(e(o),n)}return!1}function h(t,n){return t?"string"==typeof t?(t=e(t,n),t.length?t:!1):t.jquery?t:!1:!1}function p(e){for(var t=e.innerHeight(),n=["paddingTop","paddingBottom"],i=0,o=n.length;o>i;i++){var s=parseInt(e.css(n[i]),10);isNaN(s)&&(s=0),t-=s}return t}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(t)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(t,a){switch(o.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(o[0]);break;default:l.maxHeight=p(o)}l.maxHeight+=l.tolerance,"undefined"!=typeof a&&(("string"==typeof a||"nodeType"in a&&1===a.nodeType)&&(a=e("<div />").append(a).contents()),a instanceof e&&(r=a)),g=o.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(r.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,d=!1;return u.afterElement&&(c=u.afterElement.clone(!0),c.show(),u.afterElement.detach()),s(g,l)&&(d="children"==l.wrap?n(g,l,c):i(g,o,g,l,c)),g.replaceWith(g.contents()),g=null,e.isFunction(l.callback)&&l.callback.call(o[0],d,r),u.isTruncated=d,d}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],u.isTruncated),u.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],r),r}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(r).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var t=e(window),n=t.width(),i=t.height();t.bind("resize.dot"+u.dotId,function(){n==t.width()&&i==t.height()&&l.windowResizeFix||(n=t.width(),i=t.height(),d&&clearInterval(d),d=setTimeout(function(){o.trigger("update.dot")},100))})}else c=a(o),d=setInterval(function(){if(o.is(":visible")){var e=a(o);(c.width!=e.width||c.height!=e.height)&&(o.trigger("update.dot"),c=e)}},500);return o},o.unwatch=function(){return e(window).unbind("resize.dot"+u.dotId),d&&clearInterval(d),o};var r=o.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,t),u={},c={},d=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),u.afterElement=h(l.after,o),u.isTruncated=!1,u.dotId=f++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(){};var f=1,g=e.fn.html;e.fn.html=function(n){return n!=t&&!e.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var m=e.fn.text;e.fn.text=function(n){return n!=t&&!e.isFunction(n)&&this.data("dotdotdot")?(n=e("<div />").text(n).html(),this.trigger("update",[n])):m.apply(this,arguments)}}}(jQuery);var RiseVision=RiseVision||{};RiseVision.RSS={},RiseVision.RSS=function(e){"use strict";function t(){e.rpc.call("","rsevent_ready",null,p.getString("id"),!0,!0,!0,!0,!0)}function n(){e.rpc.call("","rsevent_done",null,p.getString("id"))}function i(){}function o(){n()}function s(){t()}function r(e){m=_.clone(e),g=new RiseVision.RSS.ContentRSS(p,h),g.build(m)}function a(e){console.dir(e)}function l(){g.scrollPause()}function u(){g.scrollPlay()}function c(t,n){Array.isArray(t)&&t.length>0&&"additionalParams"===t[0]&&Array.isArray(n)&&n.length>0&&(h=JSON.parse(n[0]),p=new e.Prefs,i(),f=new RiseVision.RSS.RiseRSS(h),f.init())}function d(){}var h,p=null,f=null,g=null,m=null;return{onContentDone:o,onContentReady:s,onRiseRSSInit:r,onRiseRSSRefresh:a,pause:l,play:u,setAdditionalParams:c,stop:d}}(gadgets);var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.RiseRSS=function(e){"use strict";function t(){var t=document.getElementById("rss");t&&(t.addEventListener("rise-rss-response",function(e){e.detail&&e.detail.feed&&(n?(n=!1,RiseVision.RSS.onRiseRSSInit(e.detail.feed)):RiseVision.RSS.onRiseRSSRefresh(e.detail.feed))}),t.addEventListener("rise-rss-error",function(e){console.log("rise-rss-error handler"),e.detail&&console.log(e.detail)}),t.setAttribute("url",e.url),t.setAttribute("entries",e.queue),t.setAttribute("refresh",e.refresh),t.go())}var n=!0;return{init:t}};var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Images={},RiseVision.RSS.Images=function(){"use strict";function e(e){a.push(e),r+=1,r===s.length&&l&&"function"==typeof l&&l()}function t(t){var n=new Image;n.onload=function(){e(this)},n.onerror=function(){e(this)},n.src=t.url}function n(){var n;for(n=0;n<s.length;n+=1)null===s[n]?e(null):t(s[n])}function i(e,t){e.length>0?(s=e,a=[],n(),t&&(l=t)):t&&t()}function o(){return a}var s=[],r=0,a=[],l=null;return{getImages:o,load:i}}();var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.ContentRSS=function(e,t){"use strict";function n(){v={scrollContainer:$("#scrollContainer"),page:$(".page")}}function i(e){var t;return 0===e.length?!1:(t=_.without(e,null),0!==t.length)}function o(e,t){return e&&t?t.indexOf(-1!==e):!1}function s(){return"continuous"===t.scroll.by.transition}function r(){var n=e.getInt("rsH")/parseInt(t.stories);return s()?n-1:n}function a(){return"undefined"!=typeof v.scrollContainer.data(R)?v.scrollContainer.data(R):null}function l(e){var t=null;return _.has(e,"content:encoded")?t=e["content:encoded"]:_.has(e,"description")&&(t=e.description),t}function u(e){var t=null;return _.has(e,"author")?t=e.author:_.has(e,"dc:creator")&&(t=e["dc:creator"]),t}function c(e){var t=RiseVision.RSS.Images.getImages(),n=null;return t.length>0&&t[e]&&t[e].src&&(n=t[e]),n}function d(){a()||v.scrollContainer.autoScroll(t.scroll).on("done",function(){x=!1,RiseVision.RSS.onContentDone()})}function h(e,n){var i,o=l(e),s=u(e),r=c(n),a=document.querySelector("#rssItem").content;return a.querySelector(".headline").textContent=e.title,a.querySelector(".author").textContent=s?s:"",a.querySelector(".date").textContent=e.pubdate,a.querySelector(".story").innerHTML="snippet"===t.selection.story?o?o:"":o?o:"",r?a.querySelector(".image").setAttribute("src",r.src):a.querySelector(".image").removeAttribute("src"),i=$(document.importNode(a,!0))}function p(){var e,n,i=b.length<=t.queue?b.length:t.queue;v.page.empty(),e="none"!==t.scroll.by?i:t.stories<=i?t.stories:i;for(var o=0;e>o;o+=1)n=h(b[o],o),v.page.append(n);$(".item").dotdotdot({height:r()}),$(".item").height(r())}function f(){v.scrollContainer.width(e.getInt("rsW")),v.scrollContainer.height(e.getInt("rsH")),p(),T&&(d(),RiseVision.RSS.onContentReady())}function g(e){for(var t,n,i,s,r,a,u,c=0;c<e.length;c++)a=!1,t=l(e[c]),n=_.has(e[c],"media:content")?e[c]["media:content"]:null,u=_.has(e[c],"enclosure")?e[c].enclosure:null,n?(i=_.has(n,"medium")?n.medium:null,s=_.has(n,"url")?n.url:null,r=_.has(n,"type")?n.type:null,i?"image"===i&&(o(s,t)||(C.push(s),a=!0)):r&&-1!==_.indexOf(S,r)&&(o(s,t)||(C.push(s),a=!0))):u&&(s=_.has(u,"url")?u.url:null,r=_.has(u,"type")?u.type:null,-1!==_.indexOf(S,r)&&(o(s,t)||(C.push(s),a=!0))),a||C.push(null)}function m(){var e=a();e&&e.canScroll()&&!x&&(e.play(),x=!0)}function y(){var e=a();e&&e.canScroll()&&(e.pause(),x=!1)}function w(e){b=e.items,v||n(),C=[],g(b),i(C)?RiseVision.RSS.Images.load(C,function(){T&&f()}):T&&f()}var v,S=["image/bmp","image/gif","image/jpeg","image/png","image/tiff"],R="plugin_autoScroll",b=[],C=[],T=!0,x=!1;return{build:w,scrollPlay:m,scrollPause:y}},function(e,t){"use strict";function n(){RiseVision.RSS.play()}function i(){RiseVision.RSS.pause()}function o(){RiseVision.RSS.pause()}function s(){e.removeEventListener("WebComponentsReady",s),a&&""!==a&&(t.rpc.register("rscmd_play_"+a,n),t.rpc.register("rscmd_pause_"+a,i),t.rpc.register("rscmd_stop_"+a,o),t.rpc.register("rsparam_set_"+a,RiseVision.RSS.setAdditionalParams),t.rpc.call("","rsparam_get",null,a,["additionalParams"]))}var r=new t.Prefs,a=r.getString("id");e.oncontextmenu=function(){return!1},e.addEventListener("WebComponentsReady",s)}(window,gadgets);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInZhbHVlIiwiY29uc3RhbnQiLCJjb25maWciLCIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJQbHVnaW4iLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCJwYWdlIiwiZmluZCIsImV4dGVuZCIsImRlZmF1bHRzIiwiX2RlZmF1bHRzIiwiX25hbWUiLCJwbHVnaW5OYW1lIiwiaXNMb2FkaW5nIiwiZHJhZ2dhYmxlIiwidHdlZW4iLCJjYWxjdWxhdGVQcm9ncmVzcyIsImluaXQiLCJieSIsInNwZWVkIiwicGF1c2UiLCJjbGljayIsIm1pbmltdW1Nb3ZlbWVudCIsInByb3RvdHlwZSIsInBhdXNlVHdlZW4iLCJzZWxmIiwiVHdlZW5MaXRlIiwia2lsbERlbGF5ZWRDYWxsc1RvIiwic2Nyb2xsQ29tcGxldGUiLCJwYWdlQ29tcGxldGUiLCJkdXJhdGlvbiIsImVsZW1lbnRIZWlnaHQiLCJvdXRlckhlaWdodCIsInBhdXNlSGVpZ2h0IiwibWF4Iiwic2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsVG9wIiwicHJvZ3Jlc3MiLCJwbGF5IiwiY2FuU2Nyb2xsIiwiTWF0aCIsImFicyIsIkRyYWdnYWJsZSIsImNyZWF0ZSIsInR5cGUiLCJ0aHJvd1Byb3BzIiwiZWRnZVJlc2lzdGFuY2UiLCJvblByZXNzIiwib25SZWxlYXNlIiwiZGVsYXllZENhbGwiLCJvbkNsaWNrIiwidHJpZ2dlciIsInBvaW50ZXJFdmVudCIsImdldCIsInRvIiwic2Nyb2xsUHJveHkiLCJlYXNlIiwiTGluZWFyIiwiZWFzZU5vbmUiLCJkZWxheSIsInBhdXNlZCIsIm9uVXBkYXRlIiwidG9wIiwicmVzdW1lIiwib25Db21wbGV0ZSIsImF1dG9BbHBoYSIsInNlZWsiLCJzZXQiLCJvdmVyZmxvd1kiLCJoZWlnaHQiLCJkZXN0cm95IiwicmVtb3ZlRGF0YSIsImtpbGwiLCJzdG9wIiwiZm4iLCJhdXRvU2Nyb2xsIiwiZWFjaCIsImRhdGEiLCJqUXVlcnkiLCJ1bmRlZiIsImNoaWxkcmVuIiwiJGVsZW0iLCJvIiwiYWZ0ZXIiLCIkZWxlbWVudHMiLCJpc1RydW5jYXRlZCIsImVtcHR5IiwiYSIsImwiLCJsZW5ndGgiLCIkZSIsImVxIiwiYXBwZW5kIiwidGVzdCIsInJlbW92ZSIsImRldGFjaCIsImVsbGlwc2lzIiwiJGQiLCIkaSIsIm5vdHgiLCJub3R5IiwiY29udGVudHMiLCJlIiwiaXMiLCJub2RlVHlwZSIsImVsbGlwc2lzRWxlbWVudCIsImFkZENsYXNzIiwidHh0IiwiZ2V0VGV4dENvbnRlbnQiLCJzcGFjZSIsImluZGV4T2YiLCJzZXBhcmF0b3IiLCJ3cmFwIiwidGV4dEFyciIsInNwbGl0IiwicG9zaXRpb24iLCJtaWRQb3MiLCJzdGFydFBvcyIsImVuZFBvcyIsImZhbGxiYWNrVG9MZXR0ZXIiLCJtIiwiZmxvb3IiLCJzZXRUZXh0Q29udGVudCIsInNsaWNlIiwiam9pbiIsInRvZ2dsZSIsIiR3IiwicGFyZW50IiwiYWZ0ZXJMZW5ndGgiLCJjbG9zZXN0IiwiZmluZExhc3RUZXh0Tm9kZSIsImFkZEVsbGlwc2lzIiwiaW5uZXJIZWlnaHQiLCJtYXhIZWlnaHQiLCJpbkFycmF5IiwibGFzdENoYXJhY3RlciIsIm5vRWxsaXBzaXMiLCJnZXRTaXplcyIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImNvbnRlbnQiLCJpbm5lclRleHQiLCJub2RlVmFsdWUiLCJ0ZXh0Q29udGVudCIsImdldFByZXZOb2RlIiwibiIsInByZXZpb3VzU2libGluZyIsIiRlbCIsIiR0b3AiLCJleGNsdWRlQ3VycmVudCIsInAiLCJ0cmltIiwidGV4dCIsImxhc3QiLCJnZXRFbGVtZW50IiwianF1ZXJ5IiwiZ2V0VHJ1ZUlubmVySGVpZ2h0IiwiaCIsInoiLCJwYXJzZUludCIsImNzcyIsImlzTmFOIiwiZG90ZG90ZG90IiwiZGVidWciLCJzZWxlY3RvciIsIiRkb3QiLCJhdHRyIiwiYmluZF9ldmVudHMiLCJiaW5kIiwiYyIsInJlbW92ZUNsYXNzIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJvcHRzIiwiY2FsbCIsInRvbGVyYW5jZSIsIm9yZ0NvbnRlbnQiLCIkaW5yIiwid3JhcElubmVyIiwiZW5kIiwiY2xvbmUiLCJyZXBsYWNlV2l0aCIsImJvcmRlciIsInBhZGRpbmciLCJtYXJnaW4iLCJ0cnVuYyIsImNvbmYiLCJhZnRlckVsZW1lbnQiLCJzaG93IiwiaXNGdW5jdGlvbiIsImNhbGxiYWNrIiwidW53YXRjaCIsInVuYmluZF9ldmVudHMiLCJ1bmJpbmQiLCJ3YXRjaCIsIiR3aW5kb3ciLCJfd1dpZHRoIiwiX3dIZWlnaHQiLCJkb3RJZCIsIndpbmRvd1Jlc2l6ZUZpeCIsIndhdGNoSW50IiwiY2xlYXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJ3YXRjaE9yZyIsInNldEludGVydmFsIiwid2F0Y2hOZXciLCJBcnJheSIsImRlZmF1bHRBcnJheXMiLCJfb3JnSHRtbCIsImh0bWwiLCJzdHIiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9vcmdUZXh0IiwiUmlzZVZpc2lvbiIsIlJTUyIsImdhZGdldHMiLCJfcmVhZHkiLCJycGMiLCJfcHJlZnMiLCJnZXRTdHJpbmciLCJfZG9uZSIsIl9sb2FkRm9udHMiLCJvbkNvbnRlbnREb25lIiwib25Db250ZW50UmVhZHkiLCJvblJpc2VSU1NJbml0IiwiZmVlZCIsIl9jdXJyZW50RmVlZCIsIl8iLCJfY29udGVudCIsIkNvbnRlbnRSU1MiLCJfYWRkaXRpb25hbFBhcmFtcyIsImJ1aWxkIiwib25SaXNlUlNTUmVmcmVzaCIsImNvbnNvbGUiLCJkaXIiLCJzY3JvbGxQYXVzZSIsInNjcm9sbFBsYXkiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwibmFtZXMiLCJ2YWx1ZXMiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwiUHJlZnMiLCJfcmlzZXJzcyIsIlJpc2VSU1MiLCJyc3MiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJsb2ciLCJzZXRBdHRyaWJ1dGUiLCJ1cmwiLCJxdWV1ZSIsInJlZnJlc2giLCJnbyIsIkltYWdlcyIsIl9vbkltYWdlTG9hZGVkIiwiaW1hZ2UiLCJfaW1hZ2VzIiwicHVzaCIsIl9pbWFnZUNvdW50IiwiX2ltYWdlc1RvTG9hZCIsIl9jYWxsYmFjayIsIl9sb2FkSW1hZ2UiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJfbG9hZEltYWdlcyIsImkiLCJsb2FkIiwiaW1hZ2VzIiwiZ2V0SW1hZ2VzIiwicHJlZnMiLCJwYXJhbXMiLCJfY2FjaGUiLCJzY3JvbGxDb250YWluZXIiLCJfaGFzSW1hZ2VzIiwiaW1hZ2VzQXJyIiwibGlzdCIsIndpdGhvdXQiLCJfdXJsRXhpc3RzIiwic3RvcnkiLCJfdXNlU2VwYXJhdG9yIiwic2Nyb2xsIiwidHJhbnNpdGlvbiIsIl9nZXRJdGVtSGVpZ2h0IiwiZ2V0SW50Iiwic3RvcmllcyIsIl9nZXRTY3JvbGxFbCIsIlBMVUdJTl9TQ1JPTEwiLCJfZ2V0U3RvcnkiLCJpdGVtIiwiaGFzIiwiZGVzY3JpcHRpb24iLCJfZ2V0QXV0aG9yIiwiYXV0aG9yIiwiX2dldEltYWdlIiwiaW5kZXgiLCJfc2V0U2Nyb2xsaW5nIiwib24iLCJfaXNTY3JvbGxpbmciLCJfZ2V0VGVtcGxhdGUiLCJxdWVyeVNlbGVjdG9yIiwidGl0bGUiLCJwdWJkYXRlIiwiaW5uZXJIVE1MIiwic2VsZWN0aW9uIiwicmVtb3ZlQXR0cmlidXRlIiwiaW1wb3J0Tm9kZSIsIl9hZGRJdGVtcyIsInRlbXBsYXRlc051bSIsInRlbXBsYXRlIiwiaXRlbXNOdW0iLCJfaXRlbXMiLCJfaW5pdCIsIl9pbml0aWFsQnVpbGQiLCJfY29uZmlndXJlTWVkaWEiLCJmZWVkSXRlbXMiLCJtZWRpYSIsIm1lZGl1bSIsImZvdW5kIiwiZW5jbG9zdXJlIiwiX2ltYWdlVXJscyIsIlNVUFBPUlRFRF9JTUFHRVMiLCIkc2Nyb2xsIiwiaXRlbXMiLCJ3ZWJDb21wb25lbnRzUmVhZHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaWQiLCJyZWdpc3RlciIsIm9uY29udGV4dG1lbnUiXSwibWFwcGluZ3MiOiJBQUN1QixtQkFBWkEsV0FDVEEsUUFBUUMsT0FBTyxtQ0FDWkMsTUFBTSxZQUFhLGtFQUNuQkEsTUFBTSxZQUFhLGtFQUNuQkEsTUFBTSxZQUFhLGtFQUV0QkYsUUFBUUMsT0FBTyxvQ0FDWkUsU0FBUyxpQkFBa0Isd0JBQzNCQSxTQUFTLGdCQUFpQixTQUcvQixJQUFJQyxZQVlILFNBQVdDLEVBQUdDLEVBQVFDLEVBQVVDLEdBQ2hDLFlBWUEsU0FBU0MsR0FBT0MsRUFBU0MsR0FDeEJDLEtBQUtGLFFBQVVBLEVBQ2ZFLEtBQUtDLEtBQU9SLEVBQUVLLEdBQVNJLEtBQUssU0FDNUJGLEtBQUtELFFBQVVOLEVBQUVVLFVBQVdDLEVBQVVMLEdBQ3RDQyxLQUFLSyxVQUFZRCxFQUNqQkosS0FBS00sTUFBUUMsRUFDYlAsS0FBS1EsV0FBWSxFQUNqQlIsS0FBS1MsVUFBWSxLQUNqQlQsS0FBS1UsTUFBUSxLQUNiVixLQUFLVyxrQkFBb0IsS0FDekJYLEtBQUtZLE9BcEJOLEdBQUlMLEdBQWEsYUFDaEJILEdBQ0NTLEdBQUksYUFDSkMsTUFBTyxTQUNQQyxNQUFPLEVBQ1BDLE9BQU8sRUFDUEMsZ0JBQWlCLEVBaUJuQnBCLEdBQU9xQixXQUNOTixLQUFNLFdBU0wsUUFBU08sS0FDUkMsRUFBS1YsTUFBTUssUUFFWE0sVUFBVUMsbUJBQW1CRixFQUFLVCxtQkFDbENVLFVBQVVDLG1CQUFtQkMsR0FFN0JGLFVBQVVDLG1CQUFtQkUsR0FkOUIsR0FBSVYsR0FBT1csRUFDUEwsRUFBT3BCLEtBQ1B1QixFQUFpQixLQUNqQkMsRUFBZSxLQUNmRSxFQUFnQmpDLEVBQUVPLEtBQUtGLFNBQVM2QixhQUFZLEdBQzVDQyxFQUFjRixFQUNkRyxFQUFNN0IsS0FBS0YsUUFBUWdDLGFBQWU5QixLQUFLRixRQUFRaUMsWUFXbkQvQixNQUFLVyxrQkFBb0Is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QU1qQixTQUFXOU8sRUFBUTBOLEdBQ2pCLFlBVUEsU0FBU2xMLEtBQ1BnTCxXQUFXQyxJQUFJakwsT0FHakIsUUFBU25CLEtBQ1BtTSxXQUFXQyxJQUFJcE0sUUFHakIsUUFBU3NELEtBQ1A2SSxXQUFXQyxJQUFJcE0sUUFHakIsUUFBU3dULEtBQ1A3VSxFQUFPOFUsb0JBQW9CLHFCQUFzQkQsR0FFN0NFLEdBQWEsS0FBUEEsSUFDUnJILEVBQVFFLElBQUlvSCxTQUFTLGNBQWdCRCxFQUFJdlMsR0FDekNrTCxFQUFRRSxJQUFJb0gsU0FBUyxlQUFpQkQsRUFBSTFULEdBQzFDcU0sRUFBUUUsSUFBSW9ILFNBQVMsY0FBZ0JELEVBQUlwUSxHQUV6QytJLEVBQVFFLElBQUlvSCxTQUFTLGVBQWlCRCxFQUFJdkgsV0FBV0MsSUFBSXVCLHFCQUN6RHRCLEVBQVFFLElBQUk1QyxLQUFLLEdBQUksY0FBZSxLQUFNK0osR0FBSyxzQkE3Qm5ELEdBQUl4RCxHQUFRLEdBQUk3RCxHQUFRNEIsTUFDdEJ5RixFQUFLeEQsRUFBTXpELFVBQVUsS0FHdkI5TixHQUFPaVYsY0FBZ0IsV0FDckIsT0FBTyxHQTRCVGpWLEVBQU8yUCxpQkFBaUIscUJBQXNCa0YsSUFHN0M3VSxPQUFRME4iLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQucnNzLmNvbmZpZ1wiLCBbXSlcbiAgICAudmFsdWUoXCJsYXlvdXQ0eDFcIiwgXCJodHRwczovL3MzLmFtYXpvbmF3cy5jb20vd2lkZ2V0LXJzcy8xLjAuMC9kaXN0L2xheW91dC00eDEuaHRtbFwiKVxuICAgIC52YWx1ZShcImxheW91dDJ4MVwiLCBcImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS93aWRnZXQtcnNzLzEuMC4wL2Rpc3QvbGF5b3V0LTJ4MS5odG1sXCIpXG4gICAgLnZhbHVlKFwibGF5b3V0MXgyXCIsIFwiaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3dpZGdldC1yc3MvMS4wLjAvZGlzdC9sYXlvdXQtMXgyLmh0bWxcIik7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xufVxuXG52YXIgY29uZmlnID0ge307XG5cblxuXG5cbi8qXG4gKiAgUHJvamVjdDogQXV0by1TY3JvbGxcbiAqICBEZXNjcmlwdGlvbjogQXV0by1zY3JvbGwgcGx1Z2luIGZvciB1c2Ugd2l0aCBSaXNlIFZpc2lvbiBXaWRnZXRzXG4gKiAgQXV0aG9yOiBAZG9ubmFwZXBcbiAqICBMaWNlbnNlOiBNSVRcbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHBsdWdpbk5hbWUgPSBcImF1dG9TY3JvbGxcIixcblx0XHRkZWZhdWx0cyA9IHtcblx0XHRcdGJ5OiBcImNvbnRpbnVvdXNcIixcblx0XHRcdHNwZWVkOiBcIm1lZGl1bVwiLFxuXHRcdFx0cGF1c2U6IDUsXG5cdFx0XHRjbGljazogZmFsc2UsXG5cdFx0XHRtaW5pbXVtTW92ZW1lbnQ6IDMgLy8gRHJhZ2dhYmxlIGRlZmF1bHQgdmFsdWUgLSBodHRwOi8vZ3JlZW5zb2NrLmNvbS9kb2NzLyMvSFRNTDUvRHJhZy9EcmFnZ2FibGUvXG5cdFx0fTtcblxuXG5cdGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblx0XHR0aGlzLnBhZ2UgPSAkKGVsZW1lbnQpLmZpbmQoXCIucGFnZVwiKTtcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2RlZmF1bHRzID0gZGVmYXVsdHM7XG5cdFx0dGhpcy5fbmFtZSA9IHBsdWdpbk5hbWU7XG5cdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuXHRcdHRoaXMuZHJhZ2dhYmxlID0gbnVsbDtcblx0XHR0aGlzLnR3ZWVuID0gbnVsbDtcblx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gbnVsbDtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdFBsdWdpbi5wcm90b3R5cGUgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHNwZWVkLCBkdXJhdGlvbjtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBzY3JvbGxDb21wbGV0ZSA9IG51bGw7XG5cdFx0XHR2YXIgcGFnZUNvbXBsZXRlID0gbnVsbDtcblx0XHRcdHZhciBlbGVtZW50SGVpZ2h0ID0gJCh0aGlzLmVsZW1lbnQpLm91dGVySGVpZ2h0KHRydWUpO1xuXHRcdFx0dmFyIHBhdXNlSGVpZ2h0ID0gZWxlbWVudEhlaWdodDtcblx0XHRcdHZhciBtYXggPSB0aGlzLmVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcblxuXHRcdFx0ZnVuY3Rpb24gcGF1c2VUd2VlbigpIHtcblx0XHRcdFx0c2VsZi50d2Vlbi5wYXVzZSgpO1xuXG5cdFx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8oc2VsZi5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8oc2Nyb2xsQ29tcGxldGUpO1xuXHRcdFx0XHQvLyBPbmx5IHVzZWQgd2hlbiBzY3JvbGxpbmcgYnkgcGFnZS5cblx0XHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyhwYWdlQ29tcGxldGUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIFNldCBwYXVzZUhlaWdodCB0byBuZXcgdmFsdWUuXG5cdFx0XHRcdHBhdXNlSGVpZ2h0ID0gJChzZWxmLmVsZW1lbnQpLnNjcm9sbFRvcCgpICtcblx0XHRcdFx0XHRlbGVtZW50SGVpZ2h0O1xuXG5cdFx0XHRcdHNlbGYudHdlZW4ucHJvZ3Jlc3MoJChzZWxmLmVsZW1lbnQpLnNjcm9sbFRvcCgpIC8gbWF4KVxuXHRcdFx0XHRcdC5wbGF5KCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAodGhpcy5jYW5TY3JvbGwoKSkge1xuXHRcdFx0XHQvLyBTZXQgc2Nyb2xsIHNwZWVkLlxuXHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLmJ5ID09PSBcInBhZ2VcIikge1xuXHRcdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwiZmFzdGVzdFwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDAuNDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcImZhc3RcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAwLjg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJtZWRpdW1cIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAxLjI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJzbG93XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMS42O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkdXJhdGlvbiA9IHRoaXMucGFnZS5vdXRlckhlaWdodCh0cnVlKSAvXG5cdFx0XHRcdFx0XHQkKHRoaXMuZWxlbWVudCkub3V0ZXJIZWlnaHQodHJ1ZSkgKiBzcGVlZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHsgIC8vIENvbnRpbnVvdXMgb3IgYnkgcm93XG5cdFx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0ZXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gNjA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gNTA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJtZWRpdW1cIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSA0MDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcInNsb3dcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAzMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDIwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGR1cmF0aW9uID0gTWF0aC5hYnMoKHRoaXMucGFnZS5vdXRlckhlaWdodCh0cnVlKSAtXG5cdFx0XHRcdFx0XHQkKHRoaXMuZWxlbWVudCkub3V0ZXJIZWlnaHQodHJ1ZSkpIC8gc3BlZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0RHJhZ2dhYmxlLmNyZWF0ZSh0aGlzLmVsZW1lbnQsIHtcblx0XHRcdFx0XHR0eXBlOiBcInNjcm9sbFRvcFwiLFxuXHRcdFx0XHRcdHRocm93UHJvcHM6IHRydWUsXG5cdFx0XHRcdFx0ZWRnZVJlc2lzdGFuY2U6IDAuNzUsXG5cdFx0XHRcdFx0bWluaW11bU1vdmVtZW50OiBzZWxmLm9wdGlvbnMubWluaW11bU1vdmVtZW50LFxuXHRcdFx0XHRcdG9uUHJlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cGF1c2VUd2VlbigpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b25SZWxlYXNlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuYnkgIT09IFwibm9uZVwiKSB7XG5cdFx0XHRcdFx0XHRcdC8qIEZpZ3VyZSBvdXQgd2hhdCB0aGUgbmV3IHNjcm9sbCBwb3NpdGlvbiBpcyBhbmRcblx0XHRcdFx0XHRcdFx0IHRyYW5zbGF0ZSB0aGF0IGludG8gdGhlIHByb2dyZXNzIG9mIHRoZSB0d2VlbiAoMC0xKVxuXHRcdFx0XHRcdFx0XHQgc28gdGhhdCB3ZSBjYW4gY2FsaWJyYXRlIGl0OyBvdGhlcndpc2UsIGl0J2QganVtcFxuXHRcdFx0XHRcdFx0XHQgYmFjayB0byB3aGVyZSBpdCBwYXVzZWQgd2hlbiB3ZSByZXN1bWUoKS4gKi9cblx0XHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSwgc2VsZi5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvbkNsaWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuY2xpY2spIHtcblx0XHRcdFx0XHRcdFx0cGF1c2VUd2VlbigpO1xuXHRcdFx0XHRcdFx0XHQkKHNlbGYuZWxlbWVudCkudHJpZ2dlcihcInNjcm9sbENsaWNrXCIsIFt0aGlzLnBvaW50ZXJFdmVudF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5kcmFnZ2FibGUgPSBEcmFnZ2FibGUuZ2V0KHRoaXMuZWxlbWVudCk7XG5cblx0XHRcdFx0dGhpcy50d2VlbiA9IFR3ZWVuTGl0ZS50byh0aGlzLmRyYWdnYWJsZS5zY3JvbGxQcm94eSwgZHVyYXRpb24sIHtcblx0XHRcdFx0XHRzY3JvbGxUb3A6IG1heCxcblx0XHRcdFx0XHRlYXNlOiBMaW5lYXIuZWFzZU5vbmUsXG5cdFx0XHRcdFx0ZGVsYXk6IHRoaXMub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRwYXVzZWQ6IHRydWUsXG5cdFx0XHRcdFx0b25VcGRhdGU6ICh0aGlzLm9wdGlvbnMuYnkgPT09IFwicGFnZVwiID8gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoc2VsZi5kcmFnZ2FibGUuc2Nyb2xsUHJveHkudG9wKCkpID49IHBhdXNlSGVpZ2h0KSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYudHdlZW4ucGF1c2UoKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBOZXh0IGhlaWdodCBhdCB3aGljaCB0byBwYXVzZSBzY3JvbGxpbmcuXG5cdFx0XHRcdFx0XHRcdHBhdXNlSGVpZ2h0ICs9IGVsZW1lbnRIZWlnaHQ7XG5cblx0XHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRcdFx0XHRwYWdlQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudHdlZW4ucmVzdW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gOiB1bmRlZmluZWQpLFxuXHRcdFx0XHRcdG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRcdFx0c2Nyb2xsQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRUd2VlbkxpdGUudG8oc2VsZi5wYWdlLCAxLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhdXRvQWxwaGE6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50d2Vlbi5zZWVrKDApLnBhdXNlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5ieSA9PT0gXCJwYWdlXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXVzZUhlaWdodCA9IGVsZW1lbnRIZWlnaHQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKHNlbGYuZWxlbWVudCkudHJpZ2dlcihcImRvbmVcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBIaWRlIHNjcm9sbGJhci5cblx0XHRcdFx0VHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHsgb3ZlcmZsb3dZOiBcImhpZGRlblwiIH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5jbGljaykge1xuXHRcdFx0XHRcdC8vIEFjY291bnQgZm9yIGNvbnRlbnQgdGhhdCBpcyB0byBiZSBjbGlja2VkIHdoZW4gY29udGVudCBub3QgbmVlZGVkIHRvIGJlIHNjcm9sbGVkXG5cdFx0XHRcdFx0Ly8gTGV2ZXJhZ2UgRHJhZ2dhYmxlIGZvciB0b3VjaC9jbGljayBldmVudCBoYW5kbGluZ1xuXHRcdFx0XHRcdERyYWdnYWJsZS5jcmVhdGUodGhpcy5lbGVtZW50LCB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcInNjcm9sbFRvcFwiLFxuXHRcdFx0XHRcdFx0dGhyb3dQcm9wczogdHJ1ZSxcblx0XHRcdFx0XHRcdGVkZ2VSZXNpc3RhbmNlOiAwLjk1LFxuXHRcdFx0XHRcdFx0bWluaW11bU1vdmVtZW50OiB0aGlzLm9wdGlvbnMubWluaW11bU1vdmVtZW50LFxuXHRcdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdCQoc2VsZi5lbGVtZW50KS50cmlnZ2VyKFwic2Nyb2xsQ2xpY2tcIiwgW3RoaXMucG9pbnRlckV2ZW50XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR0aGlzLmRyYWdnYWJsZSA9IERyYWdnYWJsZS5nZXQodGhpcy5lbGVtZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ly8gQ2hlY2sgaWYgY29udGVudCBpcyBsYXJnZXIgdGhhbiB2aWV3YWJsZSBhcmVhIGFuZCBpZiB0aGUgc2Nyb2xsIHNldHRpbmdzIGlzIHNldCB0byBhY3R1YWxseSBzY3JvbGwuXG5cdFx0Y2FuU2Nyb2xsOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMgJiYgKHRoaXMucGFnZS5oZWlnaHQoKSA+ICQodGhpcy5lbGVtZW50KS5oZWlnaHQoKSk7XG5cdFx0fSxcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRcdCQodGhpcy5lbGVtZW50KS5yZW1vdmVEYXRhKCk7XG5cdFx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0XHR0aGlzLnR3ZWVuLmtpbGwoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dhYmxlKSB7XG5cdFx0XHRcdHRoaXMuZHJhZ2dhYmxlLmtpbGwoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnRzLlxuXHRcdFx0dGhpcy5lbGVtZW50ID0gbnVsbDtcblx0XHRcdHRoaXMucGFnZSA9IG51bGw7XG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBudWxsO1xuXHRcdFx0dGhpcy5fZGVmYXVsdHMgPSBudWxsO1xuXHRcdFx0dGhpcy5kcmFnZ2FibGUgPSBudWxsO1xuXHRcdFx0dGhpcy50d2VlbiA9IG51bGw7XG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblx0UGx1Z2luLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuY2FuU2Nyb2xsKCkgJiYgdGhpcy5vcHRpb25zLmJ5ICE9PSBcIm5vbmVcIikge1xuXHRcdFx0aWYgKHRoaXMudHdlZW4pIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNMb2FkaW5nKSB7XG5cdFx0XHRcdFx0dGhpcy50d2Vlbi5wbGF5KCk7XG5cdFx0XHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRUd2VlbkxpdGUudG8odGhpcy5wYWdlLCAxLCB7YXV0b0FscGhhOiAxfSk7XG5cdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHRoaXMub3B0aW9ucy5wYXVzZSwgdGhpcy5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0UGx1Z2luLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLnR3ZWVuKSB7XG5cdFx0XHRUd2VlbkxpdGUua2lsbERlbGF5ZWRDYWxsc1RvKHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuXHRcdFx0dGhpcy50d2Vlbi5wYXVzZSgpO1xuXHRcdH1cblx0fTtcblxuXHRQbHVnaW4ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyh0aGlzLmNhbGN1bGF0ZVByb2dyZXNzKTtcblx0XHRcdHRoaXMudHdlZW4ua2lsbCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudCA9IG51bGw7XG5cdFx0dGhpcy5wYWdlID0gbnVsbDtcblx0fTtcblxuXHQvLyBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xuXHQvLyBtdWx0aXBsZSBpbnN0YW50aWF0aW9ucy5cblx0JC5mbi5hdXRvU2Nyb2xsID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoISQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XG5cdFx0XHRcdCQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9O1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxuLypcclxuICpcdGpRdWVyeSBkb3Rkb3Rkb3QgMS43LjRcclxuICpcclxuICpcdENvcHlyaWdodCAoYykgRnJlZCBIZXVzc2NoZW5cclxuICpcdHd3dy5mcmVic2l0ZS5ubFxyXG4gKlxyXG4gKlx0UGx1Z2luIHdlYnNpdGU6XHJcbiAqXHRkb3Rkb3Rkb3QuZnJlYnNpdGUubmxcclxuICpcclxuICpcdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuICpcdGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTUlUX0xpY2Vuc2VcclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmIClcclxue1xyXG5cdGlmICggJC5mbi5kb3Rkb3Rkb3QgKVxyXG5cdHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdCQuZm4uZG90ZG90ZG90ID0gZnVuY3Rpb24oIG8gKVxyXG5cdHtcclxuXHRcdGlmICggdGhpcy5sZW5ndGggPT0gMCApXHJcblx0XHR7XHJcblx0XHRcdCQuZm4uZG90ZG90ZG90LmRlYnVnKCAnTm8gZWxlbWVudCBmb3VuZCBmb3IgXCInICsgdGhpcy5zZWxlY3RvciArICdcIi4nICk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmRvdGRvdGRvdCggbyApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0dmFyICRkb3QgPSB0aGlzO1xyXG5cclxuXHRcdGlmICggJGRvdC5kYXRhKCAnZG90ZG90ZG90JyApIClcclxuXHRcdHtcclxuXHRcdFx0JGRvdC50cmlnZ2VyKCAnZGVzdHJveS5kb3QnICk7XHJcblx0XHR9XHJcblxyXG5cdFx0JGRvdC5kYXRhKCAnZG90ZG90ZG90LXN0eWxlJywgJGRvdC5hdHRyKCAnc3R5bGUnICkgfHwgJycgKTtcclxuXHRcdCRkb3QuY3NzKCAnd29yZC13cmFwJywgJ2JyZWFrLXdvcmQnICk7XHJcblx0XHRpZiAoJGRvdC5jc3MoICd3aGl0ZS1zcGFjZScgKSA9PT0gJ25vd3JhcCcpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QuY3NzKCAnd2hpdGUtc3BhY2UnLCAnbm9ybWFsJyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdCRkb3QuYmluZF9ldmVudHMgPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QuYmluZChcclxuXHRcdFx0XHQndXBkYXRlLmRvdCcsXHJcblx0XHRcdFx0ZnVuY3Rpb24oIGUsIGMgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdCRkb3QucmVtb3ZlQ2xhc3MoXCJpcy10cnVuY2F0ZWRcIik7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdHN3aXRjaCggdHlwZW9mIG9wdHMuaGVpZ2h0IClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y2FzZSAnbnVtYmVyJzpcclxuXHRcdFx0XHRcdFx0XHRvcHRzLm1heEhlaWdodCA9IG9wdHMuaGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0Y2FzZSAnZnVuY3Rpb24nOlxyXG5cdFx0XHRcdFx0XHRcdG9wdHMubWF4SGVpZ2h0ID0gb3B0cy5oZWlnaHQuY2FsbCggJGRvdFsgMCBdICk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRcdG9wdHMubWF4SGVpZ2h0ID0gZ2V0VHJ1ZUlubmVySGVpZ2h0KCAkZG90ICk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0b3B0cy5tYXhIZWlnaHQgKz0gb3B0cy50b2xlcmFuY2U7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgYyAhPSAndW5kZWZpbmVkJyApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmICggdHlwZW9mIGMgPT0gJ3N0cmluZycgfHwgKCdub2RlVHlwZScgaW4gYyAmJiBjLm5vZGVUeXBlID09PSAxKSApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdCBcdFx0YyA9ICQoJzxkaXYgLz4nKS5hcHBlbmQoIGMgKS5jb250ZW50cygpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICggYyBpbnN0YW5jZW9mICQgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0b3JnQ29udGVudCA9IGM7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQkaW5yID0gJGRvdC53cmFwSW5uZXIoICc8ZGl2IGNsYXNzPVwiZG90ZG90ZG90XCIgLz4nICkuY2hpbGRyZW4oKTtcclxuXHRcdFx0XHRcdCRpbnIuY29udGVudHMoKVxyXG5cdFx0XHRcdFx0XHQuZGV0YWNoKClcclxuXHRcdFx0XHRcdFx0LmVuZCgpXHJcblx0XHRcdFx0XHRcdC5hcHBlbmQoIG9yZ0NvbnRlbnQuY2xvbmUoIHRydWUgKSApXHJcblx0XHRcdFx0XHRcdC5maW5kKCAnYnInIClcclxuXHRcdFx0XHRcdFx0LnJlcGxhY2VXaXRoKCAnICA8YnIgLz4gICcgKVxyXG5cdFx0XHRcdFx0XHQuZW5kKClcclxuXHRcdFx0XHRcdFx0LmNzcyh7XHJcblx0XHRcdFx0XHRcdFx0J2hlaWdodCdcdDogJ2F1dG8nLFxyXG5cdFx0XHRcdFx0XHRcdCd3aWR0aCdcdFx0OiAnYXV0bycsXHJcblx0XHRcdFx0XHRcdFx0J2JvcmRlcidcdDogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRcdCdwYWRkaW5nJ1x0OiAwLFxyXG5cdFx0XHRcdFx0XHRcdCdtYXJnaW4nXHQ6IDBcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0dmFyIGFmdGVyID0gZmFsc2UsXHJcblx0XHRcdFx0XHRcdHRydW5jID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBjb25mLmFmdGVyRWxlbWVudCApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGFmdGVyID0gY29uZi5hZnRlckVsZW1lbnQuY2xvbmUoIHRydWUgKTtcclxuXHRcdFx0XHRcdCAgICBhZnRlci5zaG93KCk7XHJcblx0XHRcdFx0XHRcdGNvbmYuYWZ0ZXJFbGVtZW50LmRldGFjaCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmICggdGVzdCggJGluciwgb3B0cyApIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0aWYgKCBvcHRzLndyYXAgPT0gJ2NoaWxkcmVuJyApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0cnVuYyA9IGNoaWxkcmVuKCAkaW5yLCBvcHRzLCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRydW5jID0gZWxsaXBzaXMoICRpbnIsICRkb3QsICRpbnIsIG9wdHMsIGFmdGVyICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRpbnIucmVwbGFjZVdpdGgoICRpbnIuY29udGVudHMoKSApO1xyXG5cdFx0XHRcdFx0JGluciA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIG9wdHMuY2FsbGJhY2sgKSApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdG9wdHMuY2FsbGJhY2suY2FsbCggJGRvdFsgMCBdLCB0cnVuYywgb3JnQ29udGVudCApO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNvbmYuaXNUcnVuY2F0ZWQgPSB0cnVuYztcclxuXHRcdFx0XHRcdHJldHVybiB0cnVuYztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHQpLmJpbmQoXHJcblx0XHRcdFx0J2lzVHJ1bmNhdGVkLmRvdCcsXHJcblx0XHRcdFx0ZnVuY3Rpb24oIGUsIGZuIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGZuID09ICdmdW5jdGlvbicgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRmbi5jYWxsKCAkZG90WyAwIF0sIGNvbmYuaXNUcnVuY2F0ZWQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBjb25mLmlzVHJ1bmNhdGVkO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdCkuYmluZChcclxuXHRcdFx0XHQnb3JpZ2luYWxDb250ZW50LmRvdCcsXHJcblx0XHRcdFx0ZnVuY3Rpb24oIGUsIGZuIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGZuID09ICdmdW5jdGlvbicgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRmbi5jYWxsKCAkZG90WyAwIF0sIG9yZ0NvbnRlbnQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBvcmdDb250ZW50O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdCkuYmluZChcclxuXHRcdFx0XHQnZGVzdHJveS5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdCRkb3QudW53YXRjaCgpXHJcblx0XHRcdFx0XHRcdC51bmJpbmRfZXZlbnRzKClcclxuXHRcdFx0XHRcdFx0LmNvbnRlbnRzKClcclxuXHRcdFx0XHRcdFx0LmRldGFjaCgpXHJcblx0XHRcdFx0XHRcdC5lbmQoKVxyXG5cdFx0XHRcdFx0XHQuYXBwZW5kKCBvcmdDb250ZW50IClcclxuXHRcdFx0XHRcdFx0LmF0dHIoICdzdHlsZScsICRkb3QuZGF0YSggJ2RvdGRvdGRvdC1zdHlsZScgKSB8fCAnJyApXHJcblx0XHRcdFx0XHRcdC5kYXRhKCAnZG90ZG90ZG90JywgZmFsc2UgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiAkZG90O1xyXG5cdFx0fTtcdC8vXHQvYmluZF9ldmVudHNcclxuXHJcblx0XHQkZG90LnVuYmluZF9ldmVudHMgPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QudW5iaW5kKCcuZG90Jyk7XHJcblx0XHRcdHJldHVybiAkZG90O1xyXG5cdFx0fTtcdC8vXHQvdW5iaW5kX2V2ZW50c1xyXG5cclxuXHRcdCRkb3Qud2F0Y2ggPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QudW53YXRjaCgpO1xyXG5cdFx0XHRpZiAoIG9wdHMud2F0Y2ggPT0gJ3dpbmRvdycgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dmFyICR3aW5kb3cgPSAkKHdpbmRvdyksXHJcblx0XHRcdFx0XHRfd1dpZHRoID0gJHdpbmRvdy53aWR0aCgpLFxyXG5cdFx0XHRcdFx0X3dIZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xyXG5cclxuXHRcdFx0XHQkd2luZG93LmJpbmQoXHJcblx0XHRcdFx0XHQncmVzaXplLmRvdCcgKyBjb25mLmRvdElkLFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZiAoIF93V2lkdGggIT0gJHdpbmRvdy53aWR0aCgpIHx8IF93SGVpZ2h0ICE9ICR3aW5kb3cuaGVpZ2h0KCkgfHwgIW9wdHMud2luZG93UmVzaXplRml4IClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdF93V2lkdGggPSAkd2luZG93LndpZHRoKCk7XHJcblx0XHRcdFx0XHRcdFx0X3dIZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIHdhdGNoSW50IClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCB3YXRjaEludCApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR3YXRjaEludCA9IHNldFRpbWVvdXQoXHJcblx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRkb3QudHJpZ2dlciggJ3VwZGF0ZS5kb3QnICk7XHJcblx0XHRcdFx0XHRcdFx0XHR9LCAxMDBcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHR3YXRjaE9yZyA9IGdldFNpemVzKCAkZG90ICk7XHJcblx0XHRcdFx0d2F0Y2hJbnQgPSBzZXRJbnRlcnZhbChcclxuXHRcdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0aWYgKCAkZG90LmlzKCAnOnZpc2libGUnICkgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHdhdGNoTmV3ID0gZ2V0U2l6ZXMoICRkb3QgKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIHdhdGNoT3JnLndpZHRoICAhPSB3YXRjaE5ldy53aWR0aCB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0IHdhdGNoT3JnLmhlaWdodCAhPSB3YXRjaE5ldy5oZWlnaHQgKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdCRkb3QudHJpZ2dlciggJ3VwZGF0ZS5kb3QnICk7XHJcblx0XHRcdFx0XHRcdFx0XHR3YXRjaE9yZyA9IHdhdGNoTmV3O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgNTAwXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJGRvdDtcclxuXHRcdH07XHJcblx0XHQkZG90LnVud2F0Y2ggPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCQod2luZG93KS51bmJpbmQoICdyZXNpemUuZG90JyArIGNvbmYuZG90SWQgKTtcclxuXHRcdFx0aWYgKCB3YXRjaEludCApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjbGVhckludGVydmFsKCB3YXRjaEludCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAkZG90O1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXJcdG9yZ0NvbnRlbnRcdD0gJGRvdC5jb250ZW50cygpLFxyXG5cdFx0XHRvcHRzIFx0XHQ9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgJC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdHMsIG8gKSxcclxuXHRcdFx0Y29uZlx0XHQ9IHt9LFxyXG5cdFx0XHR3YXRjaE9yZ1x0PSB7fSxcclxuXHRcdFx0d2F0Y2hJbnRcdD0gbnVsbCxcclxuXHRcdFx0JGluclx0XHQ9IG51bGw7XHJcblxyXG5cclxuXHRcdGlmICggISggb3B0cy5sYXN0Q2hhcmFjdGVyLnJlbW92ZSBpbnN0YW5jZW9mIEFycmF5ICkgKVxyXG5cdFx0e1xyXG5cdFx0XHRvcHRzLmxhc3RDaGFyYWN0ZXIucmVtb3ZlID0gJC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdEFycmF5cy5sYXN0Q2hhcmFjdGVyLnJlbW92ZTtcclxuXHRcdH1cclxuXHRcdGlmICggISggb3B0cy5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXMgaW5zdGFuY2VvZiBBcnJheSApIClcclxuXHRcdHtcclxuXHRcdFx0b3B0cy5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXMgPSAkLmZuLmRvdGRvdGRvdC5kZWZhdWx0QXJyYXlzLmxhc3RDaGFyYWN0ZXIubm9FbGxpcHNpcztcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Y29uZi5hZnRlckVsZW1lbnRcdD0gZ2V0RWxlbWVudCggb3B0cy5hZnRlciwgJGRvdCApO1xyXG5cdFx0Y29uZi5pc1RydW5jYXRlZFx0PSBmYWxzZTtcclxuXHRcdGNvbmYuZG90SWRcdFx0XHQ9IGRvdElkKys7XHJcblxyXG5cclxuXHRcdCRkb3QuZGF0YSggJ2RvdGRvdGRvdCcsIHRydWUgKVxyXG5cdFx0XHQuYmluZF9ldmVudHMoKVxyXG5cdFx0XHQudHJpZ2dlciggJ3VwZGF0ZS5kb3QnICk7XHJcblxyXG5cdFx0aWYgKCBvcHRzLndhdGNoIClcclxuXHRcdHtcclxuXHRcdFx0JGRvdC53YXRjaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAkZG90O1xyXG5cdH07XHJcblxyXG5cclxuXHQvL1x0cHVibGljXHJcblx0JC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdHMgPSB7XHJcblx0XHQnZWxsaXBzaXMnXHRcdFx0OiAnLi4uICcsXHJcblx0XHQnd3JhcCdcdFx0XHRcdDogJ3dvcmQnLFxyXG5cdFx0J2ZhbGxiYWNrVG9MZXR0ZXInXHQ6IHRydWUsXHJcblx0XHQnbGFzdENoYXJhY3RlcidcdFx0OiB7fSxcclxuXHRcdCd0b2xlcmFuY2UnXHRcdFx0OiAwLFxyXG5cdFx0J2NhbGxiYWNrJ1x0XHRcdDogbnVsbCxcclxuXHRcdCdhZnRlcidcdFx0XHRcdDogbnVsbCxcclxuXHRcdCdoZWlnaHQnXHRcdFx0OiBudWxsLFxyXG5cdFx0J3dhdGNoJ1x0XHRcdFx0OiBmYWxzZSxcclxuXHRcdCd3aW5kb3dSZXNpemVGaXgnXHQ6IHRydWVcclxuXHR9O1xyXG5cdCQuZm4uZG90ZG90ZG90LmRlZmF1bHRBcnJheXMgPSB7XHJcblx0XHQnbGFzdENoYXJhY3RlcidcdFx0OiB7XHJcblx0XHRcdCdyZW1vdmUnXHRcdFx0OiBbICcgJywgJ1xcdTMwMDAnLCAnLCcsICc7JywgJy4nLCAnIScsICc/JyBdLFxyXG5cdFx0XHQnbm9FbGxpcHNpcydcdFx0OiBbXVxyXG5cdFx0fVxyXG5cdH07XHJcblx0JC5mbi5kb3Rkb3Rkb3QuZGVidWcgPSBmdW5jdGlvbiggbXNnICkge307XHJcblxyXG5cclxuXHQvL1x0cHJpdmF0ZVxyXG5cdHZhciBkb3RJZCA9IDE7XHJcblxyXG5cdGZ1bmN0aW9uIGNoaWxkcmVuKCAkZWxlbSwgbywgYWZ0ZXIgKVxyXG5cdHtcclxuXHRcdHZhciAkZWxlbWVudHMgXHQ9ICRlbGVtLmNoaWxkcmVuKCksXHJcblx0XHRcdGlzVHJ1bmNhdGVkXHQ9IGZhbHNlO1xyXG5cclxuXHRcdCRlbGVtLmVtcHR5KCk7XHJcblxyXG5cdFx0Zm9yICggdmFyIGEgPSAwLCBsID0gJGVsZW1lbnRzLmxlbmd0aDsgYSA8IGw7IGErKyApXHJcblx0XHR7XHJcblx0XHRcdHZhciAkZSA9ICRlbGVtZW50cy5lcSggYSApO1xyXG5cdFx0XHQkZWxlbS5hcHBlbmQoICRlICk7XHJcblx0XHRcdGlmICggYWZ0ZXIgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JGVsZW0uYXBwZW5kKCBhZnRlciApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggdGVzdCggJGVsZW0sIG8gKSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkZS5yZW1vdmUoKTtcclxuXHRcdFx0XHRpc1RydW5jYXRlZCA9IHRydWU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWYgKCBhZnRlciApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0YWZ0ZXIuZGV0YWNoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXNUcnVuY2F0ZWQ7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGVsbGlwc2lzKCAkZWxlbSwgJGQsICRpLCBvLCBhZnRlciApXHJcblx0e1xyXG5cdFx0dmFyIGlzVHJ1bmNhdGVkXHQ9IGZhbHNlO1xyXG5cclxuXHRcdC8vXHREb24ndCBwdXQgdGhlIGVsbGlwc2lzIGRpcmVjdGx5IGluc2lkZSB0aGVzZSBlbGVtZW50c1xyXG5cdFx0dmFyIG5vdHggPSAnYSwgdGFibGUsIHRoZWFkLCB0Ym9keSwgdGZvb3QsIHRyLCBjb2wsIGNvbGdyb3VwLCBvYmplY3QsIGVtYmVkLCBwYXJhbSwgb2wsIHVsLCBkbCwgYmxvY2txdW90ZSwgc2VsZWN0LCBvcHRncm91cCwgb3B0aW9uLCB0ZXh0YXJlYSwgc2NyaXB0LCBzdHlsZSc7XHJcblxyXG5cdFx0Ly9cdERvbid0IHJlbW92ZSB0aGVzZSBlbGVtZW50cyBldmVuIGlmIHRoZXkgYXJlIGFmdGVyIHRoZSBlbGxpcHNpc1xyXG5cdFx0dmFyIG5vdHkgPSAnc2NyaXB0LCAuZG90ZG90ZG90LWtlZXAnO1xyXG5cclxuXHRcdCRlbGVtXHJcblx0XHRcdC5jb250ZW50cygpXHJcblx0XHRcdC5kZXRhY2goKVxyXG5cdFx0XHQuZWFjaChcclxuXHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0e1xyXG5cclxuXHRcdFx0XHRcdHZhciBlXHQ9IHRoaXMsXHJcblx0XHRcdFx0XHRcdCRlXHQ9ICQoZSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgZSA9PSAndW5kZWZpbmVkJyApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoICRlLmlzKCBub3R5ICkgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQkZWxlbS5hcHBlbmQoICRlICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIGlmICggaXNUcnVuY2F0ZWQgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0JGVsZW0uYXBwZW5kKCAkZSApO1xyXG5cdFx0XHRcdFx0XHRpZiAoIGFmdGVyICYmICEkZS5pcyggby5hZnRlciApICYmICEkZS5maW5kKCBvLmFmdGVyICkubGVuZ3RoICApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQkZWxlbVsgJGVsZW0uaXMoIG5vdHggKSA/ICdhZnRlcicgOiAnYXBwZW5kJyBdKCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICggdGVzdCggJGksIG8gKSApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGUubm9kZVR5cGUgPT0gMyApIC8vIG5vZGUgaXMgVEVYVFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlzVHJ1bmNhdGVkID0gZWxsaXBzaXNFbGVtZW50KCAkZSwgJGQsICRpLCBvLCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0aXNUcnVuY2F0ZWQgPSBlbGxpcHNpcyggJGUsICRkLCAkaSwgbywgYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICggIWlzVHJ1bmNhdGVkIClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHQkZS5kZXRhY2goKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlzVHJ1bmNhdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGlmICggIWlzVHJ1bmNhdGVkIClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdGlmICggYWZ0ZXIgKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGFmdGVyLmRldGFjaCgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdCRkLmFkZENsYXNzKFwiaXMtdHJ1bmNhdGVkXCIpO1xyXG5cdFx0cmV0dXJuIGlzVHJ1bmNhdGVkO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBlbGxpcHNpc0VsZW1lbnQoICRlLCAkZCwgJGksIG8sIGFmdGVyIClcclxuXHR7XHJcblx0XHR2YXIgZSA9ICRlWyAwIF07XHJcblxyXG5cdFx0aWYgKCAhZSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdHh0XHRcdFx0PSBnZXRUZXh0Q29udGVudCggZSApLFxyXG5cdFx0XHRzcGFjZVx0XHQ9ICggdHh0LmluZGV4T2YoJyAnKSAhPT0gLTEgKSA/ICcgJyA6ICdcXHUzMDAwJyxcclxuXHRcdFx0c2VwYXJhdG9yXHQ9ICggby53cmFwID09ICdsZXR0ZXInICkgPyAnJyA6IHNwYWNlLFxyXG5cdFx0XHR0ZXh0QXJyXHRcdD0gdHh0LnNwbGl0KCBzZXBhcmF0b3IgKSxcclxuXHRcdFx0cG9zaXRpb24gXHQ9IC0xLFxyXG5cdFx0XHRtaWRQb3NcdFx0PSAtMSxcclxuXHRcdFx0c3RhcnRQb3NcdD0gMCxcclxuXHRcdFx0ZW5kUG9zXHRcdD0gdGV4dEFyci5sZW5ndGggLSAxO1xyXG5cclxuXHJcblx0XHQvL1x0T25seSBvbmUgd29yZFxyXG5cdFx0aWYgKCBvLmZhbGxiYWNrVG9MZXR0ZXIgJiYgc3RhcnRQb3MgPT0gMCAmJiBlbmRQb3MgPT0gMCApXHJcblx0XHR7XHJcblx0XHRcdHNlcGFyYXRvclx0PSAnJztcclxuXHRcdFx0dGV4dEFyclx0XHQ9IHR4dC5zcGxpdCggc2VwYXJhdG9yICk7XHJcblx0XHRcdGVuZFBvc1x0XHQ9IHRleHRBcnIubGVuZ3RoIC0gMTtcclxuXHRcdH1cclxuXHJcblx0XHR3aGlsZSAoIHN0YXJ0UG9zIDw9IGVuZFBvcyAmJiAhKCBzdGFydFBvcyA9PSAwICYmIGVuZFBvcyA9PSAwICkgKVxyXG5cdFx0e1xyXG5cdFx0XHR2YXIgbSA9IE1hdGguZmxvb3IoICggc3RhcnRQb3MgKyBlbmRQb3MgKSAvIDIgKTtcclxuXHRcdFx0aWYgKCBtID09IG1pZFBvcyApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRtaWRQb3MgPSBtO1xyXG5cclxuXHRcdFx0c2V0VGV4dENvbnRlbnQoIGUsIHRleHRBcnIuc2xpY2UoIDAsIG1pZFBvcyArIDEgKS5qb2luKCBzZXBhcmF0b3IgKSArIG8uZWxsaXBzaXMgKTtcclxuXHRcdFx0JGkuY2hpbGRyZW4oKVxyXG5cdFx0XHRcdC5lYWNoKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnRvZ2dsZSgpLnRvZ2dsZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRpZiAoICF0ZXN0KCAkaSwgbyApIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHBvc2l0aW9uID0gbWlkUG9zO1xyXG5cdFx0XHRcdHN0YXJ0UG9zID0gbWlkUG9zO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGVuZFBvcyA9IG1pZFBvcztcclxuXHJcblx0XHRcdFx0Ly9cdEZhbGxiYWNrIHRvIGxldHRlclxyXG5cdFx0XHRcdGlmIChvLmZhbGxiYWNrVG9MZXR0ZXIgJiYgc3RhcnRQb3MgPT0gMCAmJiBlbmRQb3MgPT0gMCApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0c2VwYXJhdG9yXHQ9ICcnO1xyXG5cdFx0XHRcdFx0dGV4dEFyclx0XHQ9IHRleHRBcnJbIDAgXS5zcGxpdCggc2VwYXJhdG9yICk7XHJcblx0XHRcdFx0XHRwb3NpdGlvblx0PSAtMTtcclxuXHRcdFx0XHRcdG1pZFBvc1x0XHQ9IC0xO1xyXG5cdFx0XHRcdFx0c3RhcnRQb3NcdD0gMDtcclxuXHRcdFx0XHRcdGVuZFBvc1x0XHQ9IHRleHRBcnIubGVuZ3RoIC0gMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHBvc2l0aW9uICE9IC0xICYmICEoIHRleHRBcnIubGVuZ3RoID09IDEgJiYgdGV4dEFyclsgMCBdLmxlbmd0aCA9PSAwICkgKVxyXG5cdFx0e1xyXG5cdFx0XHR0eHQgPSBhZGRFbGxpcHNpcyggdGV4dEFyci5zbGljZSggMCwgcG9zaXRpb24gKyAxICkuam9pbiggc2VwYXJhdG9yICksIG8gKTtcclxuXHRcdFx0c2V0VGV4dENvbnRlbnQoIGUsIHR4dCApO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHR2YXIgJHcgPSAkZS5wYXJlbnQoKTtcclxuXHRcdFx0JGUuZGV0YWNoKCk7XHJcblxyXG5cdFx0XHR2YXIgYWZ0ZXJMZW5ndGggPSAoIGFmdGVyICYmIGFmdGVyLmNsb3Nlc3QoJHcpLmxlbmd0aCApID8gYWZ0ZXIubGVuZ3RoIDogMDtcclxuXHJcblx0XHRcdGlmICggJHcuY29udGVudHMoKS5sZW5ndGggPiBhZnRlckxlbmd0aCApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRlID0gZmluZExhc3RUZXh0Tm9kZSggJHcuY29udGVudHMoKS5lcSggLTEgLSBhZnRlckxlbmd0aCApLCAkZCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGUgPSBmaW5kTGFzdFRleHROb2RlKCAkdywgJGQsIHRydWUgKTtcclxuXHRcdFx0XHRpZiAoICFhZnRlckxlbmd0aCApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JHcuZGV0YWNoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggZSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eHQgPSBhZGRFbGxpcHNpcyggZ2V0VGV4dENvbnRlbnQoIGUgKSwgbyApO1xyXG5cdFx0XHRcdHNldFRleHRDb250ZW50KCBlLCB0eHQgKTtcclxuXHRcdFx0XHRpZiAoIGFmdGVyTGVuZ3RoICYmIGFmdGVyIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKGUpLnBhcmVudCgpLmFwcGVuZCggYWZ0ZXIgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gdGVzdCggJGksIG8gKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaS5pbm5lckhlaWdodCgpID4gby5tYXhIZWlnaHQ7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGFkZEVsbGlwc2lzKCB0eHQsIG8gKVxyXG5cdHtcclxuXHRcdHdoaWxlKCAkLmluQXJyYXkoIHR4dC5zbGljZSggLTEgKSwgby5sYXN0Q2hhcmFjdGVyLnJlbW92ZSApID4gLTEgKVxyXG5cdFx0e1xyXG5cdFx0XHR0eHQgPSB0eHQuc2xpY2UoIDAsIC0xICk7XHJcblx0XHR9XHJcblx0XHRpZiAoICQuaW5BcnJheSggdHh0LnNsaWNlKCAtMSApLCBvLmxhc3RDaGFyYWN0ZXIubm9FbGxpcHNpcyApIDwgMCApXHJcblx0XHR7XHJcblx0XHRcdHR4dCArPSBvLmVsbGlwc2lzO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHR4dDtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0U2l6ZXMoICRkIClcclxuXHR7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQnd2lkdGgnXHQ6ICRkLmlubmVyV2lkdGgoKSxcclxuXHRcdFx0J2hlaWdodCc6ICRkLmlubmVySGVpZ2h0KClcclxuXHRcdH07XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNldFRleHRDb250ZW50KCBlLCBjb250ZW50IClcclxuXHR7XHJcblx0XHRpZiAoIGUuaW5uZXJUZXh0IClcclxuXHRcdHtcclxuXHRcdFx0ZS5pbm5lclRleHQgPSBjb250ZW50O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAoIGUubm9kZVZhbHVlIClcclxuXHRcdHtcclxuXHRcdFx0ZS5ub2RlVmFsdWUgPSBjb250ZW50O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAoZS50ZXh0Q29udGVudClcclxuXHRcdHtcclxuXHRcdFx0ZS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRUZXh0Q29udGVudCggZSApXHJcblx0e1xyXG5cdFx0aWYgKCBlLmlubmVyVGV4dCApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBlLmlubmVyVGV4dDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKCBlLm5vZGVWYWx1ZSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBlLm5vZGVWYWx1ZTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKCBlLnRleHRDb250ZW50IClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIGUudGV4dENvbnRlbnQ7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRQcmV2Tm9kZSggbiApXHJcblx0e1xyXG5cdFx0ZG9cclxuXHRcdHtcclxuXHRcdFx0biA9IG4ucHJldmlvdXNTaWJsaW5nO1xyXG5cdFx0fVxyXG5cdFx0d2hpbGUgKCBuICYmIG4ubm9kZVR5cGUgIT09IDEgJiYgbi5ub2RlVHlwZSAhPT0gMyApO1xyXG5cclxuXHRcdHJldHVybiBuO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBmaW5kTGFzdFRleHROb2RlKCAkZWwsICR0b3AsIGV4Y2x1ZGVDdXJyZW50IClcclxuXHR7XHJcblx0XHR2YXIgZSA9ICRlbCAmJiAkZWxbIDAgXSwgcDtcclxuXHRcdGlmICggZSApXHJcblx0XHR7XHJcblx0XHRcdGlmICggIWV4Y2x1ZGVDdXJyZW50IClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmICggZS5ub2RlVHlwZSA9PT0gMyApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0cmV0dXJuIGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggJC50cmltKCAkZWwudGV4dCgpICkgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHJldHVybiBmaW5kTGFzdFRleHROb2RlKCAkZWwuY29udGVudHMoKS5sYXN0KCksICR0b3AgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cCA9IGdldFByZXZOb2RlKCBlICk7XHJcblx0XHRcdHdoaWxlICggIXAgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JGVsID0gJGVsLnBhcmVudCgpO1xyXG5cdFx0XHRcdGlmICggJGVsLmlzKCAkdG9wICkgfHwgISRlbC5sZW5ndGggKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cCA9IGdldFByZXZOb2RlKCAkZWxbMF0gKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIHAgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0cmV0dXJuIGZpbmRMYXN0VGV4dE5vZGUoICQocCksICR0b3AgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRFbGVtZW50KCBlLCAkaSApXHJcblx0e1xyXG5cdFx0aWYgKCAhZSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGlmICggdHlwZW9mIGUgPT09ICdzdHJpbmcnIClcclxuXHRcdHtcclxuXHRcdFx0ZSA9ICQoZSwgJGkpO1xyXG5cdFx0XHRyZXR1cm4gKCBlLmxlbmd0aCApXHJcblx0XHRcdFx0PyBlXHJcblx0XHRcdFx0OiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAhZS5qcXVlcnlcclxuXHRcdFx0PyBmYWxzZVxyXG5cdFx0XHQ6IGU7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGdldFRydWVJbm5lckhlaWdodCggJGVsIClcclxuXHR7XHJcblx0XHR2YXIgaCA9ICRlbC5pbm5lckhlaWdodCgpLFxyXG5cdFx0XHRhID0gWyAncGFkZGluZ1RvcCcsICdwYWRkaW5nQm90dG9tJyBdO1xyXG5cclxuXHRcdGZvciAoIHZhciB6ID0gMCwgbCA9IGEubGVuZ3RoOyB6IDwgbDsgeisrIClcclxuXHRcdHtcclxuXHRcdFx0dmFyIG0gPSBwYXJzZUludCggJGVsLmNzcyggYVsgeiBdICksIDEwICk7XHJcblx0XHRcdGlmICggaXNOYU4oIG0gKSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRtID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRoIC09IG07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaDtcclxuXHR9XHJcblxyXG5cclxuXHQvL1x0b3ZlcnJpZGUgalF1ZXJ5Lmh0bWxcclxuXHR2YXIgX29yZ0h0bWwgPSAkLmZuLmh0bWw7XHJcblx0JC5mbi5odG1sID0gZnVuY3Rpb24oIHN0ciApXHJcblx0e1xyXG5cdFx0aWYgKCBzdHIgIT0gdW5kZWYgJiYgISQuaXNGdW5jdGlvbiggc3RyICkgJiYgdGhpcy5kYXRhKCAnZG90ZG90ZG90JyApIClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIHRoaXMudHJpZ2dlciggJ3VwZGF0ZScsIFsgc3RyIF0gKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBfb3JnSHRtbC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0fTtcclxuXHJcblxyXG5cdC8vXHRvdmVycmlkZSBqUXVlcnkudGV4dFxyXG5cdHZhciBfb3JnVGV4dCA9ICQuZm4udGV4dDtcclxuXHQkLmZuLnRleHQgPSBmdW5jdGlvbiggc3RyIClcclxuXHR7XHJcblx0XHRpZiAoIHN0ciAhPSB1bmRlZiAmJiAhJC5pc0Z1bmN0aW9uKCBzdHIgKSAmJiB0aGlzLmRhdGEoICdkb3Rkb3Rkb3QnICkgKVxyXG5cdFx0e1xyXG5cdFx0XHRzdHIgPSAkKCAnPGRpdiAvPicgKS50ZXh0KCBzdHIgKS5odG1sKCk7XHJcblx0XHRcdHJldHVybiB0aGlzLnRyaWdnZXIoICd1cGRhdGUnLCBbIHN0ciBdICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gX29yZ1RleHQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdH07XHJcblxyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uUlNTID0ge307XG5cblJpc2VWaXNpb24uUlNTID0gKGZ1bmN0aW9uIChnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWRkaXRpb25hbFBhcmFtcztcblxuICB2YXIgX3ByZWZzID0gbnVsbCxcbiAgICBfcmlzZXJzcyA9IG51bGwsXG4gICAgX2NvbnRlbnQgPSBudWxsO1xuXG4gIHZhciBfY3VycmVudEZlZWQgPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RvbmUoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfZG9uZVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIikpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2xvYWRGb250cygpIHtcbiAgICAvLyBUT0RPOiBsb2FkIGZvbnRzIGFuZCBpbmplY3QgYW55IG90aGVyIGNzcyBpbnRvIHRoZSBkb2N1bWVudCBoZWFkXG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIG9uQ29udGVudERvbmUoKSB7XG4gICAgX2RvbmUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ29udGVudFJlYWR5KCkge1xuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25SaXNlUlNTSW5pdChmZWVkKSB7XG4gICAgX2N1cnJlbnRGZWVkID0gXy5jbG9uZShmZWVkKTtcblxuICAgIF9jb250ZW50ID0gbmV3IFJpc2VWaXNpb24uUlNTLkNvbnRlbnRSU1MoX3ByZWZzLCBfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgX2NvbnRlbnQuYnVpbGQoX2N1cnJlbnRGZWVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmlzZVJTU1JlZnJlc2goZmVlZCkge1xuICAgIC8vVE9ETzogbG9naWMgdG8gY29tZVxuICAgIGNvbnNvbGUuZGlyKGZlZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX2NvbnRlbnQuc2Nyb2xsUGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgX2NvbnRlbnQuc2Nyb2xsUGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhuYW1lcywgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgbmFtZXNbMF0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gSlNPTi5wYXJzZSh2YWx1ZXNbMF0pO1xuICAgICAgICBfcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpO1xuXG4gICAgICAgIF9sb2FkRm9udHMoKTtcblxuICAgICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIENvbXBvbmVudCBtb2R1bGUgaW5zdGFuY2VcbiAgICAgICAgX3Jpc2Vyc3MgPSBuZXcgUmlzZVZpc2lvbi5SU1MuUmlzZVJTUyhfYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICAgIF9yaXNlcnNzLmluaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge31cblxuICByZXR1cm4ge1xuICAgIFwib25Db250ZW50RG9uZVwiOiBvbkNvbnRlbnREb25lLFxuICAgIFwib25Db250ZW50UmVhZHlcIjogb25Db250ZW50UmVhZHksXG4gICAgXCJvblJpc2VSU1NJbml0XCI6IG9uUmlzZVJTU0luaXQsXG4gICAgXCJvblJpc2VSU1NSZWZyZXNoXCI6IG9uUmlzZVJTU1JlZnJlc2gsXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xuXG59KShnYWRnZXRzKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5SU1MgPSBSaXNlVmlzaW9uLlJTUyB8fCB7fTtcblxuUmlzZVZpc2lvbi5SU1MuUmlzZVJTUyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW5pdGlhbExvYWQgPSB0cnVlO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgcnNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyc3NcIik7XG5cbiAgICBpZiAoIXJzcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJzcy5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1yc3MtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLmZlZWQpIHtcbiAgICAgICAgaWYgKF9pbml0aWFsTG9hZCkge1xuICAgICAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5SU1Mub25SaXNlUlNTSW5pdChlLmRldGFpbC5mZWVkKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJpc2VWaXNpb24uUlNTLm9uUmlzZVJTU1JlZnJlc2goZS5kZXRhaWwuZmVlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJzcy5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1yc3MtZXJyb3JcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwicmlzZS1yc3MtZXJyb3IgaGFuZGxlclwiKTtcblxuICAgICAgaWYgKGUuZGV0YWlsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUuZGV0YWlsKTtcbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcnNzLnNldEF0dHJpYnV0ZShcInVybFwiLCBkYXRhLnVybCk7XG4gICAgcnNzLnNldEF0dHJpYnV0ZShcImVudHJpZXNcIiwgZGF0YS5xdWV1ZSk7XG4gICAgcnNzLnNldEF0dHJpYnV0ZShcInJlZnJlc2hcIiwgZGF0YS5yZWZyZXNoKTtcblxuICAgIC8vIHJldHJpZXZlIHRoZSBKU09OIGZvcm1hdHRlZCBSU1MgZGF0YVxuICAgIHJzcy5nbygpO1xuXG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlJTUyA9IFJpc2VWaXNpb24uUlNTIHx8IHt9O1xuUmlzZVZpc2lvbi5SU1MuSW1hZ2VzID0ge307XG5cblJpc2VWaXNpb24uUlNTLkltYWdlcyA9IChmdW5jdGlvbiAoKSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pbWFnZXNUb0xvYWQgPSBbXSxcbiAgICBfaW1hZ2VDb3VudCA9IDAsXG4gICAgX2ltYWdlcyA9IFtdLFxuICAgIF9jYWxsYmFjayA9IG51bGw7XG5cbiAgZnVuY3Rpb24gX29uSW1hZ2VMb2FkZWQoaW1hZ2UpIHtcbiAgICBfaW1hZ2VzLnB1c2goaW1hZ2UpO1xuICAgIF9pbWFnZUNvdW50ICs9IDE7XG5cbiAgICBpZiAoX2ltYWdlQ291bnQgPT09IF9pbWFnZXNUb0xvYWQubGVuZ3RoICYmIF9jYWxsYmFjayAmJiB0eXBlb2YgX2NhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIF9jYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9sb2FkSW1hZ2UoaW1hZ2UpIHtcbiAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgX29uSW1hZ2VMb2FkZWQodGhpcyk7XG4gICAgfTtcblxuICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgX29uSW1hZ2VMb2FkZWQodGhpcyk7XG4gICAgfTtcblxuICAgIGltZy5zcmMgPSBpbWFnZS51cmw7XG4gIH1cblxuICBmdW5jdGlvbiBfbG9hZEltYWdlcygpIHtcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBfaW1hZ2VzVG9Mb2FkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoX2ltYWdlc1RvTG9hZFtpXSA9PT0gbnVsbCkge1xuICAgICAgICBfb25JbWFnZUxvYWRlZChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9sb2FkSW1hZ2UoX2ltYWdlc1RvTG9hZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZChpbWFnZXMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfaW1hZ2VzVG9Mb2FkID0gaW1hZ2VzO1xuICAgICAgX2ltYWdlcyA9IFtdO1xuICAgICAgX2xvYWRJbWFnZXMoKTtcblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIF9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW1hZ2VzKCkge1xuICAgIHJldHVybiBfaW1hZ2VzO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRJbWFnZXM6IGdldEltYWdlcyxcbiAgICBsb2FkOiBsb2FkXG4gIH07XG5cbn0pKCk7XG5cbi8qIGdsb2JhbCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uUlNTID0gUmlzZVZpc2lvbi5SU1MgfHwge307XG5cblJpc2VWaXNpb24uUlNTLkNvbnRlbnRSU1MgPSBmdW5jdGlvbiAocHJlZnMsIHBhcmFtcykge1xuXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBTVVBQT1JURURfSU1BR0VTID0gW1wiaW1hZ2UvYm1wXCIsIFwiaW1hZ2UvZ2lmXCIsIFwiaW1hZ2UvanBlZ1wiLCBcImltYWdlL3BuZ1wiLCBcImltYWdlL3RpZmZcIl07XG5cbiAgLy8gUGx1Z2luc1xuICB2YXIgUExVR0lOX1NDUk9MTCA9IFwicGx1Z2luX2F1dG9TY3JvbGxcIjtcblxuICB2YXIgX2l0ZW1zID0gW10sXG4gICAgX2ltYWdlVXJscyA9IFtdO1xuXG4gIHZhciBfaW5pdGlhbEJ1aWxkID0gdHJ1ZSxcbiAgICBfaXNTY3JvbGxpbmcgPSBmYWxzZTtcblxuICB2YXIgJGVsO1xuXG4gIGZ1bmN0aW9uIF9jYWNoZSgpIHtcbiAgICAkZWwgPSB7XG4gICAgICBzY3JvbGxDb250YWluZXI6ICAgICAgJChcIiNzY3JvbGxDb250YWluZXJcIiksXG4gICAgICBwYWdlOiAgICAgICAgICAgICAgICAgJChcIi5wYWdlXCIpXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9oYXNJbWFnZXMoaW1hZ2VzQXJyKSB7XG4gICAgdmFyIGxpc3Q7XG5cbiAgICBpZiAoaW1hZ2VzQXJyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxpc3QgPSBfLndpdGhvdXQoaW1hZ2VzQXJyLCBudWxsKTtcblxuICAgIHJldHVybiBsaXN0Lmxlbmd0aCAhPT0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91cmxFeGlzdHModXJsLCBzdG9yeSkge1xuICAgIGlmICh1cmwgJiYgc3RvcnkpIHtcbiAgICAgIHJldHVybiBzdG9yeS5pbmRleE9mKHVybCAhPT0gLTEpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91c2VTZXBhcmF0b3IoKSB7XG4gICAgLy8gVE9ETzogbm8gY2hlY2tib3ggc2V0dGluZyBmb3IgYWxsb3dpbmcgdGhlIGNob2ljZSB0byB1c2UgYSBzZXBhcmF0b3JcbiAgICByZXR1cm4gcGFyYW1zLnNjcm9sbC5ieS50cmFuc2l0aW9uID09PSBcImNvbnRpbnVvdXNcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRJdGVtSGVpZ2h0KCkge1xuICAgIHZhciBoZWlnaHQgPSBwcmVmcy5nZXRJbnQoXCJyc0hcIikgLyBwYXJzZUludChwYXJhbXMuc3Rvcmllcyk7XG5cbiAgICByZXR1cm4gKF91c2VTZXBhcmF0b3IoKSkgPyBoZWlnaHQgLSAxOiBoZWlnaHQ7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0U2Nyb2xsRWwoKSB7XG4gICAgaWYgKHR5cGVvZiAkZWwuc2Nyb2xsQ29udGFpbmVyLmRhdGEoUExVR0lOX1NDUk9MTCkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiAkZWwuc2Nyb2xsQ29udGFpbmVyLmRhdGEoUExVR0lOX1NDUk9MTCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0U3RvcnkoaXRlbSkge1xuICAgIHZhciBzdG9yeSA9IG51bGw7XG5cbiAgICBpZiAoXy5oYXMoaXRlbSwgXCJjb250ZW50OmVuY29kZWRcIikpIHtcbiAgICAgIHN0b3J5ID0gaXRlbVtcImNvbnRlbnQ6ZW5jb2RlZFwiXTtcbiAgICB9IGVsc2UgaWYgKF8uaGFzKGl0ZW0sIFwiZGVzY3JpcHRpb25cIikpIHtcbiAgICAgIHN0b3J5ID0gaXRlbS5kZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Rvcnk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0QXV0aG9yKGl0ZW0pIHtcbiAgICB2YXIgYXV0aG9yID0gbnVsbDtcblxuICAgIGlmIChfLmhhcyhpdGVtLCBcImF1dGhvclwiKSkge1xuICAgICAgYXV0aG9yID0gaXRlbS5hdXRob3I7XG4gICAgfSBlbHNlIGlmIChfLmhhcyhpdGVtLCBcImRjOmNyZWF0b3JcIikpIHtcbiAgICAgIGF1dGhvciA9IGl0ZW1bXCJkYzpjcmVhdG9yXCJdO1xuICAgIH1cblxuICAgIHJldHVybiBhdXRob3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0SW1hZ2UoaW5kZXgpIHtcbiAgICB2YXIgaW1hZ2VzID0gUmlzZVZpc2lvbi5SU1MuSW1hZ2VzLmdldEltYWdlcygpLFxuICAgICAgaW1hZ2UgPSBudWxsO1xuXG4gICAgaWYgKGltYWdlcy5sZW5ndGggPiAwICYmIGltYWdlc1tpbmRleF0pIHtcbiAgICAgIGlmIChpbWFnZXNbaW5kZXhdLnNyYykge1xuICAgICAgICBpbWFnZSA9IGltYWdlc1tpbmRleF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFNjcm9sbGluZygpIHtcbiAgICBpZiAoIV9nZXRTY3JvbGxFbCgpKSB7XG4gICAgICAvLyBJbnRpdGlhdGUgYXV0byBzY3JvbGxpbmcgb24gdGhlIHNjcm9sbCBjb250YWluZXJcbiAgICAgICRlbC5zY3JvbGxDb250YWluZXIuYXV0b1Njcm9sbChwYXJhbXMuc2Nyb2xsKVxuICAgICAgICAub24oXCJkb25lXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfaXNTY3JvbGxpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uUlNTLm9uQ29udGVudERvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2dldFRlbXBsYXRlKGl0ZW0sIGluZGV4KSB7XG4gICAgdmFyIHN0b3J5ID0gX2dldFN0b3J5KGl0ZW0pLFxuICAgICAgYXV0aG9yID0gX2dldEF1dGhvcihpdGVtKSxcbiAgICAgIGltYWdlID0gX2dldEltYWdlKGluZGV4KSxcbiAgICAgIGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jzc0l0ZW1cIikuY29udGVudCxcbiAgICAgIGNsb25lO1xuXG4gICAgLy8gSGVhZGxpbmVcbiAgICBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGxpbmVcIikudGV4dENvbnRlbnQgPSBpdGVtLnRpdGxlO1xuXG4gICAgLy8gQXV0aG9yXG4gICAgY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmF1dGhvclwiKS50ZXh0Q29udGVudCA9ICghYXV0aG9yKSA/IFwiXCIgOiBhdXRob3I7XG5cbiAgICAvLyBEYXRlXG4gICAgLy8gVE9ETzogdXNlIG1vbWVudC5qcyB0byBmb3JtYXQgdGhlIGRhdGVcbiAgICBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGF0ZVwiKS50ZXh0Q29udGVudCA9IGl0ZW0ucHViZGF0ZTtcblxuICAgIC8vIFN0b3J5XG4gICAgaWYgKHBhcmFtcy5zZWxlY3Rpb24uc3RvcnkgPT09IFwic25pcHBldFwiKSB7XG4gICAgICAvLyBUT0RPOiBuZWVkIHRvIGNvbnZlcnQgc3RvcnkgdmFsdWUgdG8gdGV4dCBhbmQgdHJ1bmNhdGUsIHNldCBmdWxsIHN0b3J5IGZvciBub3dcbiAgICAgIGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5zdG9yeVwiKS5pbm5lckhUTUwgPSAoIXN0b3J5KSA/IFwiXCIgOiBzdG9yeTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBUT0RPOiBzdHJpcCBvdXQgPHNjcmlwdD4gdGFncyBiZWZvcmUgc2V0dGluZyB0aGlzIHZhbHVlXG5cbiAgICAgIGNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5zdG9yeVwiKS5pbm5lckhUTUwgPSAoIXN0b3J5KSA/IFwiXCIgOiBzdG9yeTtcblxuICAgICAgLy8gVE9ETzogUmVtaW5kZXIgLSBhcHBseSBzdG9yeV9mb250LXN0eWxlIHRvIGV2ZXJ5dGhpbmcgaW5zaWRlIChsaWtlbHkgbm90IGluIHRoaXMgZnVuY3Rpb24pXG4gICAgfVxuXG4gICAgLy8gSW1hZ2VzXG4gICAgaWYgKGltYWdlKSB7XG4gICAgICBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2VcIikuc2V0QXR0cmlidXRlKFwic3JjXCIsIGltYWdlLnNyYyk7XG4gICAgICAvLyBUT0RPOiBSZW1pbmRlciAtIGltYWdlIGRpbWVuc2lvbnMgbmVlZCB0byBiZSBhcHBsaWVkIChub3QgaW4gdGhpcyBmdW5jdGlvbilcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVtb3ZlIHRoZSBzcmMgYXR0cmlidXRlIGZyb20gPGltYWdlPlxuICAgICAgY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlXCIpLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICB9XG5cbiAgICBjbG9uZSA9ICQoZG9jdW1lbnQuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKSk7XG5cbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cblxuICBmdW5jdGlvbiBfYWRkSXRlbXMoKSB7XG4gICAgdmFyIGl0ZW1zTnVtID0gKF9pdGVtcy5sZW5ndGggPD0gcGFyYW1zLnF1ZXVlKSA/IF9pdGVtcy5sZW5ndGggOiBwYXJhbXMucXVldWUsXG4gICAgICB0ZW1wbGF0ZXNOdW0sIHRlbXBsYXRlO1xuXG4gICAgLy8gY2xlYXIgY29udGVudFxuICAgICRlbC5wYWdlLmVtcHR5KCk7XG5cbiAgICBpZiAocGFyYW1zLnNjcm9sbC5ieSAhPT0gXCJub25lXCIpIHtcbiAgICAgIC8vIGRpc3BsYXkgYWxsIGl0ZW1zXG4gICAgICB0ZW1wbGF0ZXNOdW0gPSBpdGVtc051bTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETzogdHJhbnNpdGlvbmluZyBub3QgaW1wbGVtZW50ZWQgeWV0LCB0aGlzIHdvbid0IGJlIHVzZWQgeWV0XG4gICAgICB0ZW1wbGF0ZXNOdW0gPSAocGFyYW1zLnN0b3JpZXMgPD0gaXRlbXNOdW0pID8gcGFyYW1zLnN0b3JpZXMgOiBpdGVtc051bTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlbXBsYXRlc051bTsgaSArPSAxKSB7XG4gICAgICB0ZW1wbGF0ZSA9IF9nZXRUZW1wbGF0ZShfaXRlbXNbaV0sIGkpO1xuICAgICAgJGVsLnBhZ2UuYXBwZW5kKHRlbXBsYXRlKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBtYXkgbmVlZCB0byB0cnVuY2F0ZSBlbHNld2hlcmUgd2hlbiB0cmFuc2l0aW9uaW5nIGlzIGltcGxlbWVudGVkXG4gICAgLy8gdHJ1bmNhdGUgaXRlbXMgaW4gb3JkZXIgdG8gc2hvdyB0aGVcbiAgICAkKFwiLml0ZW1cIikuZG90ZG90ZG90KHtcbiAgICAgIGhlaWdodDogX2dldEl0ZW1IZWlnaHQoKVxuICAgIH0pO1xuXG4gICAgJChcIi5pdGVtXCIpLmhlaWdodChfZ2V0SXRlbUhlaWdodCgpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgICRlbC5zY3JvbGxDb250YWluZXIud2lkdGgocHJlZnMuZ2V0SW50KFwicnNXXCIpKTtcbiAgICAkZWwuc2Nyb2xsQ29udGFpbmVyLmhlaWdodChwcmVmcy5nZXRJbnQoXCJyc0hcIikpO1xuXG4gICAgX2FkZEl0ZW1zKCk7XG5cbiAgICBpZiAoX2luaXRpYWxCdWlsZCkge1xuICAgICAgX3NldFNjcm9sbGluZygpO1xuXG4gICAgICBSaXNlVmlzaW9uLlJTUy5vbkNvbnRlbnRSZWFkeSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25maWd1cmVNZWRpYShmZWVkSXRlbXMpIHtcbiAgICB2YXIgc3RvcnksIG1lZGlhLCBtZWRpdW0sIHVybCwgdHlwZSwgZm91bmQsIGVuY2xvc3VyZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmVlZEl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgc3RvcnkgPSBfZ2V0U3RvcnkoZmVlZEl0ZW1zW2ldKTtcbiAgICAgIG1lZGlhID0gKF8uaGFzKGZlZWRJdGVtc1tpXSwgXCJtZWRpYTpjb250ZW50XCIpKSA/IGZlZWRJdGVtc1tpXVtcIm1lZGlhOmNvbnRlbnRcIl0gOiBudWxsO1xuICAgICAgZW5jbG9zdXJlID0gKF8uaGFzKGZlZWRJdGVtc1tpXSwgXCJlbmNsb3N1cmVcIikpID8gZmVlZEl0ZW1zW2ldLmVuY2xvc3VyZSA6IG51bGw7XG5cbiAgICAgIC8vIFRPRE86IE5lZWQgdG8gYWNjb3VudCBmb3IgbXVsdGlwbGUgPG1lZGlhOmNvbnRlbnQ+IGVsZW1lbnRzIHdpdGhpbiBhIDxtZWRpYTpncm91cD4gZWxlbWVudC5cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIG1lZGl1bSA9IChfLmhhcyhtZWRpYSwgXCJtZWRpdW1cIikpID8gbWVkaWEubWVkaXVtIDogbnVsbDtcbiAgICAgICAgdXJsID0gKF8uaGFzKG1lZGlhLCBcInVybFwiKSkgPyBtZWRpYS51cmwgOiBudWxsO1xuICAgICAgICB0eXBlID0gKF8uaGFzKG1lZGlhLCBcInR5cGVcIikpID8gbWVkaWEudHlwZSA6IG51bGw7XG5cbiAgICAgICAgaWYgKG1lZGl1bSkge1xuICAgICAgICAgIGlmIChtZWRpdW0gPT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgaWYgKCFfdXJsRXhpc3RzKHVybCwgc3RvcnkpKSB7XG4gICAgICAgICAgICAgIF9pbWFnZVVybHMucHVzaCh1cmwpO1xuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUpIHtcbiAgICAgICAgICBpZiAoXy5pbmRleE9mKFNVUFBPUlRFRF9JTUFHRVMsIHR5cGUpICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKCFfdXJsRXhpc3RzKHVybCwgc3RvcnkpKSB7XG4gICAgICAgICAgICAgIF9pbWFnZVVybHMucHVzaCh1cmwpO1xuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlbmNsb3N1cmUpIHtcbiAgICAgICAgdXJsID0gKF8uaGFzKGVuY2xvc3VyZSwgXCJ1cmxcIikpID8gZW5jbG9zdXJlLnVybCA6IG51bGw7XG4gICAgICAgIHR5cGUgPSAoXy5oYXMoZW5jbG9zdXJlLCBcInR5cGVcIikpID8gZW5jbG9zdXJlLnR5cGUgOiBudWxsO1xuXG4gICAgICAgIGlmIChfLmluZGV4T2YoU1VQUE9SVEVEX0lNQUdFUywgdHlwZSkgIT09IC0xKSB7XG4gICAgICAgICAgaWYgKCFfdXJsRXhpc3RzKHVybCwgc3RvcnkpKSB7XG4gICAgICAgICAgICBfaW1hZ2VVcmxzLnB1c2godXJsKTtcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9BZGQgYSBudWxsIHVybCBpZiB0aGlzIHBhcnRpY3VsYXIgaXRlbSBoYXMgbm8gaW1hZ2UuXG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIF9pbWFnZVVybHMucHVzaChudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxQbGF5KCkge1xuICAgIHZhciAkc2Nyb2xsID0gX2dldFNjcm9sbEVsKCk7XG5cbiAgICBpZiAoJHNjcm9sbCAmJiAkc2Nyb2xsLmNhblNjcm9sbCgpICYmICFfaXNTY3JvbGxpbmcpIHtcbiAgICAgICRzY3JvbGwucGxheSgpO1xuICAgICAgX2lzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxQYXVzZSgpIHtcbiAgICB2YXIgJHNjcm9sbCA9IF9nZXRTY3JvbGxFbCgpO1xuXG4gICAgaWYgKCRzY3JvbGwgJiYgJHNjcm9sbC5jYW5TY3JvbGwoKSkge1xuICAgICAgJHNjcm9sbC5wYXVzZSgpO1xuICAgICAgX2lzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGQoZmVlZCkge1xuICAgIF9pdGVtcyA9IGZlZWQuaXRlbXM7XG5cbiAgICBpZiAoISRlbCkge1xuICAgICAgX2NhY2hlKCk7XG4gICAgfVxuXG4gICAgX2ltYWdlVXJscyA9IFtdO1xuXG4gICAgX2NvbmZpZ3VyZU1lZGlhKF9pdGVtcyk7XG5cbiAgICBpZiAoX2hhc0ltYWdlcyhfaW1hZ2VVcmxzKSkge1xuICAgICAgLy8gTG9hZCB0aGUgaW1hZ2VzXG4gICAgICBSaXNlVmlzaW9uLlJTUy5JbWFnZXMubG9hZChfaW1hZ2VVcmxzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfaW5pdGlhbEJ1aWxkKSB7XG4gICAgICAgICAgX2luaXQoKTtcbiAgICAgICAgfVxuICAgICAgICAvKmVsc2Uge1xuICAgICAgICAgIC8vIFRPRE86IG5vdCBzdXJlIHdoYXQgd2lsbCBoYXBwZW4gaGVyZSB5ZXRcbiAgICAgICAgfSovXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKF9pbml0aWFsQnVpbGQpIHtcbiAgICAgICAgX2luaXQoKTtcbiAgICAgIH1cbiAgICAgIC8qZWxzZSB7XG4gICAgICAgLy8gVE9ETzogbm90IHN1cmUgd2hhdCB3aWxsIGhhcHBlbiBoZXJlIHlldFxuICAgICAgfSovXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBidWlsZDogYnVpbGQsXG4gICAgc2Nyb2xsUGxheTogc2Nyb2xsUGxheSxcbiAgICBzY3JvbGxQYXVzZTogc2Nyb2xsUGF1c2VcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBSaXNlVmlzaW9uICovXG5cbihmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgUmlzZVZpc2lvbi5SU1MucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5SU1MucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5SU1MucGF1c2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdlYkNvbXBvbmVudHNSZWFkeSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCB3ZWJDb21wb25lbnRzUmVhZHkpO1xuXG4gICAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcblxuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBSaXNlVmlzaW9uLlJTUy5zZXRBZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgd2ViQ29tcG9uZW50c1JlYWR5KTtcblxuXG59KSh3aW5kb3csIGdhZGdldHMpO1xuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
