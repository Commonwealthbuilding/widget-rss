!function(e,t,n,i){"use strict";function o(t,n){this.element=t,this.page=e(t).find(".page"),this.options=e.extend({},r,n),this._defaults=r,this._name=s,this.isLoading=!0,this.draggable=null,this.tween=null,this.calculateProgress=null,this.init()}var s="autoScroll",r={by:"continuous",speed:"medium",pause:5,click:!1,minimumMovement:3};o.prototype={init:function(){function t(){s.tween.pause(),TweenLite.killDelayedCallsTo(s.calculateProgress),TweenLite.killDelayedCallsTo(r),TweenLite.killDelayedCallsTo(a)}var n,o,s=this,r=null,a=null,l=e(this.element).outerHeight(!0),d=l,c=this.element.scrollHeight-this.element.offsetHeight;this.calculateProgress=function(){d=e(s.element).scrollTop()+l,s.tween.progress(e(s.element).scrollTop()/c).play()},this.canScroll()?("page"===this.options.by?(n="fastest"===this.options.speed?.4:"fast"===this.options.speed?.8:"medium"===this.options.speed?1.2:"slow"===this.options.speed?1.6:2,o=this.page.outerHeight(!0)/e(this.element).outerHeight(!0)*n):(n="fastest"===this.options.speed?60:"fast"===this.options.speed?50:"medium"===this.options.speed?40:"slow"===this.options.speed?30:20,o=Math.abs((this.page.outerHeight(!0)-e(this.element).outerHeight(!0))/n)),Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.75,minimumMovement:s.options.minimumMovement,onPress:function(){t()},onRelease:function(){"none"!==s.options.by&&TweenLite.delayedCall(s.options.pause,s.calculateProgress)},onClick:function(){s.options.click&&(t(),e(s.element).trigger("scrollClick",[this.pointerEvent]))}}),this.draggable=Draggable.get(this.element),this.tween=TweenLite.to(this.draggable.scrollProxy,o,{scrollTop:c,ease:Linear.easeNone,delay:this.options.pause,paused:!0,onUpdate:"page"===this.options.by?function(){Math.abs(s.draggable.scrollProxy.top())>=d&&(s.tween.pause(),d+=l,TweenLite.delayedCall(s.options.pause,a=function(){s.tween.resume()}))}:i,onComplete:function(){TweenLite.delayedCall(s.options.pause,r=function(){TweenLite.to(s.page,1,{autoAlpha:0,onComplete:function(){s.tween.seek(0).pause(),"page"===s.options.by&&(d=l),e(s.element).trigger("done")}})})}}),TweenLite.set(this.element,{overflowY:"hidden"})):this.options.click&&(Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.95,minimumMovement:this.options.minimumMovement,onClick:function(){e(s.element).trigger("scrollClick",[this.pointerEvent])}}),this.draggable=Draggable.get(this.element))},canScroll:function(){return this.options&&this.page.height()>e(this.element).height()},destroy:function(){e(this.element).removeData(),this.tween&&this.tween.kill(),this.draggable&&this.draggable.kill(),this.element=null,this.page=null,this.options=null,this._defaults=null,this.draggable=null,this.tween=null,this.calculateProgress=null}},o.prototype.play=function(){this.canScroll()&&"none"!==this.options.by&&this.tween&&(this.isLoading?(this.tween.play(),this.isLoading=!1):(TweenLite.to(this.page,1,{autoAlpha:1}),TweenLite.delayedCall(this.options.pause,this.calculateProgress)))},o.prototype.pause=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.pause())},o.prototype.stop=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.kill()),this.element=null,this.page=null},e.fn.autoScroll=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new o(this,t))})}}(jQuery,window,document),function(e,t){function n(e,t,n){var i=e.children(),o=!1;e.empty();for(var r=0,a=i.length;a>r;r++){var l=i.eq(r);if(e.append(l),n&&e.append(n),s(e,t)){l.remove(),o=!0;break}n&&n.detach()}return o}function i(t,n,r,a,l){var d=!1,c="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",u="script, .dotdotdot-keep";return t.contents().detach().each(function(){var f=this,h=e(f);if("undefined"==typeof f)return!0;if(h.is(u))t.append(h);else{if(d)return!0;t.append(h),!l||h.is(a.after)||h.find(a.after).length||t[t.is(c)?"after":"append"](l),s(r,a)&&(d=3==f.nodeType?o(h,n,r,a,l):i(h,n,r,a,l),d||(h.detach(),d=!0)),d||l&&l.detach()}}),n.addClass("is-truncated"),d}function o(t,n,i,o,a){var c=t[0];if(!c)return!1;var f=d(c),h=-1!==f.indexOf(" ")?" ":"　",p="letter"==o.wrap?"":h,g=f.split(p),m=-1,y=-1,v=0,w=g.length-1;for(o.fallbackToLetter&&0==v&&0==w&&(p="",g=f.split(p),w=g.length-1);w>=v&&(0!=v||0!=w);){var R=Math.floor((v+w)/2);if(R==y)break;y=R,l(c,g.slice(0,y+1).join(p)+o.ellipsis),i.children().each(function(){e(this).toggle().toggle()}),s(i,o)?(w=y,o.fallbackToLetter&&0==v&&0==w&&(p="",g=g[0].split(p),m=-1,y=-1,v=0,w=g.length-1)):(m=y,v=y)}if(-1==m||1==g.length&&0==g[0].length){var S=t.parent();t.detach();var C=a&&a.closest(S).length?a.length:0;S.contents().length>C?c=u(S.contents().eq(-1-C),n):(c=u(S,n,!0),C||S.detach()),c&&(f=r(d(c),o),l(c,f),C&&a&&e(c).parent().append(a))}else f=r(g.slice(0,m+1).join(p),o),l(c,f);return!0}function s(e,t){return e.innerHeight()>t.maxHeight}function r(t,n){for(;e.inArray(t.slice(-1),n.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),n.lastCharacter.noEllipsis)<0&&(t+=n.ellipsis),t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function d(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function c(e){do e=e.previousSibling;while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function u(t,n,i){var o,s=t&&t[0];if(s){if(!i){if(3===s.nodeType)return s;if(e.trim(t.text()))return u(t.contents().last(),n)}for(o=c(s);!o;){if(t=t.parent(),t.is(n)||!t.length)return!1;o=c(t[0])}if(o)return u(e(o),n)}return!1}function f(t,n){return t?"string"==typeof t?(t=e(t,n),t.length?t:!1):t.jquery?t:!1:!1}function h(e){for(var t=e.innerHeight(),n=["paddingTop","paddingBottom"],i=0,o=n.length;o>i;i++){var s=parseInt(e.css(n[i]),10);isNaN(s)&&(s=0),t-=s}return t}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(t)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(t,a){switch(o.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(o[0]);break;default:l.maxHeight=h(o)}l.maxHeight+=l.tolerance,"undefined"!=typeof a&&(("string"==typeof a||"nodeType"in a&&1===a.nodeType)&&(a=e("<div />").append(a).contents()),a instanceof e&&(r=a)),g=o.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(r.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return d.afterElement&&(c=d.afterElement.clone(!0),c.show(),d.afterElement.detach()),s(g,l)&&(u="children"==l.wrap?n(g,l,c):i(g,o,g,l,c)),g.replaceWith(g.contents()),g=null,e.isFunction(l.callback)&&l.callback.call(o[0],u,r),d.isTruncated=u,u}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],d.isTruncated),d.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(o[0],r),r}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(r).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var t=e(window),n=t.width(),i=t.height();t.bind("resize.dot"+d.dotId,function(){n==t.width()&&i==t.height()&&l.windowResizeFix||(n=t.width(),i=t.height(),u&&clearInterval(u),u=setTimeout(function(){o.trigger("update.dot")},100))})}else c=a(o),u=setInterval(function(){if(o.is(":visible")){var e=a(o);(c.width!=e.width||c.height!=e.height)&&(o.trigger("update.dot"),c=e)}},500);return o},o.unwatch=function(){return e(window).unbind("resize.dot"+d.dotId),u&&clearInterval(u),o};var r=o.contents(),l=e.extend(!0,{},e.fn.dotdotdot.defaults,t),d={},c={},u=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),d.afterElement=f(l.after,o),d.isTruncated=!1,d.dotId=p++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(){};var p=1,g=e.fn.html;e.fn.html=function(n){return n!=t&&!e.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var m=e.fn.text;e.fn.text=function(n){return n!=t&&!e.isFunction(n)&&this.data("dotdotdot")?(n=e("<div />").text(n).html(),this.trigger("update",[n])):m.apply(this,arguments)}}}(jQuery);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family:"+t.font.family+"; ",i="color: "+(t.color?t.color:t.forecolor)+"; ",o="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),s="font-weight: "+(t.bold?"bold":"normal")+"; ",r="font-style: "+(t.italic?"italic":"normal")+"; ",a="text-decoration: "+(t.underline?"underline":"none")+"; ",l="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+"; ";return"."+e+" {"+n+i+o+s+r+a+l+"}"}function t(e){for(var t=document.createElement("style"),n=0,i=e.length;i>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,s){n.forEach(function(n){n.class&&n.fontSetting&&t([e(n.class,n.fontSetting)]),n.fontSetting.font.type&&("custom"===n.fontSetting.font.type&&n.fontSetting.font.family&&n.fontSetting.font.url?i(n.fontSetting.font.family,n.fontSetting.font.url,s):"google"===n.fontSetting.font.type&&n.fontSetting.font.family&&o(n.fontSetting.font.family,s))})}function i(e,t,n){var i=null,o="font-family: "+e+"; src: url('"+t+"');";n=n||document,i=n.styleSheets[0],null!==i&&i.addRule("@font-face",o)}function o(e,t){var n=document.createElement("link");t=t||document,n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://fonts.googleapis.com/css?family="+e.split(",")[0]),null!==n&&t.getElementsByTagName("head")[0].appendChild(n)}function s(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i]=new Image,n[i].src=e[i]}function r(e){for(var t,n=window.location.search.substring(1),i=n.split("&"),o=0;o<i.length;o++)if(t=i[o].split("="),t[0]==e)return decodeURIComponent(t[1]);return""}function a(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}return{getQueryParameter:r,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:i,loadGoogleFont:o,preloadImages:s,getRiseCacheErrorMessage:a}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var i=null;e.event?(i=e,i.file_url&&(i.file_format=n(i.file_url)),i.company_id=a,i.display_id=r,t(i)):t(i)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,i=e.getUTCDate();return 10>n&&(n="0"+n),10>i&&(i="0"+i),t+n+i}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function i(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},i=JSON.parse(JSON.stringify(n));return i.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),i.rows[0].json=JSON.parse(JSON.stringify(e)),i.rows[0].json.ts=(new Date).toISOString(),i}function o(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function s(e,t){a=e,r=t}var r="",a="";return{getInsertData:i,getFileFormat:n,logEvent:o,setIds:s}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-d<358e4?e({}):(t.open("POST",o,!0),t.onloadend=function(){var n=JSON.parse(t.response);e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return r&&l===e}function i(i,o){function u(t){var n,r,a=new XMLHttpRequest;r=s.replace("TABLE_ID",i),d=t.refreshedAt||d,c=t.token||c,n=e.getInsertData(o),a.open("POST",r,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+c),o.cb&&"function"==typeof o.cb&&(a.onloadend=function(){o.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!i||!o||o.hasOwnProperty("event")&&!o.event||o.hasOwnProperty("event")&&n(o.event)))return r=!0,l=o.event,setTimeout(function(){r=!1},a),t(u)}var o="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",s="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",r=!1,a=1e3,l="",d=0,c="";return{log:i}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.RSS={},RiseVision.RSS=function(e,t){"use strict";function n(){t.rpc.call("","rsevent_ready",null,m.getString("id"),!0,!0,!0,!0,!0)}function i(){t.rpc.call("","rsevent_done",null,m.getString("id"))}function o(){clearTimeout(C),C=null}function s(){o(),C=setTimeout(function(){i()},5e3)}function r(){y=new RiseVision.Common.Message(e.getElementById("container"),e.getElementById("messageContainer")),y.show("Please wait while your feed is loaded.");var t=[{"class":"headline_font-style",fontSetting:g.headline.fontStyle},{"class":"story_font-style",fontSetting:g.story.fontStyle}];RiseVision.Common.Utilities.loadFonts(t),v=new RiseVision.RSS.RiseRSS(g),v.init(),n()}function a(){i()}function l(e){console.log("onRiseRSSInit"),console.dir(e),e.items&&e.items.length>0?(y.hide(),R=_.clone(e),w=new RiseVision.RSS.Content(m),w.init(R),S||w.play()):h("There are no entries to show from this RSS feed.")}function d(e){console.log("onRiseRSSRefresh"),console.dir(e);var t=!1;if(e.items&&0!==e.items.length){if(e.items.length!==R.items.length)t=!0;else for(var n=0;n<R.items.length;n+=1)if(!_.isEqual(e.items[n],R.items[n])){t=!0;break}}else b||h("There are no entries to show from this RSS feed.");t&&(R=_.clone(e),b?(b=!1,w||(w=new RiseVision.RSS.Content(m)),w.init(R),S||w.play()):w.update(e))}function c(){return S=!0,b?(o(),void 0):(w&&w.pause(),void 0)}function u(){return S=!1,b?(s(),void 0):(w&&w.play(),void 0)}function f(n){g=JSON.parse(JSON.stringify(n)),m=new t.Prefs,g.width=m.getInt("rsW"),g.height=m.getInt("rsH"),e.getElementById("container").style.width=g.width+"px",e.getElementById("container").style.height=g.height+"px",r()}function h(e){b=!0,w.reset(),y.show(e),S||s()}function p(){c()}var g=null,m=new t.Prefs,y=null,v=null,w=null,R=null,S=!0,C=null,b=!1;return{onContentDone:a,onRiseRSSInit:l,onRiseRSSRefresh:d,pause:c,play:u,setAdditionalParams:f,showError:h,stop:p}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Utils=function(){"use strict";function e(e){var t,n,i=document.createElement("div");for(i.innerHTML=e,t=i.getElementsByTagName("script"),n=t.length;n--;)t[n].parentNode.removeChild(t[n]);return i.innerHTML}return{stripScripts:e}}();var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.RiseRSS=function(e){"use strict";function t(){var t=document.querySelector("rise-rss");t.addEventListener("rise-rss-response",function(e){e.detail&&e.detail.feed&&(n?(n=!1,RiseVision.RSS.onRiseRSSInit(e.detail.feed)):RiseVision.RSS.onRiseRSSRefresh(e.detail.feed))}),t.addEventListener("rise-rss-error",function(){RiseVision.RSS.showError("Sorry, there was a problem with the RSS feed.",!0)}),t.setAttribute("url",e.url),t.go()}var n=!0;return{init:t}};var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Content=function(e){"use strict";function t(){p={container:$("#container"),page:$(".page")}}function n(e){var t=null;return _.has(e,"content:encoded")?t=e["content:encoded"]:_.has(e,"description")&&(t=e.description),t}function i(e){var t,i,o=n(e),s=document.querySelector("#rssItem").content,r=$(s.cloneNode(!0));return e.title?r.find(".headline a").text(e.title):r.remove(".headline"),o?(t=r.find(".story"),t.html(m.stripScripts(o)),t.find("p").addClass("story_font-style"),t.find("div").addClass("story_font-style"),t.find("span").addClass("story_font-style")):r.remove(".story"),i=$(document.importNode(r[0],!0))}function o(){p.page.empty()}function s(t){p.page.append(i(g[t])),$(".item").dotdotdot({height:e.getInt("rsH")}),$(".item").height(e.getInt("rsH"))}function r(){return y===g.length-1?(l(),y=0,o(),s(y),R=!1,RiseVision.RSS.onContentDone(),void 0):(R?(y=0,R=!1):y+=1,o(),s(y),void 0)}function a(){null===v&&(v=setInterval(function(){r()},w))}function l(){clearInterval(v),v=null}function d(e){g=e.items,y=0,s(y)}function c(){l()}function u(){l(),o(),g=[]}function f(){a()}function h(e){g=e.items,R=!0}var p,g=[],m=RiseVision.RSS.Utils,y=0,v=null,w=1e4,R=!1;return t(),{init:d,pause:c,play:f,reset:u,update:h}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,t){"use strict";function n(){try{t.style.height=e.style.height}catch(n){console.warn("Can't initialize Message - ",n.message)}}function i(){if(s){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none",e.style.visibility="visible",s=!1}}function o(n){var i,o=document.createDocumentFragment();s?(i=t.querySelector(".message"),i.innerHTML=n):(e.style.visibility="hidden",t.style.display="block",i=document.createElement("p"),i.innerHTML=n,i.setAttribute("class","message"),o.appendChild(i),t.appendChild(o),s=!0)}var s=!1;return n(),{hide:i,show:o}},function(e,t,n){"use strict";function i(e,t){var n,i="",o="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(i=t[0]),"displayId"===e[1]&&(o=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(i,o),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),RiseVision.RSS.setAdditionalParams(n)))}function o(){RiseVision.RSS.play()}function s(){RiseVision.RSS.pause()}function r(){RiseVision.RSS.stop()}function a(){e.removeEventListener("WebComponentsReady",a),d&&""!==d&&(n.rpc.register("rscmd_play_"+d,o),n.rpc.register("rscmd_pause_"+d,s),n.rpc.register("rscmd_stop_"+d,r),n.rpc.register("rsparam_set_"+d,i),n.rpc.call("","rsparam_get",null,d,["companyId","displayId","additionalParams"]))}var l=new n.Prefs,d=l.getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},e.addEventListener("WebComponentsReady",a)}(window,document,gadgets);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiUGx1Z2luIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJ0aGlzIiwicGFnZSIsImZpbmQiLCJleHRlbmQiLCJkZWZhdWx0cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwicGx1Z2luTmFtZSIsImlzTG9hZGluZyIsImRyYWdnYWJsZSIsInR3ZWVuIiwiY2FsY3VsYXRlUHJvZ3Jlc3MiLCJpbml0IiwiYnkiLCJzcGVlZCIsInBhdXNlIiwiY2xpY2siLCJtaW5pbXVtTW92ZW1lbnQiLCJwcm90b3R5cGUiLCJwYXVzZVR3ZWVuIiwic2VsZiIsIlR3ZWVuTGl0ZSIsImtpbGxEZWxheWVkQ2FsbHNUbyIsInNjcm9sbENvbXBsZXRlIiwicGFnZUNvbXBsZXRlIiwiZHVyYXRpb24iLCJlbGVtZW50SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJwYXVzZUhlaWdodCIsIm1heCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsInByb2dyZXNzIiwicGxheSIsImNhblNjcm9sbCIsIk1hdGgiLCJhYnMiLCJEcmFnZ2FibGUiLCJjcmVhdGUiLCJ0eXBlIiwidGhyb3dQcm9wcyIsImVkZ2VSZXNpc3RhbmNlIiwib25QcmVzcyIsIm9uUmVsZWFzZSIsImRlbGF5ZWRDYWxsIiwib25DbGljayIsInRyaWdnZXIiLCJwb2ludGVyRXZlbnQiLCJnZXQiLCJ0byIsInNjcm9sbFByb3h5IiwiZWFzZSIsIkxpbmVhciIsImVhc2VOb25lIiwiZGVsYXkiLCJwYXVzZWQiLCJvblVwZGF0ZSIsInRvcCIsInJlc3VtZSIsIm9uQ29tcGxldGUiLCJhdXRvQWxwaGEiLCJzZWVrIiwic2V0Iiwib3ZlcmZsb3dZIiwiaGVpZ2h0IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJraWxsIiwic3RvcCIsImZuIiwiYXV0b1Njcm9sbCIsImVhY2giLCJkYXRhIiwialF1ZXJ5IiwidW5kZWYiLCJjaGlsZHJlbiIsIiRlbGVtIiwibyIsImFmdGVyIiwiJGVsZW1lbnRzIiwiaXNUcnVuY2F0ZWQiLCJlbXB0eSIsImEiLCJsIiwibGVuZ3RoIiwiJGUiLCJlcSIsImFwcGVuZCIsInRlc3QiLCJyZW1vdmUiLCJkZXRhY2giLCJlbGxpcHNpcyIsIiRkIiwiJGkiLCJub3R4Iiwibm90eSIsImNvbnRlbnRzIiwiZSIsImlzIiwibm9kZVR5cGUiLCJlbGxpcHNpc0VsZW1lbnQiLCJhZGRDbGFzcyIsInR4dCIsImdldFRleHRDb250ZW50Iiwic3BhY2UiLCJpbmRleE9mIiwic2VwYXJhdG9yIiwid3JhcCIsInRleHRBcnIiLCJzcGxpdCIsInBvc2l0aW9uIiwibWlkUG9zIiwic3RhcnRQb3MiLCJlbmRQb3MiLCJmYWxsYmFja1RvTGV0dGVyIiwibSIsImZsb29yIiwic2V0VGV4dENvbnRlbnQiLCJzbGljZSIsImpvaW4iLCJ0b2dnbGUiLCIkdyIsInBhcmVudCIsImFmdGVyTGVuZ3RoIiwiY2xvc2VzdCIsImZpbmRMYXN0VGV4dE5vZGUiLCJhZGRFbGxpcHNpcyIsImlubmVySGVpZ2h0IiwibWF4SGVpZ2h0IiwiaW5BcnJheSIsImxhc3RDaGFyYWN0ZXIiLCJub0VsbGlwc2lzIiwiZ2V0U2l6ZXMiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJjb250ZW50IiwiaW5uZXJUZXh0Iiwibm9kZVZhbHVlIiwidGV4dENvbnRlbnQiLCJnZXRQcmV2Tm9kZSIsIm4iLCJwcmV2aW91c1NpYmxpbmciLCIkZWwiLCIkdG9wIiwiZXhjbHVkZUN1cnJlbnQiLCJwIiwidHJpbSIsInRleHQiLCJsYXN0IiwiZ2V0RWxlbWVudCIsImpxdWVyeSIsImdldFRydWVJbm5lckhlaWdodCIsImgiLCJ6IiwicGFyc2VJbnQiLCJjc3MiLCJpc05hTiIsImRvdGRvdGRvdCIsImRlYnVnIiwic2VsZWN0b3IiLCIkZG90IiwiYXR0ciIsImJpbmRfZXZlbnRzIiwiYmluZCIsImMiLCJyZW1vdmVDbGFzcyIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwib3B0cyIsImNhbGwiLCJ0b2xlcmFuY2UiLCJvcmdDb250ZW50IiwiJGluciIsIndyYXBJbm5lciIsImVuZCIsImNsb25lIiwicmVwbGFjZVdpdGgiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwidHJ1bmMiLCJjb25mIiwiYWZ0ZXJFbGVtZW50Iiwic2hvdyIsImlzRnVuY3Rpb24iLCJjYWxsYmFjayIsInVud2F0Y2giLCJ1bmJpbmRfZXZlbnRzIiwidW5iaW5kIiwid2F0Y2giLCIkd2luZG93IiwiX3dXaWR0aCIsIl93SGVpZ2h0IiwiZG90SWQiLCJ3aW5kb3dSZXNpemVGaXgiLCJ3YXRjaEludCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0Iiwid2F0Y2hPcmciLCJzZXRJbnRlcnZhbCIsIndhdGNoTmV3IiwiQXJyYXkiLCJkZWZhdWx0QXJyYXlzIiwiX29yZ0h0bWwiLCJodG1sIiwic3RyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfb3JnVGV4dCIsIldJREdFVF9DT01NT05fQ09ORklHIiwiQVVUSF9QQVRIX1VSTCIsIkxPR0dFUl9DTElFTlRfSUQiLCJMT0dHRVJfQ0xJRU5UX1NFQ1JFVCIsIkxPR0dFUl9SRUZSRVNIX1RPS0VOIiwiU1RPUkFHRV9FTlYiLCJTVE9SRV9VUkwiLCJSaXNlVmlzaW9uIiwiQ29tbW9uIiwiVXRpbGl0aWVzIiwiZ2V0Rm9udENzc1N0eWxlIiwiY2xhc3NOYW1lIiwiZm9udE9iaiIsImZhbWlseSIsImZvbnQiLCJjb2xvciIsImZvcmVjb2xvciIsInNpemUiLCJ3ZWlnaHQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q29sb3IiLCJiYWNrY29sb3IiLCJhZGRDU1NSdWxlcyIsInJ1bGVzIiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiaSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJoZWFkIiwibG9hZEZvbnRzIiwic2V0dGluZ3MiLCJjb250ZW50RG9jIiwiZm9yRWFjaCIsIml0ZW0iLCJjbGFzcyIsImZvbnRTZXR0aW5nIiwidXJsIiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udCIsInNoZWV0IiwicnVsZSIsInN0eWxlU2hlZXRzIiwiYWRkUnVsZSIsInN0eWxlc2hlZXQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJzcmMiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwicGFpciIsInF1ZXJ5IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ2YXJzIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlIiwic3RhdHVzQ29kZSIsImVycm9yTWVzc2FnZSIsIkxvZ2dlclV0aWxzIiwiZ2V0RXZlbnRQYXJhbXMiLCJwYXJhbXMiLCJjYiIsImpzb24iLCJldmVudCIsImZpbGVfdXJsIiwiZmlsZV9mb3JtYXQiLCJnZXRGaWxlRm9ybWF0IiwiY29tcGFueV9pZCIsImNvbXBhbnlJZCIsImRpc3BsYXlfaWQiLCJkaXNwbGF5SWQiLCJnZXRTdWZmaXgiLCJkYXRlIiwiRGF0ZSIsInllYXIiLCJnZXRVVENGdWxsWWVhciIsIm1vbnRoIiwiZ2V0VVRDTW9udGgiLCJkYXkiLCJnZXRVVENEYXRlIiwiaGFzUGFyYW1zIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicmFuZG9tIiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRzIiwidG9JU09TdHJpbmciLCJsb2dFdmVudCIsInRhYmxlIiwiTG9nZ2VyIiwibG9nIiwic2V0SWRzIiwiY29tcGFueSIsImRpc3BsYXkiLCJ1dGlscyIsInJlZnJlc2hUb2tlbiIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVmcmVzaERhdGUiLCJvcGVuIiwiUkVGUkVTSF9VUkwiLCJvbmxvYWRlbmQiLCJyZXNwIiwicmVzcG9uc2UiLCJ0b2tlbiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hlZEF0Iiwic2VuZCIsImlzVGhyb3R0bGVkIiwidGhyb3R0bGUiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwicmVwbGFjZSIsInNldFJlcXVlc3RIZWFkZXIiLCJoYXNPd25Qcm9wZXJ0eSIsInRocm90dGxlRGVsYXkiLCJSU1MiLCJnYWRnZXRzIiwiX3JlYWR5IiwicnBjIiwiX3ByZWZzIiwiZ2V0U3RyaW5nIiwiX2RvbmUiLCJfY2xlYXJFcnJvclRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiX2Vycm9yVGltZXIiLCJfc3RhcnRFcnJvclRpbWVyIiwiX2luaXQiLCJfbWVzc2FnZSIsIk1lc3NhZ2UiLCJnZXRFbGVtZW50QnlJZCIsImZvbnRTZXR0aW5ncyIsIl9hZGRpdGlvbmFsUGFyYW1zIiwiaGVhZGxpbmUiLCJmb250U3R5bGUiLCJzdG9yeSIsIl9yaXNlcnNzIiwiUmlzZVJTUyIsIm9uQ29udGVudERvbmUiLCJvblJpc2VSU1NJbml0IiwiZmVlZCIsImNvbnNvbGUiLCJkaXIiLCJpdGVtcyIsImhpZGUiLCJfY3VycmVudEZlZWQiLCJfIiwiX2NvbnRlbnQiLCJDb250ZW50IiwiX3ZpZXdlclBhdXNlZCIsInNob3dFcnJvciIsIm9uUmlzZVJTU1JlZnJlc2giLCJ1cGRhdGVkIiwiaXNFcXVhbCIsIl9lcnJvckZsYWciLCJ1cGRhdGUiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtcyIsIlByZWZzIiwiZ2V0SW50IiwibWVzc2FnZSIsInJlc2V0IiwiVXRpbHMiLCJzdHJpcFNjcmlwdHMiLCJzY3JpcHRzIiwiZGl2IiwiaW5uZXJIVE1MIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicnNzIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJnbyIsInByZWZzIiwiX2NhY2hlIiwiXyRlbCIsImNvbnRhaW5lciIsIl9nZXRTdG9yeSIsImhhcyIsImRlc2NyaXB0aW9uIiwiX2dldFRlbXBsYXRlIiwiJHN0b3J5IiwidGVtcGxhdGUiLCIkY29udGVudCIsImNsb25lTm9kZSIsInRpdGxlIiwiX3V0aWxzIiwiaW1wb3J0Tm9kZSIsIl9jbGVhciIsIl9zaG93SXRlbSIsImluZGV4IiwiX2l0ZW1zIiwiX3RyYW5zaXRpb24iLCJfY3VycmVudEl0ZW1JbmRleCIsIl9zdG9wVHJhbnNpdGlvblRpbWVyIiwiX3dhaXRpbmdGb3JVcGRhdGUiLCJfc3RhcnRUcmFuc2l0aW9uVGltZXIiLCJfdHJhbnNpdGlvbkludGVydmFsSWQiLCJfdHJhbnNpdGlvbkludGVydmFsIiwibWFpbkNvbnRhaW5lciIsIm1lc3NhZ2VDb250YWluZXIiLCJ3YXJuIiwiX2FjdGl2ZSIsImZpcnN0Q2hpbGQiLCJ2aXNpYmlsaXR5IiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY29uZmlndXJlIiwibmFtZXMiLCJ2YWx1ZXMiLCJpc0FycmF5Iiwid2ViQ29tcG9uZW50c1JlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlkIiwicmVnaXN0ZXIiLCJvbmNvbnRleHRtZW51IiwiYm9keSIsIm9ubW91c2Vkb3duIl0sIm1hcHBpbmdzIjoiQ0FPQyxTQUFXQSxFQUFHQyxFQUFRQyxFQUFVQyxHQUNoQyxZQVlBLFNBQVNDLEdBQU9DLEVBQVNDLEdBQ3hCQyxLQUFLRixRQUFVQSxFQUNmRSxLQUFLQyxLQUFPUixFQUFFSyxHQUFTSSxLQUFLLFNBQzVCRixLQUFLRCxRQUFVTixFQUFFVSxVQUFXQyxFQUFVTCxHQUN0Q0MsS0FBS0ss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QVFFLElBQUlpRyxTQUFTLGVBQWlCRCxFQUFJcGIsR0FDMUNrVixFQUFRRSxJQUFJaUcsU0FBUyxjQUFnQkQsRUFBSTlYLEdBQ3pDNFIsRUFBUUUsSUFBSWlHLFNBQVMsZUFBaUJELEVBQUlOLEdBQzFDNUYsRUFBUUUsSUFBSXpMLEtBQUssR0FBSSxjQUFlLEtBQU15UixHQUFLLFlBQWEsWUFBYSxzQkE3RDdFLEdBQUl4QyxHQUFRLEdBQUkxRCxHQUFReUMsTUFDdEJ5RCxFQUFLeEMsRUFBTXRELFVBQVUsS0FHdkIzVyxHQUFPMmMsY0FBZ0IsV0FDckIsT0FBTyxHQUdUMWMsRUFBUzJjLEtBQUtDLFlBQWMsV0FDMUIsT0FBTyxHQXdEVDdjLEVBQU82WixpQkFBaUIscUJBQXNCMEMsSUFHN0N2YyxPQUFRQyxTQUFVc1ciLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgUHJvamVjdDogQXV0by1TY3JvbGxcbiAqICBEZXNjcmlwdGlvbjogQXV0by1zY3JvbGwgcGx1Z2luIGZvciB1c2Ugd2l0aCBSaXNlIFZpc2lvbiBXaWRnZXRzXG4gKiAgQXV0aG9yOiBAZG9ubmFwZXBcbiAqICBMaWNlbnNlOiBNSVRcbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHBsdWdpbk5hbWUgPSBcImF1dG9TY3JvbGxcIixcblx0XHRkZWZhdWx0cyA9IHtcblx0XHRcdGJ5OiBcImNvbnRpbnVvdXNcIixcblx0XHRcdHNwZWVkOiBcIm1lZGl1bVwiLFxuXHRcdFx0cGF1c2U6IDUsXG5cdFx0XHRjbGljazogZmFsc2UsXG5cdFx0XHRtaW5pbXVtTW92ZW1lbnQ6IDMgLy8gRHJhZ2dhYmxlIGRlZmF1bHQgdmFsdWUgLSBodHRwOi8vZ3JlZW5zb2NrLmNvbS9kb2NzLyMvSFRNTDUvRHJhZy9EcmFnZ2FibGUvXG5cdFx0fTtcblxuXG5cdGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG5cdFx0dGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblx0XHR0aGlzLnBhZ2UgPSAkKGVsZW1lbnQpLmZpbmQoXCIucGFnZVwiKTtcblx0XHR0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2RlZmF1bHRzID0gZGVmYXVsdHM7XG5cdFx0dGhpcy5fbmFtZSA9IHBsdWdpbk5hbWU7XG5cdFx0dGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuXHRcdHRoaXMuZHJhZ2dhYmxlID0gbnVsbDtcblx0XHR0aGlzLnR3ZWVuID0gbnVsbDtcblx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gbnVsbDtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdFBsdWdpbi5wcm90b3R5cGUgPSB7XG5cdFx0aW5pdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHNwZWVkLCBkdXJhdGlvbjtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBzY3JvbGxDb21wbGV0ZSA9IG51bGw7XG5cdFx0XHR2YXIgcGFnZUNvbXBsZXRlID0gbnVsbDtcblx0XHRcdHZhciBlbGVtZW50SGVpZ2h0ID0gJCh0aGlzLmVsZW1lbnQpLm91dGVySGVpZ2h0KHRydWUpO1xuXHRcdFx0dmFyIHBhdXNlSGVpZ2h0ID0gZWxlbWVudEhlaWdodDtcblx0XHRcdHZhciBtYXggPSB0aGlzLmVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcblxuXHRcdFx0ZnVuY3Rpb24gcGF1c2VUd2VlbigpIHtcblx0XHRcdFx0c2VsZi50d2Vlbi5wYXVzZSgpO1xuXG5cdFx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8oc2VsZi5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdFR3ZWVuTGl0ZS5raWxsRGVsYXllZENhbGxzVG8oc2Nyb2xsQ29tcGxldGUpO1xuXHRcdFx0XHQvLyBPbmx5IHVzZWQgd2hlbiBzY3JvbGxpbmcgYnkgcGFnZS5cblx0XHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyhwYWdlQ29tcGxldGUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIFNldCBwYXVzZUhlaWdodCB0byBuZXcgdmFsdWUuXG5cdFx0XHRcdHBhdXNlSGVpZ2h0ID0gJChzZWxmLmVsZW1lbnQpLnNjcm9sbFRvcCgpICtcblx0XHRcdFx0XHRlbGVtZW50SGVpZ2h0O1xuXG5cdFx0XHRcdHNlbGYudHdlZW4ucHJvZ3Jlc3MoJChzZWxmLmVsZW1lbnQpLnNjcm9sbFRvcCgpIC8gbWF4KVxuXHRcdFx0XHRcdC5wbGF5KCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAodGhpcy5jYW5TY3JvbGwoKSkge1xuXHRcdFx0XHQvLyBTZXQgc2Nyb2xsIHNwZWVkLlxuXHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLmJ5ID09PSBcInBhZ2VcIikge1xuXHRcdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuc3BlZWQgPT09IFwiZmFzdGVzdFwiKSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDAuNDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcImZhc3RcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAwLjg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJtZWRpdW1cIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAxLjI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJzbG93XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMS42O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gMjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkdXJhdGlvbiA9IHRoaXMucGFnZS5vdXRlckhlaWdodCh0cnVlKSAvXG5cdFx0XHRcdFx0XHQkKHRoaXMuZWxlbWVudCkub3V0ZXJIZWlnaHQodHJ1ZSkgKiBzcGVlZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHsgIC8vIENvbnRpbnVvdXMgb3IgYnkgcm93XG5cdFx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0ZXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gNjA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJmYXN0XCIpIHtcblx0XHRcdFx0XHRcdHNwZWVkID0gNTA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zcGVlZCA9PT0gXCJtZWRpdW1cIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSA0MDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodGhpcy5vcHRpb25zLnNwZWVkID09PSBcInNsb3dcIikge1xuXHRcdFx0XHRcdFx0c3BlZWQgPSAzMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRzcGVlZCA9IDIwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGR1cmF0aW9uID0gTWF0aC5hYnMoKHRoaXMucGFnZS5vdXRlckhlaWdodCh0cnVlKSAtXG5cdFx0XHRcdFx0XHQkKHRoaXMuZWxlbWVudCkub3V0ZXJIZWlnaHQodHJ1ZSkpIC8gc3BlZWQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0RHJhZ2dhYmxlLmNyZWF0ZSh0aGlzLmVsZW1lbnQsIHtcblx0XHRcdFx0XHR0eXBlOiBcInNjcm9sbFRvcFwiLFxuXHRcdFx0XHRcdHRocm93UHJvcHM6IHRydWUsXG5cdFx0XHRcdFx0ZWRnZVJlc2lzdGFuY2U6IDAuNzUsXG5cdFx0XHRcdFx0bWluaW11bU1vdmVtZW50OiBzZWxmLm9wdGlvbnMubWluaW11bU1vdmVtZW50LFxuXHRcdFx0XHRcdG9uUHJlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cGF1c2VUd2VlbigpO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b25SZWxlYXNlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuYnkgIT09IFwibm9uZVwiKSB7XG5cdFx0XHRcdFx0XHRcdC8qIEZpZ3VyZSBvdXQgd2hhdCB0aGUgbmV3IHNjcm9sbCBwb3NpdGlvbiBpcyBhbmRcblx0XHRcdFx0XHRcdFx0IHRyYW5zbGF0ZSB0aGF0IGludG8gdGhlIHByb2dyZXNzIG9mIHRoZSB0d2VlbiAoMC0xKVxuXHRcdFx0XHRcdFx0XHQgc28gdGhhdCB3ZSBjYW4gY2FsaWJyYXRlIGl0OyBvdGhlcndpc2UsIGl0J2QganVtcFxuXHRcdFx0XHRcdFx0XHQgYmFjayB0byB3aGVyZSBpdCBwYXVzZWQgd2hlbiB3ZSByZXN1bWUoKS4gKi9cblx0XHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSwgc2VsZi5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvbkNsaWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChzZWxmLm9wdGlvbnMuY2xpY2spIHtcblx0XHRcdFx0XHRcdFx0cGF1c2VUd2VlbigpO1xuXHRcdFx0XHRcdFx0XHQkKHNlbGYuZWxlbWVudCkudHJpZ2dlcihcInNjcm9sbENsaWNrXCIsIFt0aGlzLnBvaW50ZXJFdmVudF0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhpcy5kcmFnZ2FibGUgPSBEcmFnZ2FibGUuZ2V0KHRoaXMuZWxlbWVudCk7XG5cblx0XHRcdFx0dGhpcy50d2VlbiA9IFR3ZWVuTGl0ZS50byh0aGlzLmRyYWdnYWJsZS5zY3JvbGxQcm94eSwgZHVyYXRpb24sIHtcblx0XHRcdFx0XHRzY3JvbGxUb3A6IG1heCxcblx0XHRcdFx0XHRlYXNlOiBMaW5lYXIuZWFzZU5vbmUsXG5cdFx0XHRcdFx0ZGVsYXk6IHRoaXMub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRwYXVzZWQ6IHRydWUsXG5cdFx0XHRcdFx0b25VcGRhdGU6ICh0aGlzLm9wdGlvbnMuYnkgPT09IFwicGFnZVwiID8gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoc2VsZi5kcmFnZ2FibGUuc2Nyb2xsUHJveHkudG9wKCkpID49IHBhdXNlSGVpZ2h0KSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYudHdlZW4ucGF1c2UoKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBOZXh0IGhlaWdodCBhdCB3aGljaCB0byBwYXVzZSBzY3JvbGxpbmcuXG5cdFx0XHRcdFx0XHRcdHBhdXNlSGVpZ2h0ICs9IGVsZW1lbnRIZWlnaHQ7XG5cblx0XHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRcdFx0XHRwYWdlQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGYudHdlZW4ucmVzdW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gOiB1bmRlZmluZWQpLFxuXHRcdFx0XHRcdG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHNlbGYub3B0aW9ucy5wYXVzZSxcblx0XHRcdFx0XHRcdFx0c2Nyb2xsQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRUd2VlbkxpdGUudG8oc2VsZi5wYWdlLCAxLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhdXRvQWxwaGE6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZi50d2Vlbi5zZWVrKDApLnBhdXNlKCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNlbGYub3B0aW9ucy5ieSA9PT0gXCJwYWdlXCIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXVzZUhlaWdodCA9IGVsZW1lbnRIZWlnaHQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQkKHNlbGYuZWxlbWVudCkudHJpZ2dlcihcImRvbmVcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBIaWRlIHNjcm9sbGJhci5cblx0XHRcdFx0VHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHsgb3ZlcmZsb3dZOiBcImhpZGRlblwiIH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5jbGljaykge1xuXHRcdFx0XHRcdC8vIEFjY291bnQgZm9yIGNvbnRlbnQgdGhhdCBpcyB0byBiZSBjbGlja2VkIHdoZW4gY29udGVudCBub3QgbmVlZGVkIHRvIGJlIHNjcm9sbGVkXG5cdFx0XHRcdFx0Ly8gTGV2ZXJhZ2UgRHJhZ2dhYmxlIGZvciB0b3VjaC9jbGljayBldmVudCBoYW5kbGluZ1xuXHRcdFx0XHRcdERyYWdnYWJsZS5jcmVhdGUodGhpcy5lbGVtZW50LCB7XG5cdFx0XHRcdFx0XHR0eXBlOiBcInNjcm9sbFRvcFwiLFxuXHRcdFx0XHRcdFx0dGhyb3dQcm9wczogdHJ1ZSxcblx0XHRcdFx0XHRcdGVkZ2VSZXNpc3RhbmNlOiAwLjk1LFxuXHRcdFx0XHRcdFx0bWluaW11bU1vdmVtZW50OiB0aGlzLm9wdGlvbnMubWluaW11bU1vdmVtZW50LFxuXHRcdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdCQoc2VsZi5lbGVtZW50KS50cmlnZ2VyKFwic2Nyb2xsQ2xpY2tcIiwgW3RoaXMucG9pbnRlckV2ZW50XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR0aGlzLmRyYWdnYWJsZSA9IERyYWdnYWJsZS5nZXQodGhpcy5lbGVtZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Ly8gQ2hlY2sgaWYgY29udGVudCBpcyBsYXJnZXIgdGhhbiB2aWV3YWJsZSBhcmVhIGFuZCBpZiB0aGUgc2Nyb2xsIHNldHRpbmdzIGlzIHNldCB0byBhY3R1YWxseSBzY3JvbGwuXG5cdFx0Y2FuU2Nyb2xsOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMgJiYgKHRoaXMucGFnZS5oZWlnaHQoKSA+ICQodGhpcy5lbGVtZW50KS5oZWlnaHQoKSk7XG5cdFx0fSxcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRcdCQodGhpcy5lbGVtZW50KS5yZW1vdmVEYXRhKCk7XG5cdFx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0XHR0aGlzLnR3ZWVuLmtpbGwoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuZHJhZ2dhYmxlKSB7XG5cdFx0XHRcdHRoaXMuZHJhZ2dhYmxlLmtpbGwoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnRzLlxuXHRcdFx0dGhpcy5lbGVtZW50ID0gbnVsbDtcblx0XHRcdHRoaXMucGFnZSA9IG51bGw7XG5cdFx0XHR0aGlzLm9wdGlvbnMgPSBudWxsO1xuXHRcdFx0dGhpcy5fZGVmYXVsdHMgPSBudWxsO1xuXHRcdFx0dGhpcy5kcmFnZ2FibGUgPSBudWxsO1xuXHRcdFx0dGhpcy50d2VlbiA9IG51bGw7XG5cdFx0XHR0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblx0UGx1Z2luLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuY2FuU2Nyb2xsKCkgJiYgdGhpcy5vcHRpb25zLmJ5ICE9PSBcIm5vbmVcIikge1xuXHRcdFx0aWYgKHRoaXMudHdlZW4pIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNMb2FkaW5nKSB7XG5cdFx0XHRcdFx0dGhpcy50d2Vlbi5wbGF5KCk7XG5cdFx0XHRcdFx0dGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRUd2VlbkxpdGUudG8odGhpcy5wYWdlLCAxLCB7YXV0b0FscGhhOiAxfSk7XG5cdFx0XHRcdFx0VHdlZW5MaXRlLmRlbGF5ZWRDYWxsKHRoaXMub3B0aW9ucy5wYXVzZSwgdGhpcy5jYWxjdWxhdGVQcm9ncmVzcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0UGx1Z2luLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLnR3ZWVuKSB7XG5cdFx0XHRUd2VlbkxpdGUua2lsbERlbGF5ZWRDYWxsc1RvKHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MpO1xuXHRcdFx0dGhpcy50d2Vlbi5wYXVzZSgpO1xuXHRcdH1cblx0fTtcblxuXHRQbHVnaW4ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy50d2Vlbikge1xuXHRcdFx0VHdlZW5MaXRlLmtpbGxEZWxheWVkQ2FsbHNUbyh0aGlzLmNhbGN1bGF0ZVByb2dyZXNzKTtcblx0XHRcdHRoaXMudHdlZW4ua2lsbCgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudCA9IG51bGw7XG5cdFx0dGhpcy5wYWdlID0gbnVsbDtcblx0fTtcblxuXHQvLyBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xuXHQvLyBtdWx0aXBsZSBpbnN0YW50aWF0aW9ucy5cblx0JC5mbi5hdXRvU2Nyb2xsID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoISQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XG5cdFx0XHRcdCQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9O1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxuLypcclxuICpcdGpRdWVyeSBkb3Rkb3Rkb3QgMS43LjRcclxuICpcclxuICpcdENvcHlyaWdodCAoYykgRnJlZCBIZXVzc2NoZW5cclxuICpcdHd3dy5mcmVic2l0ZS5ubFxyXG4gKlxyXG4gKlx0UGx1Z2luIHdlYnNpdGU6XHJcbiAqXHRkb3Rkb3Rkb3QuZnJlYnNpdGUubmxcclxuICpcclxuICpcdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuICpcdGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTUlUX0xpY2Vuc2VcclxuICovXHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmIClcclxue1xyXG5cdGlmICggJC5mbi5kb3Rkb3Rkb3QgKVxyXG5cdHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdCQuZm4uZG90ZG90ZG90ID0gZnVuY3Rpb24oIG8gKVxyXG5cdHtcclxuXHRcdGlmICggdGhpcy5sZW5ndGggPT0gMCApXHJcblx0XHR7XHJcblx0XHRcdCQuZm4uZG90ZG90ZG90LmRlYnVnKCAnTm8gZWxlbWVudCBmb3VuZCBmb3IgXCInICsgdGhpcy5zZWxlY3RvciArICdcIi4nICk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmRvdGRvdGRvdCggbyApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0dmFyICRkb3QgPSB0aGlzO1xyXG5cclxuXHRcdGlmICggJGRvdC5kYXRhKCAnZG90ZG90ZG90JyApIClcclxuXHRcdHtcclxuXHRcdFx0JGRvdC50cmlnZ2VyKCAnZGVzdHJveS5kb3QnICk7XHJcblx0XHR9XHJcblxyXG5cdFx0JGRvdC5kYXRhKCAnZG90ZG90ZG90LXN0eWxlJywgJGRvdC5hdHRyKCAnc3R5bGUnICkgfHwgJycgKTtcclxuXHRcdCRkb3QuY3NzKCAnd29yZC13cmFwJywgJ2JyZWFrLXdvcmQnICk7XHJcblx0XHRpZiAoJGRvdC5jc3MoICd3aGl0ZS1zcGFjZScgKSA9PT0gJ25vd3JhcCcpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QuY3NzKCAnd2hpdGUtc3BhY2UnLCAnbm9ybWFsJyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdCRkb3QuYmluZF9ldmVudHMgPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QuYmluZChcclxuXHRcdFx0XHQndXBkYXRlLmRvdCcsXHJcblx0XHRcdFx0ZnVuY3Rpb24oIGUsIGMgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdCRkb3QucmVtb3ZlQ2xhc3MoXCJpcy10cnVuY2F0ZWRcIik7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdHN3aXRjaCggdHlwZW9mIG9wdHMuaGVpZ2h0IClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y2FzZSAnbnVtYmVyJzpcclxuXHRcdFx0XHRcdFx0XHRvcHRzLm1heEhlaWdodCA9IG9wdHMuaGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0Y2FzZSAnZnVuY3Rpb24nOlxyXG5cdFx0XHRcdFx0XHRcdG9wdHMubWF4SGVpZ2h0ID0gb3B0cy5oZWlnaHQuY2FsbCggJGRvdFsgMCBdICk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRcdG9wdHMubWF4SGVpZ2h0ID0gZ2V0VHJ1ZUlubmVySGVpZ2h0KCAkZG90ICk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0b3B0cy5tYXhIZWlnaHQgKz0gb3B0cy50b2xlcmFuY2U7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgYyAhPSAndW5kZWZpbmVkJyApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmICggdHlwZW9mIGMgPT0gJ3N0cmluZycgfHwgKCdub2RlVHlwZScgaW4gYyAmJiBjLm5vZGVUeXBlID09PSAxKSApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdCBcdFx0YyA9ICQoJzxkaXYgLz4nKS5hcHBlbmQoIGMgKS5jb250ZW50cygpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICggYyBpbnN0YW5jZW9mICQgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0b3JnQ29udGVudCA9IGM7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQkaW5yID0gJGRvdC53cmFwSW5uZXIoICc8ZGl2IGNsYXNzPVwiZG90ZG90ZG90XCIgLz4nICkuY2hpbGRyZW4oKTtcclxuXHRcdFx0XHRcdCRpbnIuY29udGVudHMoKVxyXG5cdFx0XHRcdFx0XHQuZGV0YWNoKClcclxuXHRcdFx0XHRcdFx0LmVuZCgpXHJcblx0XHRcdFx0XHRcdC5hcHBlbmQoIG9yZ0NvbnRlbnQuY2xvbmUoIHRydWUgKSApXHJcblx0XHRcdFx0XHRcdC5maW5kKCAnYnInIClcclxuXHRcdFx0XHRcdFx0LnJlcGxhY2VXaXRoKCAnICA8YnIgLz4gICcgKVxyXG5cdFx0XHRcdFx0XHQuZW5kKClcclxuXHRcdFx0XHRcdFx0LmNzcyh7XHJcblx0XHRcdFx0XHRcdFx0J2hlaWdodCdcdDogJ2F1dG8nLFxyXG5cdFx0XHRcdFx0XHRcdCd3aWR0aCdcdFx0OiAnYXV0bycsXHJcblx0XHRcdFx0XHRcdFx0J2JvcmRlcidcdDogJ25vbmUnLFxyXG5cdFx0XHRcdFx0XHRcdCdwYWRkaW5nJ1x0OiAwLFxyXG5cdFx0XHRcdFx0XHRcdCdtYXJnaW4nXHQ6IDBcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0dmFyIGFmdGVyID0gZmFsc2UsXHJcblx0XHRcdFx0XHRcdHRydW5jID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBjb25mLmFmdGVyRWxlbWVudCApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGFmdGVyID0gY29uZi5hZnRlckVsZW1lbnQuY2xvbmUoIHRydWUgKTtcclxuXHRcdFx0XHRcdCAgICBhZnRlci5zaG93KCk7XHJcblx0XHRcdFx0XHRcdGNvbmYuYWZ0ZXJFbGVtZW50LmRldGFjaCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmICggdGVzdCggJGluciwgb3B0cyApIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0aWYgKCBvcHRzLndyYXAgPT0gJ2NoaWxkcmVuJyApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0cnVuYyA9IGNoaWxkcmVuKCAkaW5yLCBvcHRzLCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRydW5jID0gZWxsaXBzaXMoICRpbnIsICRkb3QsICRpbnIsIG9wdHMsIGFmdGVyICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRpbnIucmVwbGFjZVdpdGgoICRpbnIuY29udGVudHMoKSApO1xyXG5cdFx0XHRcdFx0JGluciA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIG9wdHMuY2FsbGJhY2sgKSApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdG9wdHMuY2FsbGJhY2suY2FsbCggJGRvdFsgMCBdLCB0cnVuYywgb3JnQ29udGVudCApO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNvbmYuaXNUcnVuY2F0ZWQgPSB0cnVuYztcclxuXHRcdFx0XHRcdHJldHVybiB0cnVuYztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHQpLmJpbmQoXHJcblx0XHRcdFx0J2lzVHJ1bmNhdGVkLmRvdCcsXHJcblx0XHRcdFx0ZnVuY3Rpb24oIGUsIGZuIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGZuID09ICdmdW5jdGlvbicgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRmbi5jYWxsKCAkZG90WyAwIF0sIGNvbmYuaXNUcnVuY2F0ZWQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBjb25mLmlzVHJ1bmNhdGVkO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdCkuYmluZChcclxuXHRcdFx0XHQnb3JpZ2luYWxDb250ZW50LmRvdCcsXHJcblx0XHRcdFx0ZnVuY3Rpb24oIGUsIGZuIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGZuID09ICdmdW5jdGlvbicgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRmbi5jYWxsKCAkZG90WyAwIF0sIG9yZ0NvbnRlbnQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBvcmdDb250ZW50O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdCkuYmluZChcclxuXHRcdFx0XHQnZGVzdHJveS5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFx0XHRcdCRkb3QudW53YXRjaCgpXHJcblx0XHRcdFx0XHRcdC51bmJpbmRfZXZlbnRzKClcclxuXHRcdFx0XHRcdFx0LmNvbnRlbnRzKClcclxuXHRcdFx0XHRcdFx0LmRldGFjaCgpXHJcblx0XHRcdFx0XHRcdC5lbmQoKVxyXG5cdFx0XHRcdFx0XHQuYXBwZW5kKCBvcmdDb250ZW50IClcclxuXHRcdFx0XHRcdFx0LmF0dHIoICdzdHlsZScsICRkb3QuZGF0YSggJ2RvdGRvdGRvdC1zdHlsZScgKSB8fCAnJyApXHJcblx0XHRcdFx0XHRcdC5kYXRhKCAnZG90ZG90ZG90JywgZmFsc2UgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybiAkZG90O1xyXG5cdFx0fTtcdC8vXHQvYmluZF9ldmVudHNcclxuXHJcblx0XHQkZG90LnVuYmluZF9ldmVudHMgPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QudW5iaW5kKCcuZG90Jyk7XHJcblx0XHRcdHJldHVybiAkZG90O1xyXG5cdFx0fTtcdC8vXHQvdW5iaW5kX2V2ZW50c1xyXG5cclxuXHRcdCRkb3Qud2F0Y2ggPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCRkb3QudW53YXRjaCgpO1xyXG5cdFx0XHRpZiAoIG9wdHMud2F0Y2ggPT0gJ3dpbmRvdycgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dmFyICR3aW5kb3cgPSAkKHdpbmRvdyksXHJcblx0XHRcdFx0XHRfd1dpZHRoID0gJHdpbmRvdy53aWR0aCgpLFxyXG5cdFx0XHRcdFx0X3dIZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xyXG5cclxuXHRcdFx0XHQkd2luZG93LmJpbmQoXHJcblx0XHRcdFx0XHQncmVzaXplLmRvdCcgKyBjb25mLmRvdElkLFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZiAoIF93V2lkdGggIT0gJHdpbmRvdy53aWR0aCgpIHx8IF93SGVpZ2h0ICE9ICR3aW5kb3cuaGVpZ2h0KCkgfHwgIW9wdHMud2luZG93UmVzaXplRml4IClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdF93V2lkdGggPSAkd2luZG93LndpZHRoKCk7XHJcblx0XHRcdFx0XHRcdFx0X3dIZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIHdhdGNoSW50IClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRjbGVhckludGVydmFsKCB3YXRjaEludCApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR3YXRjaEludCA9IHNldFRpbWVvdXQoXHJcblx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRkb3QudHJpZ2dlciggJ3VwZGF0ZS5kb3QnICk7XHJcblx0XHRcdFx0XHRcdFx0XHR9LCAxMDBcclxuXHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHR3YXRjaE9yZyA9IGdldFNpemVzKCAkZG90ICk7XHJcblx0XHRcdFx0d2F0Y2hJbnQgPSBzZXRJbnRlcnZhbChcclxuXHRcdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0aWYgKCAkZG90LmlzKCAnOnZpc2libGUnICkgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHdhdGNoTmV3ID0gZ2V0U2l6ZXMoICRkb3QgKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIHdhdGNoT3JnLndpZHRoICAhPSB3YXRjaE5ldy53aWR0aCB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0IHdhdGNoT3JnLmhlaWdodCAhPSB3YXRjaE5ldy5oZWlnaHQgKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdCRkb3QudHJpZ2dlciggJ3VwZGF0ZS5kb3QnICk7XHJcblx0XHRcdFx0XHRcdFx0XHR3YXRjaE9yZyA9IHdhdGNoTmV3O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgNTAwXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJGRvdDtcclxuXHRcdH07XHJcblx0XHQkZG90LnVud2F0Y2ggPSBmdW5jdGlvbigpXHJcblx0XHR7XHJcblx0XHRcdCQod2luZG93KS51bmJpbmQoICdyZXNpemUuZG90JyArIGNvbmYuZG90SWQgKTtcclxuXHRcdFx0aWYgKCB3YXRjaEludCApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjbGVhckludGVydmFsKCB3YXRjaEludCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAkZG90O1xyXG5cdFx0fTtcclxuXHJcblx0XHR2YXJcdG9yZ0NvbnRlbnRcdD0gJGRvdC5jb250ZW50cygpLFxyXG5cdFx0XHRvcHRzIFx0XHQ9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgJC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdHMsIG8gKSxcclxuXHRcdFx0Y29uZlx0XHQ9IHt9LFxyXG5cdFx0XHR3YXRjaE9yZ1x0PSB7fSxcclxuXHRcdFx0d2F0Y2hJbnRcdD0gbnVsbCxcclxuXHRcdFx0JGluclx0XHQ9IG51bGw7XHJcblxyXG5cclxuXHRcdGlmICggISggb3B0cy5sYXN0Q2hhcmFjdGVyLnJlbW92ZSBpbnN0YW5jZW9mIEFycmF5ICkgKVxyXG5cdFx0e1xyXG5cdFx0XHRvcHRzLmxhc3RDaGFyYWN0ZXIucmVtb3ZlID0gJC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdEFycmF5cy5sYXN0Q2hhcmFjdGVyLnJlbW92ZTtcclxuXHRcdH1cclxuXHRcdGlmICggISggb3B0cy5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXMgaW5zdGFuY2VvZiBBcnJheSApIClcclxuXHRcdHtcclxuXHRcdFx0b3B0cy5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXMgPSAkLmZuLmRvdGRvdGRvdC5kZWZhdWx0QXJyYXlzLmxhc3RDaGFyYWN0ZXIubm9FbGxpcHNpcztcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Y29uZi5hZnRlckVsZW1lbnRcdD0gZ2V0RWxlbWVudCggb3B0cy5hZnRlciwgJGRvdCApO1xyXG5cdFx0Y29uZi5pc1RydW5jYXRlZFx0PSBmYWxzZTtcclxuXHRcdGNvbmYuZG90SWRcdFx0XHQ9IGRvdElkKys7XHJcblxyXG5cclxuXHRcdCRkb3QuZGF0YSggJ2RvdGRvdGRvdCcsIHRydWUgKVxyXG5cdFx0XHQuYmluZF9ldmVudHMoKVxyXG5cdFx0XHQudHJpZ2dlciggJ3VwZGF0ZS5kb3QnICk7XHJcblxyXG5cdFx0aWYgKCBvcHRzLndhdGNoIClcclxuXHRcdHtcclxuXHRcdFx0JGRvdC53YXRjaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAkZG90O1xyXG5cdH07XHJcblxyXG5cclxuXHQvL1x0cHVibGljXHJcblx0JC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdHMgPSB7XHJcblx0XHQnZWxsaXBzaXMnXHRcdFx0OiAnLi4uICcsXHJcblx0XHQnd3JhcCdcdFx0XHRcdDogJ3dvcmQnLFxyXG5cdFx0J2ZhbGxiYWNrVG9MZXR0ZXInXHQ6IHRydWUsXHJcblx0XHQnbGFzdENoYXJhY3RlcidcdFx0OiB7fSxcclxuXHRcdCd0b2xlcmFuY2UnXHRcdFx0OiAwLFxyXG5cdFx0J2NhbGxiYWNrJ1x0XHRcdDogbnVsbCxcclxuXHRcdCdhZnRlcidcdFx0XHRcdDogbnVsbCxcclxuXHRcdCdoZWlnaHQnXHRcdFx0OiBudWxsLFxyXG5cdFx0J3dhdGNoJ1x0XHRcdFx0OiBmYWxzZSxcclxuXHRcdCd3aW5kb3dSZXNpemVGaXgnXHQ6IHRydWVcclxuXHR9O1xyXG5cdCQuZm4uZG90ZG90ZG90LmRlZmF1bHRBcnJheXMgPSB7XHJcblx0XHQnbGFzdENoYXJhY3RlcidcdFx0OiB7XHJcblx0XHRcdCdyZW1vdmUnXHRcdFx0OiBbICcgJywgJ1xcdTMwMDAnLCAnLCcsICc7JywgJy4nLCAnIScsICc/JyBdLFxyXG5cdFx0XHQnbm9FbGxpcHNpcydcdFx0OiBbXVxyXG5cdFx0fVxyXG5cdH07XHJcblx0JC5mbi5kb3Rkb3Rkb3QuZGVidWcgPSBmdW5jdGlvbiggbXNnICkge307XHJcblxyXG5cclxuXHQvL1x0cHJpdmF0ZVxyXG5cdHZhciBkb3RJZCA9IDE7XHJcblxyXG5cdGZ1bmN0aW9uIGNoaWxkcmVuKCAkZWxlbSwgbywgYWZ0ZXIgKVxyXG5cdHtcclxuXHRcdHZhciAkZWxlbWVudHMgXHQ9ICRlbGVtLmNoaWxkcmVuKCksXHJcblx0XHRcdGlzVHJ1bmNhdGVkXHQ9IGZhbHNlO1xyXG5cclxuXHRcdCRlbGVtLmVtcHR5KCk7XHJcblxyXG5cdFx0Zm9yICggdmFyIGEgPSAwLCBsID0gJGVsZW1lbnRzLmxlbmd0aDsgYSA8IGw7IGErKyApXHJcblx0XHR7XHJcblx0XHRcdHZhciAkZSA9ICRlbGVtZW50cy5lcSggYSApO1xyXG5cdFx0XHQkZWxlbS5hcHBlbmQoICRlICk7XHJcblx0XHRcdGlmICggYWZ0ZXIgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JGVsZW0uYXBwZW5kKCBhZnRlciApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggdGVzdCggJGVsZW0sIG8gKSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkZS5yZW1vdmUoKTtcclxuXHRcdFx0XHRpc1RydW5jYXRlZCA9IHRydWU7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aWYgKCBhZnRlciApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0YWZ0ZXIuZGV0YWNoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXNUcnVuY2F0ZWQ7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGVsbGlwc2lzKCAkZWxlbSwgJGQsICRpLCBvLCBhZnRlciApXHJcblx0e1xyXG5cdFx0dmFyIGlzVHJ1bmNhdGVkXHQ9IGZhbHNlO1xyXG5cclxuXHRcdC8vXHREb24ndCBwdXQgdGhlIGVsbGlwc2lzIGRpcmVjdGx5IGluc2lkZSB0aGVzZSBlbGVtZW50c1xyXG5cdFx0dmFyIG5vdHggPSAnYSwgdGFibGUsIHRoZWFkLCB0Ym9keSwgdGZvb3QsIHRyLCBjb2wsIGNvbGdyb3VwLCBvYmplY3QsIGVtYmVkLCBwYXJhbSwgb2wsIHVsLCBkbCwgYmxvY2txdW90ZSwgc2VsZWN0LCBvcHRncm91cCwgb3B0aW9uLCB0ZXh0YXJlYSwgc2NyaXB0LCBzdHlsZSc7XHJcblxyXG5cdFx0Ly9cdERvbid0IHJlbW92ZSB0aGVzZSBlbGVtZW50cyBldmVuIGlmIHRoZXkgYXJlIGFmdGVyIHRoZSBlbGxpcHNpc1xyXG5cdFx0dmFyIG5vdHkgPSAnc2NyaXB0LCAuZG90ZG90ZG90LWtlZXAnO1xyXG5cclxuXHRcdCRlbGVtXHJcblx0XHRcdC5jb250ZW50cygpXHJcblx0XHRcdC5kZXRhY2goKVxyXG5cdFx0XHQuZWFjaChcclxuXHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0e1xyXG5cclxuXHRcdFx0XHRcdHZhciBlXHQ9IHRoaXMsXHJcblx0XHRcdFx0XHRcdCRlXHQ9ICQoZSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgZSA9PSAndW5kZWZpbmVkJyApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoICRlLmlzKCBub3R5ICkgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQkZWxlbS5hcHBlbmQoICRlICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIGlmICggaXNUcnVuY2F0ZWQgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0JGVsZW0uYXBwZW5kKCAkZSApO1xyXG5cdFx0XHRcdFx0XHRpZiAoIGFmdGVyICYmICEkZS5pcyggby5hZnRlciApICYmICEkZS5maW5kKCBvLmFmdGVyICkubGVuZ3RoICApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQkZWxlbVsgJGVsZW0uaXMoIG5vdHggKSA/ICdhZnRlcicgOiAnYXBwZW5kJyBdKCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICggdGVzdCggJGksIG8gKSApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGUubm9kZVR5cGUgPT0gMyApIC8vIG5vZGUgaXMgVEVYVFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlzVHJ1bmNhdGVkID0gZWxsaXBzaXNFbGVtZW50KCAkZSwgJGQsICRpLCBvLCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0aXNUcnVuY2F0ZWQgPSBlbGxpcHNpcyggJGUsICRkLCAkaSwgbywgYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICggIWlzVHJ1bmNhdGVkIClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHQkZS5kZXRhY2goKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlzVHJ1bmNhdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGlmICggIWlzVHJ1bmNhdGVkIClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdGlmICggYWZ0ZXIgKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGFmdGVyLmRldGFjaCgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdCRkLmFkZENsYXNzKFwiaXMtdHJ1bmNhdGVkXCIpO1xyXG5cdFx0cmV0dXJuIGlzVHJ1bmNhdGVkO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBlbGxpcHNpc0VsZW1lbnQoICRlLCAkZCwgJGksIG8sIGFmdGVyIClcclxuXHR7XHJcblx0XHR2YXIgZSA9ICRlWyAwIF07XHJcblxyXG5cdFx0aWYgKCAhZSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgdHh0XHRcdFx0PSBnZXRUZXh0Q29udGVudCggZSApLFxyXG5cdFx0XHRzcGFjZVx0XHQ9ICggdHh0LmluZGV4T2YoJyAnKSAhPT0gLTEgKSA/ICcgJyA6ICdcXHUzMDAwJyxcclxuXHRcdFx0c2VwYXJhdG9yXHQ9ICggby53cmFwID09ICdsZXR0ZXInICkgPyAnJyA6IHNwYWNlLFxyXG5cdFx0XHR0ZXh0QXJyXHRcdD0gdHh0LnNwbGl0KCBzZXBhcmF0b3IgKSxcclxuXHRcdFx0cG9zaXRpb24gXHQ9IC0xLFxyXG5cdFx0XHRtaWRQb3NcdFx0PSAtMSxcclxuXHRcdFx0c3RhcnRQb3NcdD0gMCxcclxuXHRcdFx0ZW5kUG9zXHRcdD0gdGV4dEFyci5sZW5ndGggLSAxO1xyXG5cclxuXHJcblx0XHQvL1x0T25seSBvbmUgd29yZFxyXG5cdFx0aWYgKCBvLmZhbGxiYWNrVG9MZXR0ZXIgJiYgc3RhcnRQb3MgPT0gMCAmJiBlbmRQb3MgPT0gMCApXHJcblx0XHR7XHJcblx0XHRcdHNlcGFyYXRvclx0PSAnJztcclxuXHRcdFx0dGV4dEFyclx0XHQ9IHR4dC5zcGxpdCggc2VwYXJhdG9yICk7XHJcblx0XHRcdGVuZFBvc1x0XHQ9IHRleHRBcnIubGVuZ3RoIC0gMTtcclxuXHRcdH1cclxuXHJcblx0XHR3aGlsZSAoIHN0YXJ0UG9zIDw9IGVuZFBvcyAmJiAhKCBzdGFydFBvcyA9PSAwICYmIGVuZFBvcyA9PSAwICkgKVxyXG5cdFx0e1xyXG5cdFx0XHR2YXIgbSA9IE1hdGguZmxvb3IoICggc3RhcnRQb3MgKyBlbmRQb3MgKSAvIDIgKTtcclxuXHRcdFx0aWYgKCBtID09IG1pZFBvcyApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRtaWRQb3MgPSBtO1xyXG5cclxuXHRcdFx0c2V0VGV4dENvbnRlbnQoIGUsIHRleHRBcnIuc2xpY2UoIDAsIG1pZFBvcyArIDEgKS5qb2luKCBzZXBhcmF0b3IgKSArIG8uZWxsaXBzaXMgKTtcclxuXHRcdFx0JGkuY2hpbGRyZW4oKVxyXG5cdFx0XHRcdC5lYWNoKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnRvZ2dsZSgpLnRvZ2dsZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRpZiAoICF0ZXN0KCAkaSwgbyApIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHBvc2l0aW9uID0gbWlkUG9zO1xyXG5cdFx0XHRcdHN0YXJ0UG9zID0gbWlkUG9zO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGVuZFBvcyA9IG1pZFBvcztcclxuXHJcblx0XHRcdFx0Ly9cdEZhbGxiYWNrIHRvIGxldHRlclxyXG5cdFx0XHRcdGlmIChvLmZhbGxiYWNrVG9MZXR0ZXIgJiYgc3RhcnRQb3MgPT0gMCAmJiBlbmRQb3MgPT0gMCApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0c2VwYXJhdG9yXHQ9ICcnO1xyXG5cdFx0XHRcdFx0dGV4dEFyclx0XHQ9IHRleHRBcnJbIDAgXS5zcGxpdCggc2VwYXJhdG9yICk7XHJcblx0XHRcdFx0XHRwb3NpdGlvblx0PSAtMTtcclxuXHRcdFx0XHRcdG1pZFBvc1x0XHQ9IC0xO1xyXG5cdFx0XHRcdFx0c3RhcnRQb3NcdD0gMDtcclxuXHRcdFx0XHRcdGVuZFBvc1x0XHQ9IHRleHRBcnIubGVuZ3RoIC0gMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHBvc2l0aW9uICE9IC0xICYmICEoIHRleHRBcnIubGVuZ3RoID09IDEgJiYgdGV4dEFyclsgMCBdLmxlbmd0aCA9PSAwICkgKVxyXG5cdFx0e1xyXG5cdFx0XHR0eHQgPSBhZGRFbGxpcHNpcyggdGV4dEFyci5zbGljZSggMCwgcG9zaXRpb24gKyAxICkuam9pbiggc2VwYXJhdG9yICksIG8gKTtcclxuXHRcdFx0c2V0VGV4dENvbnRlbnQoIGUsIHR4dCApO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHR2YXIgJHcgPSAkZS5wYXJlbnQoKTtcclxuXHRcdFx0JGUuZGV0YWNoKCk7XHJcblxyXG5cdFx0XHR2YXIgYWZ0ZXJMZW5ndGggPSAoIGFmdGVyICYmIGFmdGVyLmNsb3Nlc3QoJHcpLmxlbmd0aCApID8gYWZ0ZXIubGVuZ3RoIDogMDtcclxuXHJcblx0XHRcdGlmICggJHcuY29udGVudHMoKS5sZW5ndGggPiBhZnRlckxlbmd0aCApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRlID0gZmluZExhc3RUZXh0Tm9kZSggJHcuY29udGVudHMoKS5lcSggLTEgLSBhZnRlckxlbmd0aCApLCAkZCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGUgPSBmaW5kTGFzdFRleHROb2RlKCAkdywgJGQsIHRydWUgKTtcclxuXHRcdFx0XHRpZiAoICFhZnRlckxlbmd0aCApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JHcuZGV0YWNoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggZSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0eHQgPSBhZGRFbGxpcHNpcyggZ2V0VGV4dENvbnRlbnQoIGUgKSwgbyApO1xyXG5cdFx0XHRcdHNldFRleHRDb250ZW50KCBlLCB0eHQgKTtcclxuXHRcdFx0XHRpZiAoIGFmdGVyTGVuZ3RoICYmIGFmdGVyIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKGUpLnBhcmVudCgpLmFwcGVuZCggYWZ0ZXIgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gdGVzdCggJGksIG8gKVxyXG5cdHtcclxuXHRcdHJldHVybiAkaS5pbm5lckhlaWdodCgpID4gby5tYXhIZWlnaHQ7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGFkZEVsbGlwc2lzKCB0eHQsIG8gKVxyXG5cdHtcclxuXHRcdHdoaWxlKCAkLmluQXJyYXkoIHR4dC5zbGljZSggLTEgKSwgby5sYXN0Q2hhcmFjdGVyLnJlbW92ZSApID4gLTEgKVxyXG5cdFx0e1xyXG5cdFx0XHR0eHQgPSB0eHQuc2xpY2UoIDAsIC0xICk7XHJcblx0XHR9XHJcblx0XHRpZiAoICQuaW5BcnJheSggdHh0LnNsaWNlKCAtMSApLCBvLmxhc3RDaGFyYWN0ZXIubm9FbGxpcHNpcyApIDwgMCApXHJcblx0XHR7XHJcblx0XHRcdHR4dCArPSBvLmVsbGlwc2lzO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHR4dDtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0U2l6ZXMoICRkIClcclxuXHR7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQnd2lkdGgnXHQ6ICRkLmlubmVyV2lkdGgoKSxcclxuXHRcdFx0J2hlaWdodCc6ICRkLmlubmVySGVpZ2h0KClcclxuXHRcdH07XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHNldFRleHRDb250ZW50KCBlLCBjb250ZW50IClcclxuXHR7XHJcblx0XHRpZiAoIGUuaW5uZXJUZXh0IClcclxuXHRcdHtcclxuXHRcdFx0ZS5pbm5lclRleHQgPSBjb250ZW50O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAoIGUubm9kZVZhbHVlIClcclxuXHRcdHtcclxuXHRcdFx0ZS5ub2RlVmFsdWUgPSBjb250ZW50O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAoZS50ZXh0Q29udGVudClcclxuXHRcdHtcclxuXHRcdFx0ZS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRUZXh0Q29udGVudCggZSApXHJcblx0e1xyXG5cdFx0aWYgKCBlLmlubmVyVGV4dCApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBlLmlubmVyVGV4dDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKCBlLm5vZGVWYWx1ZSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBlLm5vZGVWYWx1ZTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKCBlLnRleHRDb250ZW50IClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIGUudGV4dENvbnRlbnQ7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRQcmV2Tm9kZSggbiApXHJcblx0e1xyXG5cdFx0ZG9cclxuXHRcdHtcclxuXHRcdFx0biA9IG4ucHJldmlvdXNTaWJsaW5nO1xyXG5cdFx0fVxyXG5cdFx0d2hpbGUgKCBuICYmIG4ubm9kZVR5cGUgIT09IDEgJiYgbi5ub2RlVHlwZSAhPT0gMyApO1xyXG5cclxuXHRcdHJldHVybiBuO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBmaW5kTGFzdFRleHROb2RlKCAkZWwsICR0b3AsIGV4Y2x1ZGVDdXJyZW50IClcclxuXHR7XHJcblx0XHR2YXIgZSA9ICRlbCAmJiAkZWxbIDAgXSwgcDtcclxuXHRcdGlmICggZSApXHJcblx0XHR7XHJcblx0XHRcdGlmICggIWV4Y2x1ZGVDdXJyZW50IClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmICggZS5ub2RlVHlwZSA9PT0gMyApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0cmV0dXJuIGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggJC50cmltKCAkZWwudGV4dCgpICkgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHJldHVybiBmaW5kTGFzdFRleHROb2RlKCAkZWwuY29udGVudHMoKS5sYXN0KCksICR0b3AgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cCA9IGdldFByZXZOb2RlKCBlICk7XHJcblx0XHRcdHdoaWxlICggIXAgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JGVsID0gJGVsLnBhcmVudCgpO1xyXG5cdFx0XHRcdGlmICggJGVsLmlzKCAkdG9wICkgfHwgISRlbC5sZW5ndGggKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cCA9IGdldFByZXZOb2RlKCAkZWxbMF0gKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIHAgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0cmV0dXJuIGZpbmRMYXN0VGV4dE5vZGUoICQocCksICR0b3AgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRFbGVtZW50KCBlLCAkaSApXHJcblx0e1xyXG5cdFx0aWYgKCAhZSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGlmICggdHlwZW9mIGUgPT09ICdzdHJpbmcnIClcclxuXHRcdHtcclxuXHRcdFx0ZSA9ICQoZSwgJGkpO1xyXG5cdFx0XHRyZXR1cm4gKCBlLmxlbmd0aCApXHJcblx0XHRcdFx0PyBlXHJcblx0XHRcdFx0OiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAhZS5qcXVlcnlcclxuXHRcdFx0PyBmYWxzZVxyXG5cdFx0XHQ6IGU7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGdldFRydWVJbm5lckhlaWdodCggJGVsIClcclxuXHR7XHJcblx0XHR2YXIgaCA9ICRlbC5pbm5lckhlaWdodCgpLFxyXG5cdFx0XHRhID0gWyAncGFkZGluZ1RvcCcsICdwYWRkaW5nQm90dG9tJyBdO1xyXG5cclxuXHRcdGZvciAoIHZhciB6ID0gMCwgbCA9IGEubGVuZ3RoOyB6IDwgbDsgeisrIClcclxuXHRcdHtcclxuXHRcdFx0dmFyIG0gPSBwYXJzZUludCggJGVsLmNzcyggYVsgeiBdICksIDEwICk7XHJcblx0XHRcdGlmICggaXNOYU4oIG0gKSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRtID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRoIC09IG07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaDtcclxuXHR9XHJcblxyXG5cclxuXHQvL1x0b3ZlcnJpZGUgalF1ZXJ5Lmh0bWxcclxuXHR2YXIgX29yZ0h0bWwgPSAkLmZuLmh0bWw7XHJcblx0JC5mbi5odG1sID0gZnVuY3Rpb24oIHN0ciApXHJcblx0e1xyXG5cdFx0aWYgKCBzdHIgIT0gdW5kZWYgJiYgISQuaXNGdW5jdGlvbiggc3RyICkgJiYgdGhpcy5kYXRhKCAnZG90ZG90ZG90JyApIClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIHRoaXMudHJpZ2dlciggJ3VwZGF0ZScsIFsgc3RyIF0gKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBfb3JnSHRtbC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0fTtcclxuXHJcblxyXG5cdC8vXHRvdmVycmlkZSBqUXVlcnkudGV4dFxyXG5cdHZhciBfb3JnVGV4dCA9ICQuZm4udGV4dDtcclxuXHQkLmZuLnRleHQgPSBmdW5jdGlvbiggc3RyIClcclxuXHR7XHJcblx0XHRpZiAoIHN0ciAhPSB1bmRlZiAmJiAhJC5pc0Z1bmN0aW9uKCBzdHIgKSAmJiB0aGlzLmRhdGEoICdkb3Rkb3Rkb3QnICkgKVxyXG5cdFx0e1xyXG5cdFx0XHRzdHIgPSAkKCAnPGRpdiAvPicgKS50ZXh0KCBzdHIgKS5odG1sKCk7XHJcblx0XHRcdHJldHVybiB0aGlzLnRyaWdnZXIoICd1cGRhdGUnLCBbIHN0ciBdICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gX29yZ1RleHQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdH07XHJcblxyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cbnZhciBXSURHRVRfQ09NTU9OX0NPTkZJRyA9IHtcbiAgQVVUSF9QQVRIX1VSTDogXCJ2MS93aWRnZXQvYXV0aFwiLFxuICBMT0dHRVJfQ0xJRU5UX0lEOiBcIjEwODg1MjcxNDcxMDktNnExbzJ2dGlobjM0MjkycGp0NGNraG1oY2swcmswbzcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgTE9HR0VSX0NMSUVOVF9TRUNSRVQ6IFwibmxaeXJjUExnNm9Fd085ZjlXZm4yOVdoXCIsXG4gIExPR0dFUl9SRUZSRVNIX1RPS0VOOiBcIjEveHp0NGt3ekUxSDdXOVZuS0I4Y0FhQ3g2emI0RXM0bktFb3FhWUhkVEQxNUlnT3JKRHRkdW42eks2WGlBVENLVFwiLFxuICBTVE9SQUdFX0VOVjogXCJwcm9kXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OlwiICsgZm9udE9iai5mb250LmZhbWlseSArIFwiOyBcIjtcbiAgICB2YXIgY29sb3IgPSBcImNvbG9yOiBcIiArIChmb250T2JqLmNvbG9yID8gZm9udE9iai5jb2xvciA6IGZvbnRPYmouZm9yZWNvbG9yKSArIFwiOyBcIjtcbiAgICB2YXIgc2l6ZSA9IFwiZm9udC1zaXplOiBcIiArIChmb250T2JqLnNpemUuaW5kZXhPZihcInB4XCIpID09PSAtMSA/IGZvbnRPYmouc2l6ZSArIFwicHg7IFwiIDogZm9udE9iai5zaXplICsgXCI7IFwiKTtcbiAgICB2YXIgd2VpZ2h0ID0gXCJmb250LXdlaWdodDogXCIgKyAoZm9udE9iai5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgaXRhbGljID0gXCJmb250LXN0eWxlOiBcIiArIChmb250T2JqLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgdW5kZXJsaW5lID0gXCJ0ZXh0LWRlY29yYXRpb246IFwiICsgKGZvbnRPYmoudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKSArIFwiOyBcIjtcbiAgICB2YXIgaGlnaGxpZ2h0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIChmb250T2JqLmhpZ2hsaWdodENvbG9yID8gZm9udE9iai5oaWdobGlnaHRDb2xvciA6IGZvbnRPYmouYmFja2NvbG9yKSArIFwiOyBcIjtcblxuICAgIHJldHVybiBcIi5cIiArIGNsYXNzTmFtZSArIFwiIHtcIiArIGZhbWlseSArIGNvbG9yICsgc2l6ZSArIHdlaWdodCArIGl0YWxpYyArIHVuZGVybGluZSArIGhpZ2hsaWdodCArIFwifVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ1NTUnVsZXMocnVsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcnVsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJ1bGVzW2ldKSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICAvKlxuICAgKiBMb2FkcyBHb29nbGUgb3IgY3VzdG9tIGZvbnRzLCBpZiBhcHBsaWNhYmxlLCBhbmQgaW5qZWN0cyBDU1Mgc3R5bGVzXG4gICAqIGludG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICAgYXJyYXkgICAgc2V0dGluZ3MgICAgQXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRhdGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9udFNldHRpbmdcIjoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlZlcmRhbmFcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ29vZ2xlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL2N1c3RvbS1mb250LXVybFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCIyMFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgKlxuICAgKiAgICAgICAgICAgb2JqZWN0ICAgY29udGVudERvYyAgICBEb2N1bWVudCBvYmplY3QgaW50byB3aGljaCB0byBpbmplY3Qgc3R5bGVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBsb2FkIGZvbnRzIChvcHRpb25hbCkuXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkRm9udHMoc2V0dGluZ3MsIGNvbnRlbnREb2MpIHtcbiAgICBzZXR0aW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLmNsYXNzICYmIGl0ZW0uZm9udFNldHRpbmcpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U2V0dGluZykgXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLmZvbnRTZXR0aW5nLmZvbnQudHlwZSkge1xuICAgICAgICBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIgJiYgaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSAmJlxuICAgICAgICAgIGl0ZW0uZm9udFNldHRpbmcuZm9udC51cmwpIHtcbiAgICAgICAgICBsb2FkQ3VzdG9tRm9udChpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5LCBpdGVtLmZvbnRTZXR0aW5nLmZvbnQudXJsLFxuICAgICAgICAgICAgY29udGVudERvYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUgPT09IFwiZ29vZ2xlXCIgJiYgaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSkge1xuICAgICAgICAgIGxvYWRHb29nbGVGb250KGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHksIGNvbnRlbnREb2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQ3VzdG9tRm9udChmYW1pbHksIHVybCwgY29udGVudERvYykge1xuICAgIHZhciBzaGVldCA9IG51bGw7XG4gICAgdmFyIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc2hlZXQgPSBjb250ZW50RG9jLnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBzaGVldC5hZGRSdWxlKFwiQGZvbnQtZmFjZVwiLCBydWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkR29vZ2xlRm9udChmYW1pbHksIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc3R5bGVzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG4gICAgY29udGVudERvYyA9IGNvbnRlbnREb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShcInJlbFwiLCBcInN0eWxlc2hlZXRcIik7XG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIik7XG5cbiAgICAvLyBzcGxpdCB0byBhY2NvdW50IGZvciBmYW1pbHkgdmFsdWUgY29udGFpbmluZyBhIGZhbGxiYWNrIChlZy4gQWxhZGluLHNhbnMtc2VyaWYpXG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiICsgZmFtaWx5LnNwbGl0KFwiLFwiKVswXSk7XG5cbiAgICBpZiAoc3R5bGVzaGVldCAhPT0gbnVsbCkge1xuICAgICAgY29udGVudERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc3R5bGVzaGVldCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyh1cmxzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHVybHMubGVuZ3RoLFxuICAgICAgaW1hZ2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpbWFnZXNbaV0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpXS5zcmMgPSB1cmxzW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1ldGVyKHBhcmFtKSB7XG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpLFxuICAgICAgcGFpcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICBpZiAocGFpclswXSA9PSBwYXJhbSkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpIHtcbiAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBzd2l0Y2ggKHN0YXR1c0NvZGUpIHtcbiAgICAgIGNhc2UgNDA0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZSBmaWxlIGRvZXMgbm90IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDUwNzpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSBpcyBub3QgZW5vdWdoIGRpc2sgc3BhY2UgdG8gc2F2ZSB0aGUgZmlsZSBvbiBSaXNlIENhY2hlLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIHRoZSBmaWxlIGZyb20gUmlzZSBDYWNoZS5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogZ2V0UXVlcnlQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgZ2V0Rm9udENzc1N0eWxlLFxuICAgIGFkZENTU1J1bGVzOiAgICAgIGFkZENTU1J1bGVzLFxuICAgIGxvYWRGb250czogICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICBsb2FkQ3VzdG9tRm9udCxcbiAgICBsb2FkR29vZ2xlRm9udDogICBsb2FkR29vZ2xlRm9udCxcbiAgICBwcmVsb2FkSW1hZ2VzOiAgICBwcmVsb2FkSW1hZ2VzLFxuICAgIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZTogZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlXG4gIH07XG59KSgpO1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyA9IChmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgIHZhciBkaXNwbGF5SWQgPSBcIlwiLFxuICAgIGNvbXBhbnlJZCA9IFwiXCI7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cblxuICAvKiBSZXRyaWV2ZSBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIGV2ZW50IGxvZ2dlci4gKi9cbiAgZnVuY3Rpb24gZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBjYikge1xuICAgIHZhciBqc29uID0gbnVsbDtcblxuICAgIC8vIGV2ZW50IGlzIHJlcXVpcmVkLlxuICAgIGlmIChwYXJhbXMuZXZlbnQpIHtcbiAgICAgIGpzb24gPSBwYXJhbXM7XG5cbiAgICAgIGlmIChqc29uLmZpbGVfdXJsKSB7XG4gICAgICAgIGpzb24uZmlsZV9mb3JtYXQgPSBnZXRGaWxlRm9ybWF0KGpzb24uZmlsZV91cmwpO1xuICAgICAgfVxuXG4gICAgICBqc29uLmNvbXBhbnlfaWQgPSBjb21wYW55SWQ7XG4gICAgICBqc29uLmRpc3BsYXlfaWQgPSBkaXNwbGF5SWQ7XG5cbiAgICAgIGNiKGpzb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNiKGpzb24pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdldCBzdWZmaXggZm9yIEJRIHRhYmxlIG5hbWUuXG4gIGZ1bmN0aW9uIGdldFN1ZmZpeCgpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCksXG4gICAgICB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCkgKyAxLFxuICAgICAgZGF5ID0gZGF0ZS5nZXRVVENEYXRlKCk7XG5cbiAgICBpZiAobW9udGggPCAxMCkge1xuICAgICAgbW9udGggPSBcIjBcIiArIG1vbnRoO1xuICAgIH1cblxuICAgIGlmIChkYXkgPCAxMCkge1xuICAgICAgZGF5ID0gXCIwXCIgKyBkYXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHllYXIgKyBtb250aCArIGRheTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RmlsZUZvcm1hdCh1cmwpIHtcbiAgICB2YXIgaGFzUGFyYW1zID0gL1s/IyZdLyxcbiAgICAgIHN0cjtcblxuICAgIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN0ciA9IHVybC5zdWJzdHIodXJsLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpO1xuXG4gICAgLy8gZG9uJ3QgaW5jbHVkZSBhbnkgcGFyYW1zIGFmdGVyIHRoZSBmaWxlbmFtZVxuICAgIGlmIChoYXNQYXJhbXMudGVzdChzdHIpKSB7XG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAgLChzdHIuaW5kZXhPZihcIj9cIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiP1wiKSA6IHN0ci5sZW5ndGgpO1xuXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIChzdHIuaW5kZXhPZihcIiNcIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiI1wiKSA6IHN0ci5sZW5ndGgpO1xuXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyKDAsIChzdHIuaW5kZXhPZihcIiZcIikgIT09IC0xKSA/IHN0ci5pbmRleE9mKFwiJlwiKSA6IHN0ci5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluc2VydERhdGEocGFyYW1zKSB7XG4gICAgdmFyIEJBU0VfSU5TRVJUX1NDSEVNQSA9IHtcbiAgICAgIFwia2luZFwiOiBcImJpZ3F1ZXJ5I3RhYmxlRGF0YUluc2VydEFsbFJlcXVlc3RcIixcbiAgICAgIFwic2tpcEludmFsaWRSb3dzXCI6IGZhbHNlLFxuICAgICAgXCJpZ25vcmVVbmtub3duVmFsdWVzXCI6IGZhbHNlLFxuICAgICAgXCJ0ZW1wbGF0ZVN1ZmZpeFwiOiBnZXRTdWZmaXgoKSxcbiAgICAgIFwicm93c1wiOiBbe1xuICAgICAgICBcImluc2VydElkXCI6IFwiXCJcbiAgICAgIH1dXG4gICAgfSxcbiAgICBkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShCQVNFX0lOU0VSVF9TQ0hFTUEpKTtcblxuICAgIGRhdGEucm93c1swXS5pbnNlcnRJZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKS50b1VwcGVyQ2FzZSgpO1xuICAgIGRhdGEucm93c1swXS5qc29uID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbi50cyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQodGFibGUsIHBhcmFtcykge1xuICAgIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgZnVuY3Rpb24oanNvbikge1xuICAgICAgaWYgKGpzb24gIT09IG51bGwpIHtcbiAgICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyLmxvZyh0YWJsZSwganNvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBTZXQgdGhlIENvbXBhbnkgYW5kIERpc3BsYXkgSURzLiAqL1xuICBmdW5jdGlvbiBzZXRJZHMoY29tcGFueSwgZGlzcGxheSkge1xuICAgIGNvbXBhbnlJZCA9IGNvbXBhbnk7XG4gICAgZGlzcGxheUlkID0gZGlzcGxheTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRJbnNlcnREYXRhXCI6IGdldEluc2VydERhdGEsXG4gICAgXCJnZXRGaWxlRm9ybWF0XCI6IGdldEZpbGVGb3JtYXQsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcInNldElkc1wiOiBzZXRJZHNcbiAgfTtcbn0pKCk7XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlciA9IChmdW5jdGlvbih1dGlscykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgUkVGUkVTSF9VUkwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbj9jbGllbnRfaWQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX0lEICtcbiAgICAgIFwiJmNsaWVudF9zZWNyZXQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX1NFQ1JFVCArXG4gICAgICBcIiZyZWZyZXNoX3Rva2VuPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX1JFRlJFU0hfVE9LRU4gK1xuICAgICAgXCImZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuXCI7XG5cbiAgdmFyIHNlcnZpY2VVcmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2JpZ3F1ZXJ5L3YyL3Byb2plY3RzL2NsaWVudC1zaWRlLWV2ZW50cy9kYXRhc2V0cy9XaWRnZXRfRXZlbnRzL3RhYmxlcy9UQUJMRV9JRC9pbnNlcnRBbGxcIixcbiAgICB0aHJvdHRsZSA9IGZhbHNlLFxuICAgIHRocm90dGxlRGVsYXkgPSAxMDAwLFxuICAgIGxhc3RFdmVudCA9IFwiXCIsXG4gICAgcmVmcmVzaERhdGUgPSAwLFxuICAgIHRva2VuID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiByZWZyZXNoVG9rZW4oY2IpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAobmV3IERhdGUoKSAtIHJlZnJlc2hEYXRlIDwgMzU4MDAwMCkge1xuICAgICAgcmV0dXJuIGNiKHt9KTtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIlBPU1RcIiwgUkVGUkVTSF9VUkwsIHRydWUpO1xuICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXNwID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpO1xuXG4gICAgICBjYih7IHRva2VuOiByZXNwLmFjY2Vzc190b2tlbiwgcmVmcmVzaGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1Rocm90dGxlZChldmVudCkge1xuICAgIHJldHVybiB0aHJvdHRsZSAmJiAobGFzdEV2ZW50ID09PSBldmVudCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGxvZyh0YWJsZU5hbWUsIHBhcmFtcykge1xuICAgIGlmICghdGFibGVOYW1lIHx8ICFwYXJhbXMgfHwgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmICFwYXJhbXMuZXZlbnQpIHx8XG4gICAgICAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgaXNUaHJvdHRsZWQocGFyYW1zLmV2ZW50KSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJvdHRsZSA9IHRydWU7XG4gICAgbGFzdEV2ZW50ID0gcGFyYW1zLmV2ZW50O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdHRsZSA9IGZhbHNlO1xuICAgIH0sIHRocm90dGxlRGVsYXkpO1xuXG4gICAgZnVuY3Rpb24gaW5zZXJ0V2l0aFRva2VuKHJlZnJlc2hEYXRhKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIGluc2VydERhdGEsIHVybDtcblxuICAgICAgdXJsID0gc2VydmljZVVybC5yZXBsYWNlKFwiVEFCTEVfSURcIiwgdGFibGVOYW1lKTtcbiAgICAgIHJlZnJlc2hEYXRlID0gcmVmcmVzaERhdGEucmVmcmVzaGVkQXQgfHwgcmVmcmVzaERhdGU7XG4gICAgICB0b2tlbiA9IHJlZnJlc2hEYXRhLnRva2VuIHx8IHRva2VuO1xuICAgICAgaW5zZXJ0RGF0YSA9IHV0aWxzLmdldEluc2VydERhdGEocGFyYW1zKTtcblxuICAgICAgLy8gSW5zZXJ0IHRoZSBkYXRhLlxuICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XG5cbiAgICAgIGlmIChwYXJhbXMuY2IgJiYgdHlwZW9mIHBhcmFtcy5jYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwYXJhbXMuY2IoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoaW5zZXJ0RGF0YSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZWZyZXNoVG9rZW4oaW5zZXJ0V2l0aFRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJsb2dcIjogbG9nXG4gIH07XG59KShSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyk7XG4vKiBnbG9iYWwgZ2FkZ2V0cywgXyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlJTUyA9IHt9O1xuXG5SaXNlVmlzaW9uLlJTUyA9IChmdW5jdGlvbiAoZG9jdW1lbnQsIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hZGRpdGlvbmFsUGFyYW1zID0gbnVsbCxcbiAgICBfcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpO1xuXG4gIHZhciBfbWVzc2FnZSA9IG51bGwsXG4gICAgX3Jpc2Vyc3MgPSBudWxsLFxuICAgIF9jb250ZW50ID0gbnVsbDtcblxuICB2YXIgX2N1cnJlbnRGZWVkID0gbnVsbDtcblxuICB2YXIgX3ZpZXdlclBhdXNlZCA9IHRydWUsXG4gICAgX2Vycm9yVGltZXIgPSBudWxsLFxuICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kb25lKCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X2RvbmVcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGVhckVycm9yVGltZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KF9lcnJvclRpbWVyKTtcbiAgICBfZXJyb3JUaW1lciA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRFcnJvclRpbWVyKCkge1xuICAgIF9jbGVhckVycm9yVGltZXIoKTtcblxuICAgIF9lcnJvclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBub3RpZnkgVmlld2VyIHdpZGdldCBpcyBkb25lXG4gICAgICBfZG9uZSgpO1xuICAgIH0sIDUwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgX21lc3NhZ2UgPSBuZXcgUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZUNvbnRhaW5lclwiKSk7XG5cbiAgICAvLyBzaG93IHdhaXQgbWVzc2FnZVxuICAgIF9tZXNzYWdlLnNob3coXCJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIGZlZWQgaXMgbG9hZGVkLlwiKTtcblxuICAgIC8vIExvYWQgZm9udHMuXG4gICAgdmFyIGZvbnRTZXR0aW5ncyA9IFtcbiAgICAgIHtcbiAgICAgICAgXCJjbGFzc1wiOiBcImhlYWRsaW5lX2ZvbnQtc3R5bGVcIixcbiAgICAgICAgXCJmb250U2V0dGluZ1wiOiBfYWRkaXRpb25hbFBhcmFtcy5oZWFkbGluZS5mb250U3R5bGVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwiY2xhc3NcIjogXCJzdG9yeV9mb250LXN0eWxlXCIsXG4gICAgICAgIFwiZm9udFNldHRpbmdcIjogX2FkZGl0aW9uYWxQYXJhbXMuc3RvcnkuZm9udFN0eWxlXG4gICAgICB9XG4gICAgXTtcblxuICAgIFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5sb2FkRm9udHMoZm9udFNldHRpbmdzKTtcblxuICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgcnNzIG1vZHVsZSBpbnN0YW5jZVxuICAgIF9yaXNlcnNzID0gbmV3IFJpc2VWaXNpb24uUlNTLlJpc2VSU1MoX2FkZGl0aW9uYWxQYXJhbXMpO1xuICAgIF9yaXNlcnNzLmluaXQoKTtcblxuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBvbkNvbnRlbnREb25lKCkge1xuICAgIF9kb25lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblJpc2VSU1NJbml0KGZlZWQpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uUmlzZVJTU0luaXRcIik7XG4gICAgY29uc29sZS5kaXIoZmVlZCk7XG5cbiAgICBpZiAoZmVlZC5pdGVtcyAmJiBmZWVkLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIHJlbW92ZSBhIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICBfY3VycmVudEZlZWQgPSBfLmNsb25lKGZlZWQpO1xuXG4gICAgICAvLyBjcmVhdGUgY29udGVudCBtb2R1bGUgaW5zdGFuY2VcbiAgICAgIF9jb250ZW50ID0gbmV3IFJpc2VWaXNpb24uUlNTLkNvbnRlbnQoX3ByZWZzKTtcbiAgICAgIF9jb250ZW50LmluaXQoX2N1cnJlbnRGZWVkKTtcblxuICAgICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICAgIF9jb250ZW50LnBsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzaG93RXJyb3IoXCJUaGVyZSBhcmUgbm8gZW50cmllcyB0byBzaG93IGZyb20gdGhpcyBSU1MgZmVlZC5cIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25SaXNlUlNTUmVmcmVzaChmZWVkKSB7XG4gICAgY29uc29sZS5sb2coXCJvblJpc2VSU1NSZWZyZXNoXCIpO1xuICAgIGNvbnNvbGUuZGlyKGZlZWQpO1xuXG4gICAgdmFyIHVwZGF0ZWQgPSBmYWxzZTtcblxuICAgIGlmICghZmVlZC5pdGVtcyB8fCBmZWVkLml0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKCFfZXJyb3JGbGFnKSB7XG4gICAgICAgIHNob3dFcnJvcihcIlRoZXJlIGFyZSBubyBlbnRyaWVzIHRvIHNob3cgZnJvbSB0aGlzIFJTUyBmZWVkLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZmVlZC5pdGVtcy5sZW5ndGggIT09IF9jdXJyZW50RmVlZC5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIHJ1biB0aHJvdWdoIGVhY2ggaXRlbSBhbmQgY29tcGFyZSwgaWYgYW55IGFyZSBkaWZmZXJlbnQsIGZlZWQgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfY3VycmVudEZlZWQuaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKCFfLmlzRXF1YWwoZmVlZC5pdGVtc1tpXSwgX2N1cnJlbnRGZWVkLml0ZW1zW2ldKSkge1xuICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgIF9jdXJyZW50RmVlZCA9IF8uY2xvbmUoZmVlZCk7XG5cbiAgICAgIGlmIChfZXJyb3JGbGFnKSB7XG4gICAgICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIV9jb250ZW50KSB7XG4gICAgICAgICAgLy8gY3JlYXRlIGNvbnRlbnQgbW9kdWxlIGluc3RhbmNlXG4gICAgICAgICAgX2NvbnRlbnQgPSBuZXcgUmlzZVZpc2lvbi5SU1MuQ29udGVudChfcHJlZnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NvbnRlbnQuaW5pdChfY3VycmVudEZlZWQpO1xuXG4gICAgICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgICAgIF9jb250ZW50LnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIF9jb250ZW50LnVwZGF0ZShmZWVkKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gICAgaWYgKF9lcnJvckZsYWcpIHtcbiAgICAgIF9jbGVhckVycm9yVGltZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX2NvbnRlbnQpIHtcbiAgICAgIF9jb250ZW50LnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2U7XG5cbiAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfY29udGVudCkge1xuICAgICAgX2NvbnRlbnQucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcykge1xuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKSk7XG4gICAgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKTtcblxuICAgIF9hZGRpdGlvbmFsUGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUud2lkdGggPSBfYWRkaXRpb25hbFBhcmFtcy53aWR0aCArIFwicHhcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfYWRkaXRpb25hbFBhcmFtcy5oZWlnaHQgKyBcInB4XCI7XG5cbiAgICBfaW5pdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UpIHtcbiAgICBfZXJyb3JGbGFnID0gdHJ1ZTtcblxuICAgIF9jb250ZW50LnJlc2V0KCk7XG4gICAgX21lc3NhZ2Uuc2hvdyhtZXNzYWdlKTtcblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJvbkNvbnRlbnREb25lXCI6IG9uQ29udGVudERvbmUsXG4gICAgXCJvblJpc2VSU1NJbml0XCI6IG9uUmlzZVJTU0luaXQsXG4gICAgXCJvblJpc2VSU1NSZWZyZXNoXCI6IG9uUmlzZVJTU1JlZnJlc2gsXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcInNob3dFcnJvclwiOiBzaG93RXJyb3IsXG4gICAgXCJzdG9wXCI6IHN0b3BcbiAgfTtcblxufSkoZG9jdW1lbnQsIGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlJTUyA9IFJpc2VWaXNpb24uUlNTIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlJTUy5VdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgIE1ldGhvZHNcbiAgICovXG5cbiAgZnVuY3Rpb24gc3RyaXBTY3JpcHRzKGh0bWwpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIHNjcmlwdHMsIGk7XG5cbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcbiAgICBzY3JpcHRzID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuICAgIGkgPSBzY3JpcHRzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHNjcmlwdHNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJzdHJpcFNjcmlwdHNcIjogc3RyaXBTY3JpcHRzXG4gIH07XG5cbn0pKCk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uUlNTID0gUmlzZVZpc2lvbi5SU1MgfHwge307XG5cblJpc2VWaXNpb24uUlNTLlJpc2VSU1MgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2luaXRpYWxMb2FkID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHJzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXJzc1wiKTtcblxuICAgIHJzcy5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1yc3MtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLmZlZWQpIHtcbiAgICAgICAgaWYgKF9pbml0aWFsTG9hZCkge1xuICAgICAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5SU1Mub25SaXNlUlNTSW5pdChlLmRldGFpbC5mZWVkKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJpc2VWaXNpb24uUlNTLm9uUmlzZVJTU1JlZnJlc2goZS5kZXRhaWwuZmVlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJzcy5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1yc3MtZXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgUmlzZVZpc2lvbi5SU1Muc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgUlNTIGZlZWQuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgcnNzLnNldEF0dHJpYnV0ZShcInVybFwiLCBkYXRhLnVybCk7XG4gICAgcnNzLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgXyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlJTUyA9IFJpc2VWaXNpb24uUlNTIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlJTUy5Db250ZW50ID0gZnVuY3Rpb24gKHByZWZzKSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pdGVtcyA9IFtdLFxuICAgIF91dGlscyA9IFJpc2VWaXNpb24uUlNTLlV0aWxzO1xuXG4gIHZhciBfJGVsO1xuXG4gIHZhciBfY3VycmVudEl0ZW1JbmRleCA9IDA7XG5cbiAgdmFyIF90cmFuc2l0aW9uSW50ZXJ2YWxJZCA9IG51bGwsXG4gICAgX3RyYW5zaXRpb25JbnRlcnZhbCA9IDEwMDAwO1xuXG4gIHZhciBfd2FpdGluZ0ZvclVwZGF0ZSA9IGZhbHNlO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9jYWNoZSgpIHtcbiAgICBfJGVsID0ge1xuICAgICAgY29udGFpbmVyOiAgICAgICQoXCIjY29udGFpbmVyXCIpLFxuICAgICAgcGFnZTogICAgICAgICAgICQoXCIucGFnZVwiKVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0U3RvcnkoaXRlbSkge1xuICAgIHZhciBzdG9yeSA9IG51bGw7XG5cbiAgICBpZiAoXy5oYXMoaXRlbSwgXCJjb250ZW50OmVuY29kZWRcIikpIHtcbiAgICAgIHN0b3J5ID0gaXRlbVtcImNvbnRlbnQ6ZW5jb2RlZFwiXTtcbiAgICB9IGVsc2UgaWYgKF8uaGFzKGl0ZW0sIFwiZGVzY3JpcHRpb25cIikpIHtcbiAgICAgIHN0b3J5ID0gaXRlbS5kZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Rvcnk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0VGVtcGxhdGUoaXRlbSkge1xuICAgIHZhciBzdG9yeSA9IF9nZXRTdG9yeShpdGVtKSxcbiAgICAgIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyc3NJdGVtXCIpLmNvbnRlbnQsXG4gICAgICAkY29udGVudCA9ICQodGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpKSxcbiAgICAgICRzdG9yeSwgY2xvbmU7XG5cbiAgICAvLyBIZWFkbGluZVxuICAgIGlmICghaXRlbS50aXRsZSkge1xuICAgICAgJGNvbnRlbnQucmVtb3ZlKFwiLmhlYWRsaW5lXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRjb250ZW50LmZpbmQoXCIuaGVhZGxpbmUgYVwiKS50ZXh0KGl0ZW0udGl0bGUpO1xuICAgIH1cblxuICAgIC8vIFN0b3J5XG4gICAgaWYgKCFzdG9yeSkge1xuICAgICAgJGNvbnRlbnQucmVtb3ZlKFwiLnN0b3J5XCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRzdG9yeSA9ICRjb250ZW50LmZpbmQoXCIuc3RvcnlcIik7XG4gICAgICAkc3RvcnkuaHRtbChfdXRpbHMuc3RyaXBTY3JpcHRzKHN0b3J5KSk7XG5cbiAgICAgIC8vIGFwcGx5IHRoZSBzdG9yeSBmb250IHN0eWxpbmcgdG8gY2hpbGQgZWxlbWVudHMgYXMgd2VsbC5cbiAgICAgICRzdG9yeS5maW5kKFwicFwiKS5hZGRDbGFzcyhcInN0b3J5X2ZvbnQtc3R5bGVcIik7XG4gICAgICAkc3RvcnkuZmluZChcImRpdlwiKS5hZGRDbGFzcyhcInN0b3J5X2ZvbnQtc3R5bGVcIik7XG4gICAgICAkc3RvcnkuZmluZChcInNwYW5cIikuYWRkQ2xhc3MoXCJzdG9yeV9mb250LXN0eWxlXCIpO1xuICAgIH1cblxuICAgIGNsb25lID0gJChkb2N1bWVudC5pbXBvcnROb2RlKCRjb250ZW50WzBdLCB0cnVlKSk7XG5cbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xlYXIoKSB7XG4gICAgLy8gY2xlYXIgY29udGVudFxuICAgIF8kZWwucGFnZS5lbXB0eSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Nob3dJdGVtKGluZGV4KSB7XG4gICAgXyRlbC5wYWdlLmFwcGVuZChfZ2V0VGVtcGxhdGUoX2l0ZW1zW2luZGV4XSkpO1xuXG4gICAgLy8gdHJ1bmNhdGUgY29udGVudFxuICAgICQoXCIuaXRlbVwiKS5kb3Rkb3Rkb3Qoe1xuICAgICAgaGVpZ2h0OiBwcmVmcy5nZXRJbnQoXCJyc0hcIilcbiAgICB9KTtcblxuICAgICQoXCIuaXRlbVwiKS5oZWlnaHQocHJlZnMuZ2V0SW50KFwicnNIXCIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90cmFuc2l0aW9uKCkge1xuICAgIGlmIChfY3VycmVudEl0ZW1JbmRleCA9PT0gKF9pdGVtcy5sZW5ndGggLSAxKSkge1xuXG4gICAgICBfc3RvcFRyYW5zaXRpb25UaW1lcigpO1xuXG4gICAgICAvLyBzZXQgdXAgZmlyc3QgaXRlbSB0byBzaG93XG4gICAgICBfY3VycmVudEl0ZW1JbmRleCA9IDA7XG4gICAgICBfY2xlYXIoKTtcbiAgICAgIF9zaG93SXRlbShfY3VycmVudEl0ZW1JbmRleCk7XG5cbiAgICAgIF93YWl0aW5nRm9yVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIFJpc2VWaXNpb24uUlNTLm9uQ29udGVudERvbmUoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfd2FpdGluZ0ZvclVwZGF0ZSkge1xuICAgICAgLy8gc3RhcnQgb3ZlciBhdCBmaXJzdCBpdGVtIHNpbmNlIHRoZSBmZWVkIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgIF9jdXJyZW50SXRlbUluZGV4ID0gMDtcbiAgICAgIF93YWl0aW5nRm9yVXBkYXRlID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX2N1cnJlbnRJdGVtSW5kZXggKz0gMTtcbiAgICB9XG5cbiAgICBfY2xlYXIoKTtcbiAgICBfc2hvd0l0ZW0oX2N1cnJlbnRJdGVtSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0VHJhbnNpdGlvblRpbWVyKCkge1xuICAgIGlmIChfdHJhbnNpdGlvbkludGVydmFsSWQgPT09IG51bGwpIHtcbiAgICAgIF90cmFuc2l0aW9uSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RyYW5zaXRpb24oKTtcbiAgICAgIH0sIF90cmFuc2l0aW9uSW50ZXJ2YWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdG9wVHJhbnNpdGlvblRpbWVyKCkge1xuICAgIGNsZWFySW50ZXJ2YWwoX3RyYW5zaXRpb25JbnRlcnZhbElkKTtcbiAgICBfdHJhbnNpdGlvbkludGVydmFsSWQgPSBudWxsO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KGZlZWQpIHtcbiAgICBfaXRlbXMgPSBmZWVkLml0ZW1zO1xuICAgIF9jdXJyZW50SXRlbUluZGV4ID0gMDtcbiAgICBfc2hvd0l0ZW0oX2N1cnJlbnRJdGVtSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX3N0b3BUcmFuc2l0aW9uVGltZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIF9zdG9wVHJhbnNpdGlvblRpbWVyKCk7XG4gICAgX2NsZWFyKCk7XG4gICAgX2l0ZW1zID0gW107XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIF9zdGFydFRyYW5zaXRpb25UaW1lcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKGZlZWQpIHtcbiAgICBfaXRlbXMgPSBmZWVkLml0ZW1zO1xuICAgIF93YWl0aW5nRm9yVXBkYXRlID0gdHJ1ZTtcbiAgfVxuXG4gIF9jYWNoZSgpO1xuXG4gIHJldHVybiB7XG4gICAgaW5pdDogaW5pdCxcbiAgICBwYXVzZTogcGF1c2UsXG4gICAgcGxheTogcGxheSxcbiAgICByZXNldDogcmVzZXQsXG4gICAgdXBkYXRlOiB1cGRhdGVcbiAgfTtcbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLk1lc3NhZ2UgPSBmdW5jdGlvbiAobWFpbkNvbnRhaW5lciwgbWVzc2FnZUNvbnRhaW5lcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2FjdGl2ZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgIHRyeSB7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG1haW5Db250YWluZXIuc3R5bGUuaGVpZ2h0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhbid0IGluaXRpYWxpemUgTWVzc2FnZSAtIFwiLCBlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICBpZiAoX2FjdGl2ZSkge1xuICAgICAgLy8gY2xlYXIgY29udGVudCBvZiBtZXNzYWdlIGNvbnRhaW5lclxuICAgICAgd2hpbGUgKG1lc3NhZ2VDb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICBtZXNzYWdlQ29udGFpbmVyLnJlbW92ZUNoaWxkKG1lc3NhZ2VDb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGhpZGUgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICAvLyBzaG93IG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcblxuICAgICAgX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3cobWVzc2FnZSkge1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHA7XG5cbiAgICBpZiAoIV9hY3RpdmUpIHtcbiAgICAgIC8vIGhpZGUgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG5cbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgLy8gY3JlYXRlIG1lc3NhZ2UgZWxlbWVudFxuICAgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1lc3NhZ2VcIik7XG5cbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHApO1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIF9hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtZXNzYWdlIGFscmVhZHkgYmVpbmcgc2hvd24sIHVwZGF0ZSBtZXNzYWdlIHRleHRcbiAgICAgIHAgPSBtZXNzYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZVwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICB9XG4gIH1cblxuICBfaW5pdCgpO1xuXG4gIHJldHVybiB7XG4gICAgXCJoaWRlXCI6IGhpZGUsXG4gICAgXCJzaG93XCI6IHNob3dcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBSaXNlVmlzaW9uICovXG5cbihmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLFxuICAgIGlkID0gcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgLy8gRGlzYWJsZSBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrIG1lbnUpXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5ib2R5Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gXCJwcmV2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcblxuICAgICAgaWYgKG5hbWVzWzJdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgICBhZGRpdGlvbmFsUGFyYW1zID0gSlNPTi5wYXJzZSh2YWx1ZXNbMl0pO1xuXG4gICAgICAgIFJpc2VWaXNpb24uUlNTLnNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLlJTUy5wbGF5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBSaXNlVmlzaW9uLlJTUy5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLlJTUy5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiB3ZWJDb21wb25lbnRzUmVhZHkoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgd2ViQ29tcG9uZW50c1JlYWR5KTtcblxuICAgIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbmZpZ3VyZSk7XG4gICAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImNvbXBhbnlJZFwiLCBcImRpc3BsYXlJZFwiLCBcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuICAgIH1cbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsIHdlYkNvbXBvbmVudHNSZWFkeSk7XG5cblxufSkod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
