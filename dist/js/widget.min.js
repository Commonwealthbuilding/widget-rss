!function(t,e){function n(t,e,n){var i=t.children(),o=!1;t.empty();for(var s=0,a=i.length;a>s;s++){var l=i.eq(s);if(t.append(l),n&&t.append(n),r(t,e)){l.remove(),o=!0;break}n&&n.detach()}return o}function i(e,n,s,a,l){var d=!1,u="a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",c="script, .dotdotdot-keep";return e.contents().detach().each(function(){var f=this,h=t(f);if("undefined"==typeof f)return!0;if(h.is(c))e.append(h);else{if(d)return!0;e.append(h),!l||h.is(a.after)||h.find(a.after).length||e[e.is(u)?"after":"append"](l),r(s,a)&&(d=3==f.nodeType?o(h,n,s,a,l):i(h,n,s,a,l)),d||l&&l.detach()}}),n.addClass("is-truncated"),d}function o(e,n,i,o,a){var u=e[0];if(!u)return!1;var f=d(u),h=-1!==f.indexOf(" ")?" ":"　",g="letter"==o.wrap?"":h,p=f.split(g),m=-1,y=-1,S=0,v=p.length-1;for(o.fallbackToLetter&&0==S&&0==v&&(g="",p=f.split(g),v=p.length-1);v>=S&&(0!=S||0!=v);){var w=Math.floor((S+v)/2);if(w==y)break;y=w,l(u,p.slice(0,y+1).join(g)+o.ellipsis),i.children().each(function(){t(this).toggle().toggle()}),r(i,o)?(v=y,o.fallbackToLetter&&0==S&&0==v&&(g="",p=p[0].split(g),m=-1,y=-1,S=0,v=p.length-1)):(m=y,S=y)}if(-1==m||1==p.length&&0==p[0].length){var R=e.parent();e.detach();var C=a&&a.closest(R).length?a.length:0;R.contents().length>C?u=c(R.contents().eq(-1-C),n):(u=c(R,n,!0),C||R.detach()),u&&(f=s(d(u),o),l(u,f),C&&a&&t(u).parent().append(a))}else f=s(p.slice(0,m+1).join(g),o),l(u,f);return!0}function r(t,e){return t.innerHeight()>e.maxHeight}function s(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function a(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function d(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function u(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function c(e,n,i){var o,r=e&&e[0];if(r){if(!i){if(3===r.nodeType)return r;if(t.trim(e.text()))return c(e.contents().last(),n)}for(o=u(r);!o;){if(e=e.parent(),e.is(n)||!e.length)return!1;o=u(e[0])}if(o)return c(t(o),n)}return!1}function f(e,n){return e?"string"==typeof e?(e=t(e,n),e.length?e:!1):e.jquery?e:!1:!1}function h(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],i=0,o=n.length;o>i;i++){var r=parseInt(t.css(n[i]),10);isNaN(r)&&(r=0),e-=r}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var o=this,s=o.contents();o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(e,a){switch(o.removeClass("is-truncated"),e.preventDefault(),e.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(o[0]);break;default:l.maxHeight=h(o)}l.maxHeight+=l.tolerance,"undefined"!=typeof a&&(("string"==typeof a||"nodeType"in a&&1===a.nodeType)&&(a=t("<div />").append(a).contents()),a instanceof t&&(s=a)),p=o.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(s.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var u=!1,c=!1;return d.afterElement&&(u=d.afterElement.clone(!0),u.show(),d.afterElement.detach()),r(p,l)&&(c="children"==l.wrap?n(p,l,u):i(p,o,p,l,u)),p.replaceWith(p.contents()),p=null,t.isFunction(l.callback)&&l.callback.call(o[0],c,s),d.isTruncated=c,c}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],d.isTruncated),d.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],s),s}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(s).attr("style",o.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),i=e.height();e.bind("resize.dot"+d.dotId,function(){n==e.width()&&i==e.height()&&l.windowResizeFix||(n=e.width(),i=e.height(),c&&clearInterval(c),c=setTimeout(function(){o.trigger("update.dot")},100))})}else u=a(o),c=setInterval(function(){if(o.is(":visible")){var t=a(o);(u.width!=t.width||u.height!=t.height)&&(o.trigger("update.dot"),u=t)}},500);return o},o.unwatch=function(){return t(window).unbind("resize.dot"+d.dotId),c&&clearInterval(c),o};var l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),d={},u={},c=null,p=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),d.afterElement=f(l.after,o),d.isTruncated=!1,d.dotId=g++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(){};var g=1,p=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):p.apply(this,arguments)};var m=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):m.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(t){t(".dot-ellipsis").each(function(){var e=t(this).hasClass("dot-resize-update"),n=t(this).hasClass("dot-timer-update"),i=0,o=t(this).attr("class").split(/\s+/);t.each(o,function(t,e){var n=e.match(/^dot-height-(\d+)$/);null!==n&&(i=Number(n[1]))});var r=new Object;n&&(r.watch=!0),e&&(r.watch="window"),i>0&&(r.height=i),t(this).dotdotdot(r)})}),jQuery(window).load(function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function t(t,e){var n="font-family:"+e.font.family+"; ",i="color: "+(e.color?e.color:e.forecolor)+"; ",o="font-size: "+(-1===e.size.indexOf("px")?e.size+"px; ":e.size+"; "),r="font-weight: "+(e.bold?"bold":"normal")+"; ",s="font-style: "+(e.italic?"italic":"normal")+"; ",a="text-decoration: "+(e.underline?"underline":"none")+"; ",l="background-color: "+(e.highlightColor?e.highlightColor:e.backcolor)+"; ";return"."+t+" {"+n+i+o+r+s+a+l+"}"}function e(t){for(var e=document.createElement("style"),n=0,i=t.length;i>n;n++)e.appendChild(document.createTextNode(t[n]));document.head.appendChild(e)}function n(n,r){n.forEach(function(n){n.class&&n.fontSetting&&e([t(n.class,n.fontSetting)]),n.fontSetting.font.type&&("custom"===n.fontSetting.font.type&&n.fontSetting.font.family&&n.fontSetting.font.url?i(n.fontSetting.font.family,n.fontSetting.font.url,r):"google"===n.fontSetting.font.type&&n.fontSetting.font.family&&o(n.fontSetting.font.family,r))})}function i(t,e,n){var i=null,o="font-family: "+t+"; src: url('"+e+"');";n=n||document,i=n.styleSheets[0],null!==i&&i.addRule("@font-face",o)}function o(t,e){var n,i=document.createElement("link");e=e||document,i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),n=t.split(",")[0],n=n.replace(/'/g,""),i.setAttribute("href","https://fonts.googleapis.com/css?family="+n),null!==i&&e.getElementsByTagName("head")[0].appendChild(i)}function r(t){for(var e=t.length,n=[],i=0;e>i;i++)n[i]=new Image,n[i].src=t[i]}function s(t){for(var e,n=window.location.search.substring(1),i=n.split("&"),o=0;o<i.length;o++)if(e=i[o].split("="),e[0]==t)return decodeURIComponent(e[1]);return""}function a(t){var e="";switch(t){case 404:e="The file does not exist or cannot be accessed.";break;case 507:e="There is not enough disk space to save the file on Rise Cache.";break;default:e="There was a problem retrieving the file from Rise Cache."}return e}return{getQueryParameter:s,getFontCssStyle:t,addCSSRules:e,loadFonts:n,loadCustomFont:i,loadGoogleFont:o,preloadImages:r,getRiseCacheErrorMessage:a}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function t(t,e){var i=null;t.event?(i=t,i.file_url&&(i.file_format=n(i.file_url)),i.company_id=a,i.display_id=s,e(i)):e(i)}function e(){var t=new Date,e=t.getUTCFullYear(),n=t.getUTCMonth()+1,i=t.getUTCDate();return 10>n&&(n="0"+n),10>i&&(i="0"+i),e+n+i}function n(t){var e,n=/[?#&]/;return t&&"string"==typeof t?(e=t.substr(t.lastIndexOf(".")+1),n.test(e)&&(e=e.substr(0,-1!==e.indexOf("?")?e.indexOf("?"):e.length),e=e.substr(0,-1!==e.indexOf("#")?e.indexOf("#"):e.length),e=e.substr(0,-1!==e.indexOf("&")?e.indexOf("&"):e.length)),e.toLowerCase()):null}function i(t){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:e(),rows:[{insertId:""}]},i=JSON.parse(JSON.stringify(n));return i.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),i.rows[0].json=JSON.parse(JSON.stringify(t)),i.rows[0].json.ts=(new Date).toISOString(),i}function o(e,n){t(n,function(t){null!==t&&RiseVision.Common.Logger.log(e,t)})}function r(t,e){a=t,s=e}var s="",a="";return{getInsertData:i,getFileFormat:n,logEvent:o,setIds:r}}(),RiseVision.Common.Logger=function(t){"use strict";function e(t){var e=new XMLHttpRequest;return new Date-d<358e4?t({}):(e.open("POST",o,!0),e.onloadend=function(){var n=JSON.parse(e.response);t({token:n.access_token,refreshedAt:new Date})},e.send(),void 0)}function n(t){return s&&l===t}function i(i,o){function c(e){var n,s,a=new XMLHttpRequest;s=r.replace("TABLE_ID",i),d=e.refreshedAt||d,u=e.token||u,n=t.getInsertData(o),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),o.cb&&"function"==typeof o.cb&&(a.onloadend=function(){o.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!i||!o||o.hasOwnProperty("event")&&!o.event||o.hasOwnProperty("event")&&n(o.event)))return s=!0,l=o.event,setTimeout(function(){s=!1},a),e(c)}var o="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",r="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,l="",d=0,u="";return{log:i}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.RSS={},RiseVision.RSS=function(t,e){"use strict";function n(){e.rpc.call("","rsevent_ready",null,w.getString("id"),!0,!0,!0,!0,!0)}function i(){e.rpc.call("","rsevent_done",null,w.getString("id")),null!==V&&u(V,!0),u({event:"done",feed_url:v.url},!1)}function o(){var t={event:"error",event_details:"no feed items",feed_url:v.url};u(t,!0),y("There are no items to show from this RSS feed.")}function r(){clearTimeout(E),E=null}function s(){r(),E=setTimeout(function(){i()},5e3)}function a(){R=new RiseVision.Common.Message(t.getElementById("container"),t.getElementById("messageContainer")),R.show("Please wait while your feed is loaded.");var e=[{"class":"story_font-style",fontSetting:v.story.fontStyle}];v.headline&&!_.isEmpty(v.headline.fontStyle)&&e.push({"class":"headline_font-style",fontSetting:v.headline.fontStyle}),v.timestamp&&!_.isEmpty(v.timestamp.fontStyle)&&e.push({"class":"timestamp_font-style",fontSetting:v.timestamp.fontStyle}),v.author&&!_.isEmpty(v.author.fontStyle)&&e.push({"class":"author_font-style",fontSetting:v.author.fontStyle}),RiseVision.Common.Utilities.loadFonts(e),C=new RiseVision.RSS.RiseRSS(v),C.init(),n()}function l(){var e=window.location.pathname,i=e.lastIndexOf("/")+1;e=e.substr(0,i)+"layouts/","undefined"==typeof v.layout?e+="layout-4x1.html":"custom"===v.layout?e=v.layoutUrl:e+=v.layout+".html",$.get(e).done(function(t){$("#container").append(t),a()}).fail(function(){R=new RiseVision.Common.Message(t.getElementById("container"),t.getElementById("messageContainer")),R.show("The layout file could not be loaded."),u({event:"error",event_details:"layout not loaded",error_details:e,feed_url:v.url},!0),n()})}function d(){return"rss_events"}function u(t,e){e&&(V=t),RiseVision.Common.LoggerUtils.logEvent(d(),t)}function c(){i()}function f(t){I=new RiseVision.RSS.Content(w,v),t.items&&t.items.length>0?(R.hide(),T=_.clone(t),I.init(T),b||I.play()):o()}function h(t){var e=!1;if(t.items&&0!==t.items.length)if(T&&t.items.length===T.items.length){for(var n=0;n<T.items.length;n+=1)if(!_.isEqual(t.items[n],T.items[n])){e=!0;break}}else e=!0;else o();e&&(T=_.clone(t),x?(I||(I=new RiseVision.RSS.Content(w,v)),R.hide(),I.init(T),x=!1,V=null):I.update(t))}function g(){return b=!0,x?(r(),void 0):(I&&I.pause(),void 0)}function p(){return b=!1,u({event:"play",feed_url:v.url},!1),x?(s(),void 0):(I&&I.play(),void 0)}function m(n){v=JSON.parse(JSON.stringify(n)),w=new e.Prefs,v.width=w.getInt("rsW"),v.height=w.getInt("rsH"),t.getElementById("container").style.width=v.width+"px",t.getElementById("container").style.height=v.height+"px",l()}function y(t){x=!0,I.reset(),T=null,R.show(t),b||s()}function S(){g()}var v=null,w=new e.Prefs,R=null,C=null,I=null,T=null,b=!0,E=null,V=null,x=!1;return{getTableName:d,logEvent:u,onContentDone:c,onRiseRSSInit:f,onRiseRSSRefresh:h,pause:g,play:p,setAdditionalParams:m,showError:y,stop:S}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Utils=function(){"use strict";function t(t){var e,n,i=document.createElement("div");for(i.innerHTML=t,e=i.getElementsByTagName("script"),n=e.length;n--;)e[n].parentNode.removeChild(e[n]);return i.innerHTML}function e(t,e){var n=e?e:120;return t.length>n&&(t=t.substring(0,n),t=t.replace(/\w+$/,""),t+=" ..."),t}return{stripScripts:t,truncate:e}}();var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Images={},RiseVision.RSS.Images=function(){"use strict";function t(t){a.push(t),s+=1,s===r.length&&l&&"function"==typeof l&&l()}function e(e){var n=new Image;n.onload=function(){t(this)},n.onerror=function(){t(this)},n.src=e}function n(){var n;for(n=0;n<r.length;n+=1)null===r[n]?t(null):e(r[n])}function i(t,e){t.length>0?(r=t,a=[],s=0,e&&(l=e),n()):e&&"function"==typeof e&&e()}function o(){return a}var r=[],s=0,a=[],l=null;return{getImages:o,load:i}}();var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.RiseRSS=function(t){"use strict";function e(){var e=document.querySelector("rise-rss");e.addEventListener("rise-rss-response",function(t){t.detail&&t.detail.feed&&(n?(n=!1,RiseVision.RSS.onRiseRSSInit(t.detail.feed)):RiseVision.RSS.onRiseRSSRefresh(t.detail.feed))}),e.addEventListener("rise-rss-error",function(e){var n="";e.detail&&"string"==typeof e.detail?n=e.detail:e.detail&&Array.isArray(e.detail)&&e.detail.length>0&&(n=e.detail[0]);var i={event:"error",event_details:"rise rss error",error_details:n,feed_url:t.url};RiseVision.RSS.logEvent(i,!0),RiseVision.RSS.showError("Sorry, there was a problem with the RSS feed.",!0)}),e.setAttribute("url",t.url),t.itemsInQueue&&e.setAttribute("entries",t.itemsInQueue),e.go()}var n=!0;return{init:e}};var RiseVision=RiseVision||{};RiseVision.RSS=RiseVision.RSS||{},RiseVision.RSS.Content=function(t,e){"use strict";function n(){b={page:$(".page")}}function i(){var n=E.length<=e.itemsToShow?E.length:e.itemsToShow;return e.separator&&e.separator.show?t.getInt("rsH")/n-e.separator.size:t.getInt("rsH")/n}function o(t){var n={};return t+e.itemsToShow>=E.length-1?(n.itemsToShow=E.length-(t+1),n.currentItemIndex=E.length-1):(n.itemsToShow=e.itemsToShow,n.currentItemIndex=t+e.itemsToShow),n}function r(){var t={};return E.length<=e.itemsToShow?(t.itemsToShow=E.length,t.currentItemIndex=E.length-1):(t.itemsToShow=e.itemsToShow,t.currentItemIndex=e.itemsToShow-1),t}function s(t){var e=null;return _.has(t,"description")&&(e=t.description),e}function a(t){var e=null;return t.author?e=t.author:_.has(t,"dc:creator")&&(e=t["dc:creator"]["#"]),e}function l(t){var e=null;return t.image&&t.image.url?e=t.image.url:_.has(t,"enclosures")&&t.enclosures[0]&&_.contains(N,t.enclosures[0].type)&&(e=t.enclosures[0].url),e}function d(){for(var t=[],e=0;e<E.length;e+=1)t.push(l(E[e]));return t}function u(t){var e=t.date,n=null;if(e){e=new Date(e);var i={year:"numeric",month:"long",day:"numeric"};n=e.toLocaleDateString("en-us",i)}return n}function c(n,i){var o,r,s,a=null,l=parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10),d=parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10);switch(e.layout){case"layout-4x1":a={},a.width=.33*t.getString("rsW"),a.height=t.getString("rsH")/e.itemsToShow-d;break;case"layout-2x1":a={},a.width=0===$(i).find(".story").length?t.getString("rsW")-l:.5*t.getString("rsW"),a.height=t.getString("rsH")/e.itemsToShow-$(i).find(".textWrapper").outerHeight(!0)-d;break;case"layout-16x9":a={},a.width=t.getString("rsW")-l,a.height=t.getString("rsH")/e.itemsToShow-d;break;case"layout-1x2":a={},a.width=t.getString("rsW")-l,a.height=(t.getString("rsH")/e.itemsToShow-d)/2}return a&&(o=a.width/parseInt(n.width()),r=a.height/parseInt(n.height()),s=r>o?o:r,a.width=parseInt(parseInt(n.width())*s),a.height=parseInt(parseInt(n.height())*s)),a}function f(t,n){var i,o,r,d=s(t),c=a(t),f=l(t),h=u(t),g=document.querySelector("#layout").content,p=$(g.cloneNode(!0));!t.title||"undefined"!=typeof e.dataSelection.showTitle&&!e.dataSelection.showTitle?p.find(".headline").remove():(p.find(".headline").css("textAlign",e.headline.fontStyle.align),p.find(".headline a").text(V.stripScripts(t.title)));var m=!1;return!h||"undefined"!=typeof e.dataSelection.showTimestamp&&!e.dataSelection.showTimestamp?(m=!0,p.find(".timestamp").remove()):(e.timestamp&&p.find(".timestamp").css("textAlign",e.timestamp.fontStyle.align),p.find(".timestamp").text(h)),!c||"undefined"!=typeof e.dataSelection.showAuthor&&!e.dataSelection.showAuthor?(m=!0,p.find(".author").remove()):(e.author&&p.find(".author").css("textAlign",e.author.fontStyle.align),p.find(".author").text(c)),m&&p.find(".separator").remove(),!f||"undefined"!=typeof e.dataSelection.showImage&&!e.dataSelection.showImage?p.find(".image").remove():(r=x.getImages()[n],r&&p.find(".image").attr("src",f)),d?(i=p.find(".story"),i.css("textAlign",e.story.fontStyle.align),d=V.stripScripts(d),"snippet"===e.dataSelection.showDescription?i.html(V.truncate($("<div/>").html(d).text(),e.dataSelection.snippetLength)):i.html(d),i.find("p").addClass("story_font-style"),i.find("div").addClass("story_font-style"),i.find("span").addClass("story_font-style")):p.remove(".story"),o=$(document.importNode(p[0],!0))}function h(){$(".item").each(function(){var t=$(this).find(".image"),e=null;t&&(e=c(t,this),e&&(t.width(e.width),t.height(e.height)))})}function g(t){"fade"===k.type?($(".item").one("transitionend",function(){p(t)}),$(".item").addClass("fade-out").removeClass("fade-in")):p(t)}function p(t){b.page.empty(),t&&"function"==typeof t&&t()}function m(t){b.page.append(f(E[t],t)),h(),e.separator&&e.separator.show&&$(".item").css("border-bottom","solid "+e.separator.size+"px "+e.separator.color),$(".item").height(i()),"fade"===k.type&&$(".item").addClass("fade-in"),$(".item").removeClass("hide"),"layout-16x9"!==e.layout&&$(".item").dotdotdot({height:i()})}function y(){var t,e=r(),n=o(O);return O===E.length-1?(v(),g(function(){for(var t=0;t<e.itemsToShow;t+=1)m(t);O=e.currentItemIndex,RiseVision.RSS.onContentDone()}),L=!1,void 0):(L?(L=!1,x.load(d(),function(){g(function(){for(var t=0;t<e.itemsToShow;t+=1)m(t);O=e.currentItemIndex})})):(t=O+1,O=n.currentItemIndex,g(function(){for(var e=t;e<t+n.itemsToShow;e+=1)m(e)})),void 0)}function S(){null===A&&(A=setInterval(function(){y()},k.duration))}function v(){clearInterval(A),A=null}function w(t){var n;E=t.items,e.transition&&(k=e.transition),n=r(),O=n.currentItemIndex,x.load(d(),function(){for(var t=0;t<n.itemsToShow;t+=1)m(t)})}function R(){v()}function C(){v(),g(),E=[]}function I(){S()}function T(t){E=t.items,L=!0}var b,E=[],V=RiseVision.RSS.Utils,x=RiseVision.RSS.Images,O=0,A=null,k={type:"none",duration:1e4},L=!1,N=["image/bmp","image/gif","image/jpeg","image/jpg","image/png","image/tiff"];return n(),{init:w,pause:R,play:I,reset:C,update:T}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(t,e){"use strict";function n(){try{e.style.height=t.style.height}catch(n){console.warn("Can't initialize Message - ",n.message)}}function i(){if(r){for(;e.firstChild;)e.removeChild(e.firstChild);e.style.display="none",t.style.visibility="visible",r=!1}}function o(n){var i,o=document.createDocumentFragment();r?(i=e.querySelector(".message"),i.innerHTML=n):(t.style.visibility="hidden",e.style.display="block",i=document.createElement("p"),i.innerHTML=n,i.setAttribute("class","message"),o.appendChild(i),e.appendChild(o),r=!0)}var r=!1;return n(),{hide:i,show:o}},function(t,e,n){"use strict";function i(t,e){var n,i="",o="";Array.isArray(t)&&t.length>0&&Array.isArray(e)&&e.length>0&&("companyId"===t[0]&&(i=e[0]),"displayId"===t[1]&&(o=e[1]?e[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(i,o),"additionalParams"===t[2]&&(n=JSON.parse(e[2]),RiseVision.RSS.setAdditionalParams(n)))}function o(){RiseVision.RSS.play()}function r(){RiseVision.RSS.pause()}function s(){RiseVision.RSS.stop()}function a(){t.removeEventListener("WebComponentsReady",a),d&&""!==d&&(n.rpc.register("rscmd_play_"+d,o),n.rpc.register("rscmd_pause_"+d,r),n.rpc.register("rscmd_stop_"+d,s),n.rpc.register("rsparam_set_"+d,i),n.rpc.call("","rsparam_get",null,d,["companyId","displayId","additionalParams"]))}var l=new n.Prefs,d=l.getString("id");t.oncontextmenu=function(){return!1},e.body.onmousedown=function(){return!1},t.addEventListener("WebComponentsReady",a)}(window,document,gadgets);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiJCIsInVuZGVmIiwiY2hpbGRyZW4iLCIkZWxlbSIsIm8iLCJhZnRlciIsIiRlbGVtZW50cyIsImlzVHJ1bmNhdGVkIiwiZW1wdHkiLCJhIiwibCIsImxlbmd0aCIsIiRlIiwiZXEiLCJhcHBlbmQiLCJ0ZXN0IiwicmVtb3ZlIiwiZGV0YWNoIiwiZWxsaXBzaXMiLCIkZCIsIiRpIiwibm90eCIsIm5vdHkiLCJjb250ZW50cyIsImVhY2giLCJlIiwidGhpcyIsImlzIiwiZmluZCIsIm5vZGVUeXBlIiwiZWxsaXBzaXNFbGVtZW50IiwiYWRkQ2xhc3MiLCJ0eHQiLCJnZXRUZXh0Q29udGVudCIsInNwYWNlIiwiaW5kZXhPZiIsInNlcGFyYXRvciIsIndyYXAiLCJ0ZXh0QXJyIiwic3BsaXQiLCJwb3NpdGlvbiIsIm1pZFBvcyIsInN0YXJ0UG9zIiwiZW5kUG9zIiwiZmFsbGJhY2tUb0xldHRlciIsIm0iLCJNYXRoIiwiZmxvb3IiLCJzZXRUZXh0Q29udGVudCIsInNsaWNlIiwiam9pbiIsInRvZ2dsZSIsIiR3IiwicGFyZW50IiwiYWZ0ZXJMZW5ndGgiLCJjbG9zZXN0IiwiZmluZExhc3RUZXh0Tm9kZSIsImFkZEVsbGlwc2lzIiwiaW5uZXJIZWlnaHQiLCJtYXhIZWlnaHQiLCJpbkFycmF5IiwibGFzdENoYXJhY3RlciIsIm5vRWxsaXBzaXMiLCJnZXRTaXplcyIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImNvbnRlbnQiLCJpbm5lclRleHQiLCJub2RlVmFsdWUiLCJ0ZXh0Q29udGVudCIsImdldFByZXZOb2RlIiwibiIsInByZXZpb3VzU2libGluZyIsIiRlbCIsIiR0b3AiLCJleGNsdWRlQ3VycmVudCIsInAiLCJ0cmltIiwidGV4dCIsImxhc3QiLCJnZXRFbGVtZW50IiwianF1ZXJ5IiwiZ2V0VHJ1ZUlubmVySGVpZ2h0IiwiaCIsInoiLCJwYXJzZUludCIsImNzcyIsImlzTmFOIiwiZm4iLCJkb3Rkb3Rkb3QiLCJkZWJ1ZyIsInNlbGVjdG9yIiwiJGRvdCIsIm9yZ0NvbnRlbnQiLCJkYXRhIiwidHJpZ2dlciIsImF0dHIiLCJiaW5kX2V2ZW50cyIsImJpbmQiLCJjIiwicmVtb3ZlQ2xhc3MiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIm9wdHMiLCJjYWxsIiwidG9sZXJhbmNlIiwiJGluciIsIndyYXBJbm5lciIsImVuZCIsImNsb25lIiwicmVwbGFjZVdpdGgiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwidHJ1bmMiLCJjb25mIiwiYWZ0ZXJFbGVtZW50Iiwic2hvdyIsImlzRnVuY3Rpb24iLCJjYWxsYmFjayIsInVud2F0Y2giLCJ1bmJpbmRfZXZlbnRzIiwidW5iaW5kIiwid2F0Y2giLCIkd2luZG93Iiwid2luZG93IiwiX3dXaWR0aCIsIl93SGVpZ2h0IiwiZG90SWQiLCJ3aW5kb3dSZXNpemVGaXgiLCJ3YXRjaEludCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0Iiwid2F0Y2hPcmciLCJzZXRJbnRlcnZhbCIsIndhdGNoTmV3IiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJBcnJheSIsImRlZmF1bHRBcnJheXMiLCJfb3JnSHRtbCIsImh0bWwiLCJzdHIiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9vcmdUZXh0IiwialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsIndhdGNoX3dpbmRvdyIsImhhc0NsYXNzIiwid2F0Y2hfdGltZXIiLCJjbGFzc0xpc3QiLCJpbmRleCIsIml0ZW0iLCJtYXRjaFJlc3VsdCIsIm1hdGNoIiwiTnVtYmVyIiwieCIsIk9iamVjdCIsImxvYWQiLCJXSURHRVRfQ09NTU9OX0NPTkZJRyIsIkFVVEhfUEFUSF9VUkwiLCJMT0dHRVJfQ0xJRU5UX0lEIiwiTE9HR0VSX0NMSUVOVF9TRUNSRVQiLCJMT0dHRVJfUkVGUkVTSF9UT0tFTiIsIlNUT1JBR0VfRU5WIiwiU1RPUkVfVVJMIiwiUmlzZVZpc2lvbiIsIkNvbW1vbiIsIlV0aWxpdGllcyIsImdldEZvbnRDc3NTdHlsZSIsImNsYXNzTmFtZSIsImZvbnRPYmoiLCJmYW1pbHkiLCJmb250IiwiY29sb3IiLCJmb3JlY29sb3IiLCJzaXplIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImkiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiaGVhZCIsImxvYWRGb250cyIsInNldHRpbmdzIiwiY29udGVudERvYyIsImZvckVhY2giLCJjbGFzcyIsImZvbnRTZXR0aW5nIiwidHlwZSIsInVybCIsImxvYWRDdXN0b21Gb250IiwibG9hZEdvb2dsZUZvbnQiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJmYW1pbHlWYWwiLCJzdHlsZXNoZWV0Iiwic2V0QXR0cmlidXRlIiwicmVwbGFjZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicHJlbG9hZEltYWdlcyIsInVybHMiLCJpbWFnZXMiLCJJbWFnZSIsInNyYyIsImdldFF1ZXJ5UGFyYW1ldGVyIiwicGFyYW0iLCJwYWlyIiwicXVlcnkiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsInZhcnMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiZXJyb3JNZXNzYWdlIiwiTG9nZ2VyVXRpbHMiLCJnZXRFdmVudFBhcmFtcyIsInBhcmFtcyIsImNiIiwianNvbiIsImV2ZW50IiwiZmlsZV91cmwiLCJmaWxlX2Zvcm1hdCIsImdldEZpbGVGb3JtYXQiLCJjb21wYW55X2lkIiwiY29tcGFueUlkIiwiZGlzcGxheV9pZCIsImRpc3BsYXlJZCIsImdldFN1ZmZpeCIsImRhdGUiLCJEYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJsYXN0SW5kZXhPZiIsInRvTG93ZXJDYXNlIiwiZ2V0SW5zZXJ0RGF0YSIsIkJBU0VfSU5TRVJUX1NDSEVNQSIsImtpbmQiLCJza2lwSW52YWxpZFJvd3MiLCJpZ25vcmVVbmtub3duVmFsdWVzIiwidGVtcGxhdGVTdWZmaXgiLCJyb3dzIiwiaW5zZXJ0SWQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJyYW5kb20iLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwidHMiLCJ0b0lTT1N0cmluZyIsImxvZ0V2ZW50IiwidGFibGUiLCJMb2dnZXIiLCJsb2ciLCJzZXRJZHMiLCJjb21wYW55IiwiZGlzcGxheSIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJ0aHJvdHRsZSIsImxhc3RFdmVudCIsInRhYmxlTmFtZSIsImluc2VydFdpdGhUb2tlbiIsInJlZnJlc2hEYXRhIiwiaW5zZXJ0RGF0YSIsInNlcnZpY2VVcmwiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiaGFzT3duUHJvcGVydHkiLCJ0aHJvdHRsZURlbGF5IiwiUlNTIiwiZ2FkZ2V0cyIsIl9yZWFkeSIsInJwYyIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9kb25lIiwiX2Vycm9yTG9nIiwiZmVlZF91cmwiLCJfYWRkaXRpb25hbFBhcmFtcyIsIl9ub0ZlZWRJdGVtcyIsImV2ZW50X2RldGFpbHMiLCJzaG93RXJyb3IiLCJfY2xlYXJFcnJvclRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiX2Vycm9yVGltZXIiLCJfc3RhcnRFcnJvclRpbWVyIiwiX2luaXQiLCJfbWVzc2FnZSIsIk1lc3NhZ2UiLCJnZXRFbGVtZW50QnlJZCIsImZvbnRTZXR0aW5ncyIsInN0b3J5IiwiZm9udFN0eWxlIiwiaGVhZGxpbmUiLCJfIiwiaXNFbXB0eSIsInB1c2giLCJ0aW1lc3RhbXAiLCJhdXRob3IiLCJfcmlzZXJzcyIsIlJpc2VSU1MiLCJpbml0IiwiX2xvYWRMYXlvdXQiLCJwYXRobmFtZSIsImxheW91dCIsImxheW91dFVybCIsImdldCIsImRvbmUiLCJmYWlsIiwiZXJyb3JfZGV0YWlscyIsImdldFRhYmxlTmFtZSIsImlzRXJyb3IiLCJvbkNvbnRlbnREb25lIiwib25SaXNlUlNTSW5pdCIsImZlZWQiLCJfY29udGVudCIsIkNvbnRlbnQiLCJpdGVtcyIsImhpZGUiLCJfY3VycmVudEZlZWQiLCJfdmlld2VyUGF1c2VkIiwicGxheSIsIm9uUmlzZVJTU1JlZnJlc2giLCJ1cGRhdGVkIiwiaXNFcXVhbCIsIl9lcnJvckZsYWciLCJ1cGRhdGUiLCJwYXVzZSIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1zIiwiUHJlZnMiLCJnZXRJbnQiLCJtZXNzYWdlIiwicmVzZXQiLCJzdG9wIiwiVXRpbHMiLCJzdHJpcFNjcmlwdHMiLCJzY3JpcHRzIiwiZGl2IiwiaW5uZXJIVE1MIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwidHJ1bmNhdGUiLCJtYXhMZW5ndGgiLCJJbWFnZXMiLCJfb25JbWFnZUxvYWRlZCIsImltYWdlIiwiX2ltYWdlcyIsIl9pbWFnZUNvdW50IiwiX2ltYWdlc1RvTG9hZCIsIl9jYWxsYmFjayIsIl9sb2FkSW1hZ2UiLCJpbWciLCJvbmxvYWQiLCJvbmVycm9yIiwiX2xvYWRJbWFnZXMiLCJnZXRJbWFnZXMiLCJyc3MiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRldGFpbCIsIl9pbml0aWFsTG9hZCIsImVycm9yRGV0YWlscyIsImlzQXJyYXkiLCJpdGVtc0luUXVldWUiLCJnbyIsInByZWZzIiwiX2NhY2hlIiwiXyRlbCIsInBhZ2UiLCJfZ2V0SXRlbUhlaWdodCIsIml0ZW1zVG9TaG93IiwiX2l0ZW1zIiwiX2dldFRyYW5zaXRpb25Db25maWciLCJjb25maWciLCJjdXJyZW50SXRlbUluZGV4IiwiX2dldFN0YXJ0Q29uZmlnIiwiX2dldFN0b3J5IiwiaGFzIiwiZGVzY3JpcHRpb24iLCJfZ2V0QXV0aG9yIiwiX2dldEltYWdlVXJsIiwiaW1hZ2VVcmwiLCJlbmNsb3N1cmVzIiwiY29udGFpbnMiLCJfaW1hZ2VUeXBlcyIsIl9nZXRJbWFnZVVybHMiLCJfZ2V0RGF0ZSIsInB1YmRhdGUiLCJmb3JtYXR0ZWREYXRlIiwib3B0aW9ucyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIl9nZXRJbWFnZURpbWVuc2lvbnMiLCIkaW1hZ2UiLCJyYXRpb1giLCJyYXRpb1kiLCJzY2FsZSIsImRpbWVuc2lvbnMiLCJwYWRkaW5nV2lkdGgiLCJwYWRkaW5nSGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJfZ2V0VGVtcGxhdGUiLCIkc3RvcnkiLCJ0ZW1wbGF0ZSIsIiRjb250ZW50IiwiY2xvbmVOb2RlIiwidGl0bGUiLCJkYXRhU2VsZWN0aW9uIiwic2hvd1RpdGxlIiwiYWxpZ24iLCJfdXRpbHMiLCJyZW1vdmVTZXBhcmF0b3IiLCJzaG93VGltZXN0YW1wIiwic2hvd0F1dGhvciIsInNob3dJbWFnZSIsInNob3dEZXNjcmlwdGlvbiIsInNuaXBwZXRMZW5ndGgiLCJpbXBvcnROb2RlIiwiX3NldEltYWdlRGltZW5zaW9ucyIsIl9jbGVhciIsIl90cmFuc2l0aW9uIiwib25lIiwiX2NsZWFyUGFnZSIsIl9zaG93SXRlbSIsIl9tYWtlVHJhbnNpdGlvbiIsInN0YXJ0aW5nSW5kZXgiLCJzdGFydENvbmZpZyIsInRyYW5zQ29uZmlnIiwiX2N1cnJlbnRJdGVtSW5kZXgiLCJfc3RvcFRyYW5zaXRpb25UaW1lciIsIl93YWl0aW5nRm9yVXBkYXRlIiwiX3N0YXJ0VHJhbnNpdGlvblRpbWVyIiwiX3RyYW5zaXRpb25JbnRlcnZhbElkIiwiZHVyYXRpb24iLCJ0cmFuc2l0aW9uIiwibWFpbkNvbnRhaW5lciIsIm1lc3NhZ2VDb250YWluZXIiLCJjb25zb2xlIiwid2FybiIsIl9hY3RpdmUiLCJmaXJzdENoaWxkIiwidmlzaWJpbGl0eSIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNvbmZpZ3VyZSIsIm5hbWVzIiwidmFsdWVzIiwid2ViQ29tcG9uZW50c1JlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlkIiwicmVnaXN0ZXIiLCJvbmNvbnRleHRtZW51IiwiYm9keSIsIm9ubW91c2Vkb3duIl0sIm1hcHBpbmdzIjoiQ0FhQSxTQUFXQSxFQUFHQyxHQWtUYixRQUFTQyxHQUFVQyxFQUFPQyxFQUFHQyxHQUU1QixHQUFJQyxHQUFhSCxFQUFNRCxXQUN0QkssR0FBYyxDQUVmSixHQUFNSyxPQUVOLEtBQU0sR0FBSUMsR0FBSSxFQUFHQyxFQUFJSixFQUFVSyxPQUFZRCxFQUFKRCxFQUFPQSxJQUM5QyxDQUNDLEdBQUlHLEdBQUtOLEVBQVVPLEdBQUlKLEVBTXZCLElBTEFOLEVBQU1XLE9BQVFGLEdBQ1RQLEdBRUpGLEVBQU1XLE9BQVFULEdBRVZVLEVBQU1aLEVBQU9DLEdBQ2xCLENBQ0NRLEVBQUdJLFNBQ0hULEdBQWMsQ0FDZCxPQUlLRixHQUVKQSxFQUFNWSxTQUlULE1BQU9WLEdBRVIsUUFBU1csR0FBVWYsRUFBT2dCLEVBQUlDLEVBQUloQixFQUFHQyxHQUVwQyxHQUFJRSxJQUFjLEVBR2RjLEVBQU8sb0pBR1BDLEVBQU8seUJBc0RYLE9BcERBbkIsR0FDRW9CLFdBQ0FOLFNBQ0FPLEtBQ0EsV0FHQyxHQUFJQyxHQUFJQyxLQUNQZCxFQUFLWixFQUFFeUIsRUFFUixJQUFpQixtQkFBTEEsR0FFWCxPQUFPLENBRUgsSUFBS2IsRUFBR2UsR0FBSUwsR0FFaEJuQixFQUFNVyxPQUFRRixPQUVWLENBQUEsR0FBS0wsRUFFVCxPQUFPLENBSVBKLEdBQU1XLE9BQVFGLElBQ1RQLEdBQVVPLEVBQUdlLEdBQUl2QixFQUFFQyxRQUFZTyxFQUFHZ0IsS0FBTXhC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QVEsR0FBSWhHLEdBQVE0RCxNQUN0QnVILEVBQUtuRixFQUFNNUYsVUFBVSxLQUd2QnhMLEdBQU95VyxjQUFnQixXQUNyQixPQUFPLEdBR1RuVixFQUFTb1YsS0FBS0MsWUFBYyxXQUMxQixPQUFPLEdBd0RUM1csRUFBTzZRLGlCQUFpQixxQkFBc0J3RixJQUc3Q3JXLE9BQVFzQixTQUFVOEoiLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqXHRqUXVlcnkgZG90ZG90ZG90IDEuOC4xXHJcbiAqXHJcbiAqXHRDb3B5cmlnaHQgKGMpIEZyZWQgSGV1c3NjaGVuXHJcbiAqXHR3d3cuZnJlYnNpdGUubmxcclxuICpcclxuICpcdFBsdWdpbiB3ZWJzaXRlOlxyXG4gKlx0ZG90ZG90ZG90LmZyZWJzaXRlLm5sXHJcbiAqXHJcbiAqXHRMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiAqXHRodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZiApXHJcbntcclxuXHRpZiAoICQuZm4uZG90ZG90ZG90IClcclxuXHR7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQkLmZuLmRvdGRvdGRvdCA9IGZ1bmN0aW9uKCBvIClcclxuXHR7XHJcblx0XHRpZiAoIHRoaXMubGVuZ3RoID09IDAgKVxyXG5cdFx0e1xyXG5cdFx0XHQkLmZuLmRvdGRvdGRvdC5kZWJ1ZyggJ05vIGVsZW1lbnQgZm91bmQgZm9yIFwiJyArIHRoaXMuc2VsZWN0b3IgKyAnXCIuJyApO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxIClcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChcclxuXHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5kb3Rkb3Rkb3QoIG8gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHZhciAkZG90ID0gdGhpcztcclxuXHRcdHZhciBvcmdDb250ZW50XHQ9ICRkb3QuY29udGVudHMoKTtcclxuXHJcblx0XHRpZiAoICRkb3QuZGF0YSggJ2RvdGRvdGRvdCcgKSApXHJcblx0XHR7XHJcblx0XHRcdCRkb3QudHJpZ2dlciggJ2Rlc3Ryb3kuZG90JyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdCRkb3QuZGF0YSggJ2RvdGRvdGRvdC1zdHlsZScsICRkb3QuYXR0ciggJ3N0eWxlJyApIHx8ICcnICk7XHJcblx0XHQkZG90LmNzcyggJ3dvcmQtd3JhcCcsICdicmVhay13b3JkJyApO1xyXG5cdFx0aWYgKCRkb3QuY3NzKCAnd2hpdGUtc3BhY2UnICkgPT09ICdub3dyYXAnKVxyXG5cdFx0e1xyXG5cdFx0XHQkZG90LmNzcyggJ3doaXRlLXNwYWNlJywgJ25vcm1hbCcgKTtcclxuXHRcdH1cclxuXHJcblx0XHQkZG90LmJpbmRfZXZlbnRzID0gZnVuY3Rpb24oKVxyXG5cdFx0e1xyXG5cdFx0XHQkZG90LmJpbmQoXHJcblx0XHRcdFx0J3VwZGF0ZS5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlLCBjIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkZG90LnJlbW92ZUNsYXNzKFwiaXMtdHJ1bmNhdGVkXCIpO1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRzd2l0Y2goIHR5cGVvZiBvcHRzLmhlaWdodCApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ251bWJlcic6XHJcblx0XHRcdFx0XHRcdFx0b3B0cy5tYXhIZWlnaHQgPSBvcHRzLmhlaWdodDtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgJ2Z1bmN0aW9uJzpcclxuXHRcdFx0XHRcdFx0XHRvcHRzLm1heEhlaWdodCA9IG9wdHMuaGVpZ2h0LmNhbGwoICRkb3RbIDAgXSApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHRvcHRzLm1heEhlaWdodCA9IGdldFRydWVJbm5lckhlaWdodCggJGRvdCApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG9wdHMubWF4SGVpZ2h0ICs9IG9wdHMudG9sZXJhbmNlO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGMgIT0gJ3VuZGVmaW5lZCcgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiBjID09ICdzdHJpbmcnIHx8ICgnbm9kZVR5cGUnIGluIGMgJiYgYy5ub2RlVHlwZSA9PT0gMSkgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHQgXHRcdGMgPSAkKCc8ZGl2IC8+JykuYXBwZW5kKCBjICkuY29udGVudHMoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIGMgaW5zdGFuY2VvZiAkIClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdG9yZ0NvbnRlbnQgPSBjO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0JGluciA9ICRkb3Qud3JhcElubmVyKCAnPGRpdiBjbGFzcz1cImRvdGRvdGRvdFwiIC8+JyApLmNoaWxkcmVuKCk7XHJcblx0XHRcdFx0XHQkaW5yLmNvbnRlbnRzKClcclxuXHRcdFx0XHRcdFx0LmRldGFjaCgpXHJcblx0XHRcdFx0XHRcdC5lbmQoKVxyXG5cdFx0XHRcdFx0XHQuYXBwZW5kKCBvcmdDb250ZW50LmNsb25lKCB0cnVlICkgKVxyXG5cdFx0XHRcdFx0XHQuZmluZCggJ2JyJyApXHJcblx0XHRcdFx0XHRcdC5yZXBsYWNlV2l0aCggJyAgPGJyIC8+ICAnIClcclxuXHRcdFx0XHRcdFx0LmVuZCgpXHJcblx0XHRcdFx0XHRcdC5jc3Moe1xyXG5cdFx0XHRcdFx0XHRcdCdoZWlnaHQnXHQ6ICdhdXRvJyxcclxuXHRcdFx0XHRcdFx0XHQnd2lkdGgnXHRcdDogJ2F1dG8nLFxyXG5cdFx0XHRcdFx0XHRcdCdib3JkZXInXHQ6ICdub25lJyxcclxuXHRcdFx0XHRcdFx0XHQncGFkZGluZydcdDogMCxcclxuXHRcdFx0XHRcdFx0XHQnbWFyZ2luJ1x0OiAwXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHZhciBhZnRlciA9IGZhbHNlLFxyXG5cdFx0XHRcdFx0XHR0cnVuYyA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdGlmICggY29uZi5hZnRlckVsZW1lbnQgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhZnRlciA9IGNvbmYuYWZ0ZXJFbGVtZW50LmNsb25lKCB0cnVlICk7XHJcblx0XHRcdFx0XHQgICAgYWZ0ZXIuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRjb25mLmFmdGVyRWxlbWVudC5kZXRhY2goKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIHRlc3QoICRpbnIsIG9wdHMgKSApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmICggb3B0cy53cmFwID09ICdjaGlsZHJlbicgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dHJ1bmMgPSBjaGlsZHJlbiggJGluciwgb3B0cywgYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0cnVuYyA9IGVsbGlwc2lzKCAkaW5yLCAkZG90LCAkaW5yLCBvcHRzLCBhZnRlciApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkaW5yLnJlcGxhY2VXaXRoKCAkaW5yLmNvbnRlbnRzKCkgKTtcclxuXHRcdFx0XHRcdCRpbnIgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRcdGlmICggJC5pc0Z1bmN0aW9uKCBvcHRzLmNhbGxiYWNrICkgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRvcHRzLmNhbGxiYWNrLmNhbGwoICRkb3RbIDAgXSwgdHJ1bmMsIG9yZ0NvbnRlbnQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb25mLmlzVHJ1bmNhdGVkID0gdHJ1bmM7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1bmM7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0KS5iaW5kKFxyXG5cdFx0XHRcdCdpc1RydW5jYXRlZC5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlLCBmbiApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Zm4uY2FsbCggJGRvdFsgMCBdLCBjb25mLmlzVHJ1bmNhdGVkICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gY29uZi5pc1RydW5jYXRlZDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHQpLmJpbmQoXHJcblx0XHRcdFx0J29yaWdpbmFsQ29udGVudC5kb3QnLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlLCBmbiApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Zm4uY2FsbCggJGRvdFsgMCBdLCBvcmdDb250ZW50ICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gb3JnQ29udGVudDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHQpLmJpbmQoXHJcblx0XHRcdFx0J2Rlc3Ryb3kuZG90JyxcclxuXHRcdFx0XHRmdW5jdGlvbiggZSApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHQkZG90LnVud2F0Y2goKVxyXG5cdFx0XHRcdFx0XHQudW5iaW5kX2V2ZW50cygpXHJcblx0XHRcdFx0XHRcdC5jb250ZW50cygpXHJcblx0XHRcdFx0XHRcdC5kZXRhY2goKVxyXG5cdFx0XHRcdFx0XHQuZW5kKClcclxuXHRcdFx0XHRcdFx0LmFwcGVuZCggb3JnQ29udGVudCApXHJcblx0XHRcdFx0XHRcdC5hdHRyKCAnc3R5bGUnLCAkZG90LmRhdGEoICdkb3Rkb3Rkb3Qtc3R5bGUnICkgfHwgJycgKVxyXG5cdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoICdpcy10cnVuY2F0ZWQnIClcclxuXHRcdFx0XHRcdFx0LmRhdGEoICdkb3Rkb3Rkb3QnLCBmYWxzZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdFx0cmV0dXJuICRkb3Q7XHJcblx0XHR9O1x0Ly9cdC9iaW5kX2V2ZW50c1xyXG5cclxuXHRcdCRkb3QudW5iaW5kX2V2ZW50cyA9IGZ1bmN0aW9uKClcclxuXHRcdHtcclxuXHRcdFx0JGRvdC51bmJpbmQoJy5kb3QnKTtcclxuXHRcdFx0cmV0dXJuICRkb3Q7XHJcblx0XHR9O1x0Ly9cdC91bmJpbmRfZXZlbnRzXHJcblxyXG5cdFx0JGRvdC53YXRjaCA9IGZ1bmN0aW9uKClcclxuXHRcdHtcclxuXHRcdFx0JGRvdC51bndhdGNoKCk7XHJcblx0XHRcdGlmICggb3B0cy53YXRjaCA9PSAnd2luZG93JyApXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2YXIgJHdpbmRvdyA9ICQod2luZG93KSxcclxuXHRcdFx0XHRcdF93V2lkdGggPSAkd2luZG93LndpZHRoKCksXHJcblx0XHRcdFx0XHRfd0hlaWdodCA9ICR3aW5kb3cuaGVpZ2h0KCk7XHJcblxyXG5cdFx0XHRcdCR3aW5kb3cuYmluZChcclxuXHRcdFx0XHRcdCdyZXNpemUuZG90JyArIGNvbmYuZG90SWQsXHJcblx0XHRcdFx0XHRmdW5jdGlvbigpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmICggX3dXaWR0aCAhPSAkd2luZG93LndpZHRoKCkgfHwgX3dIZWlnaHQgIT0gJHdpbmRvdy5oZWlnaHQoKSB8fCAhb3B0cy53aW5kb3dSZXNpemVGaXggKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0X3dXaWR0aCA9ICR3aW5kb3cud2lkdGgoKTtcclxuXHRcdFx0XHRcdFx0XHRfd0hlaWdodCA9ICR3aW5kb3cuaGVpZ2h0KCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICggd2F0Y2hJbnQgKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIHdhdGNoSW50ICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHdhdGNoSW50ID0gc2V0VGltZW91dChcclxuXHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JGRvdC50cmlnZ2VyKCAndXBkYXRlLmRvdCcgKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0sIDEwMFxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHdhdGNoT3JnID0gZ2V0U2l6ZXMoICRkb3QgKTtcclxuXHRcdFx0XHR3YXRjaEludCA9IHNldEludGVydmFsKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZiAoICRkb3QuaXMoICc6dmlzaWJsZScgKSApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgd2F0Y2hOZXcgPSBnZXRTaXplcyggJGRvdCApO1xyXG5cdFx0XHRcdFx0XHRcdGlmICggd2F0Y2hPcmcud2lkdGggICE9IHdhdGNoTmV3LndpZHRoIHx8XHJcblx0XHRcdFx0XHRcdFx0XHQgd2F0Y2hPcmcuaGVpZ2h0ICE9IHdhdGNoTmV3LmhlaWdodCApXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0JGRvdC50cmlnZ2VyKCAndXBkYXRlLmRvdCcgKTtcclxuXHRcdFx0XHRcdFx0XHRcdHdhdGNoT3JnID0gd2F0Y2hOZXc7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LCA1MDBcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAkZG90O1xyXG5cdFx0fTtcclxuXHRcdCRkb3QudW53YXRjaCA9IGZ1bmN0aW9uKClcclxuXHRcdHtcclxuXHRcdFx0JCh3aW5kb3cpLnVuYmluZCggJ3Jlc2l6ZS5kb3QnICsgY29uZi5kb3RJZCApO1xyXG5cdFx0XHRpZiAoIHdhdGNoSW50IClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwoIHdhdGNoSW50ICk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuICRkb3Q7XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhclx0b3B0cyBcdFx0PSAkLmV4dGVuZCggdHJ1ZSwge30sICQuZm4uZG90ZG90ZG90LmRlZmF1bHRzLCBvICksXHJcblx0XHRcdGNvbmZcdFx0PSB7fSxcclxuXHRcdFx0d2F0Y2hPcmdcdD0ge30sXHJcblx0XHRcdHdhdGNoSW50XHQ9IG51bGwsXHJcblx0XHRcdCRpbnJcdFx0PSBudWxsO1xyXG5cclxuXHJcblx0XHRpZiAoICEoIG9wdHMubGFzdENoYXJhY3Rlci5yZW1vdmUgaW5zdGFuY2VvZiBBcnJheSApIClcclxuXHRcdHtcclxuXHRcdFx0b3B0cy5sYXN0Q2hhcmFjdGVyLnJlbW92ZSA9ICQuZm4uZG90ZG90ZG90LmRlZmF1bHRBcnJheXMubGFzdENoYXJhY3Rlci5yZW1vdmU7XHJcblx0XHR9XHJcblx0XHRpZiAoICEoIG9wdHMubGFzdENoYXJhY3Rlci5ub0VsbGlwc2lzIGluc3RhbmNlb2YgQXJyYXkgKSApXHJcblx0XHR7XHJcblx0XHRcdG9wdHMubGFzdENoYXJhY3Rlci5ub0VsbGlwc2lzID0gJC5mbi5kb3Rkb3Rkb3QuZGVmYXVsdEFycmF5cy5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXM7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGNvbmYuYWZ0ZXJFbGVtZW50XHQ9IGdldEVsZW1lbnQoIG9wdHMuYWZ0ZXIsICRkb3QgKTtcclxuXHRcdGNvbmYuaXNUcnVuY2F0ZWRcdD0gZmFsc2U7XHJcblx0XHRjb25mLmRvdElkXHRcdFx0PSBkb3RJZCsrO1xyXG5cclxuXHJcblx0XHQkZG90LmRhdGEoICdkb3Rkb3Rkb3QnLCB0cnVlIClcclxuXHRcdFx0LmJpbmRfZXZlbnRzKClcclxuXHRcdFx0LnRyaWdnZXIoICd1cGRhdGUuZG90JyApO1xyXG5cclxuXHRcdGlmICggb3B0cy53YXRjaCApXHJcblx0XHR7XHJcblx0XHRcdCRkb3Qud2F0Y2goKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gJGRvdDtcclxuXHR9O1xyXG5cclxuXHJcblx0Ly9cdHB1YmxpY1xyXG5cdCQuZm4uZG90ZG90ZG90LmRlZmF1bHRzID0ge1xyXG5cdFx0J2VsbGlwc2lzJ1x0XHRcdDogJy4uLiAnLFxyXG5cdFx0J3dyYXAnXHRcdFx0XHQ6ICd3b3JkJyxcclxuXHRcdCdmYWxsYmFja1RvTGV0dGVyJ1x0OiB0cnVlLFxyXG5cdFx0J2xhc3RDaGFyYWN0ZXInXHRcdDoge30sXHJcblx0XHQndG9sZXJhbmNlJ1x0XHRcdDogMCxcclxuXHRcdCdjYWxsYmFjaydcdFx0XHQ6IG51bGwsXHJcblx0XHQnYWZ0ZXInXHRcdFx0XHQ6IG51bGwsXHJcblx0XHQnaGVpZ2h0J1x0XHRcdDogbnVsbCxcclxuXHRcdCd3YXRjaCdcdFx0XHRcdDogZmFsc2UsXHJcblx0XHQnd2luZG93UmVzaXplRml4J1x0OiB0cnVlXHJcblx0fTtcclxuXHQkLmZuLmRvdGRvdGRvdC5kZWZhdWx0QXJyYXlzID0ge1xyXG5cdFx0J2xhc3RDaGFyYWN0ZXInXHRcdDoge1xyXG5cdFx0XHQncmVtb3ZlJ1x0XHRcdDogWyAnICcsICdcXHUzMDAwJywgJywnLCAnOycsICcuJywgJyEnLCAnPycgXSxcclxuXHRcdFx0J25vRWxsaXBzaXMnXHRcdDogW11cclxuXHRcdH1cclxuXHR9O1xyXG5cdCQuZm4uZG90ZG90ZG90LmRlYnVnID0gZnVuY3Rpb24oIG1zZyApIHt9O1xyXG5cclxuXHJcblx0Ly9cdHByaXZhdGVcclxuXHR2YXIgZG90SWQgPSAxO1xyXG5cclxuXHRmdW5jdGlvbiBjaGlsZHJlbiggJGVsZW0sIG8sIGFmdGVyIClcclxuXHR7XHJcblx0XHR2YXIgJGVsZW1lbnRzIFx0PSAkZWxlbS5jaGlsZHJlbigpLFxyXG5cdFx0XHRpc1RydW5jYXRlZFx0PSBmYWxzZTtcclxuXHJcblx0XHQkZWxlbS5lbXB0eSgpO1xyXG5cclxuXHRcdGZvciAoIHZhciBhID0gMCwgbCA9ICRlbGVtZW50cy5sZW5ndGg7IGEgPCBsOyBhKysgKVxyXG5cdFx0e1xyXG5cdFx0XHR2YXIgJGUgPSAkZWxlbWVudHMuZXEoIGEgKTtcclxuXHRcdFx0JGVsZW0uYXBwZW5kKCAkZSApO1xyXG5cdFx0XHRpZiAoIGFmdGVyIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRlbGVtLmFwcGVuZCggYWZ0ZXIgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIHRlc3QoICRlbGVtLCBvICkgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JGUucmVtb3ZlKCk7XHJcblx0XHRcdFx0aXNUcnVuY2F0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmICggYWZ0ZXIgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFmdGVyLmRldGFjaCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGlzVHJ1bmNhdGVkO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBlbGxpcHNpcyggJGVsZW0sICRkLCAkaSwgbywgYWZ0ZXIgKVxyXG5cdHtcclxuXHRcdHZhciBpc1RydW5jYXRlZFx0PSBmYWxzZTtcclxuXHJcblx0XHQvL1x0RG9uJ3QgcHV0IHRoZSBlbGxpcHNpcyBkaXJlY3RseSBpbnNpZGUgdGhlc2UgZWxlbWVudHNcclxuXHRcdHZhciBub3R4ID0gJ2EsIHRhYmxlLCB0aGVhZCwgdGJvZHksIHRmb290LCB0ciwgY29sLCBjb2xncm91cCwgb2JqZWN0LCBlbWJlZCwgcGFyYW0sIG9sLCB1bCwgZGwsIGJsb2NrcXVvdGUsIHNlbGVjdCwgb3B0Z3JvdXAsIG9wdGlvbiwgdGV4dGFyZWEsIHNjcmlwdCwgc3R5bGUnO1xyXG5cclxuXHRcdC8vXHREb24ndCByZW1vdmUgdGhlc2UgZWxlbWVudHMgZXZlbiBpZiB0aGV5IGFyZSBhZnRlciB0aGUgZWxsaXBzaXNcclxuXHRcdHZhciBub3R5ID0gJ3NjcmlwdCwgLmRvdGRvdGRvdC1rZWVwJztcclxuXHJcblx0XHQkZWxlbVxyXG5cdFx0XHQuY29udGVudHMoKVxyXG5cdFx0XHQuZGV0YWNoKClcclxuXHRcdFx0LmVhY2goXHJcblx0XHRcdFx0ZnVuY3Rpb24oKVxyXG5cdFx0XHRcdHtcclxuXHJcblx0XHRcdFx0XHR2YXIgZVx0PSB0aGlzLFxyXG5cdFx0XHRcdFx0XHQkZVx0PSAkKGUpO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdHlwZW9mIGUgPT0gJ3VuZGVmaW5lZCcgKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYgKCAkZS5pcyggbm90eSApIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0JGVsZW0uYXBwZW5kKCAkZSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoIGlzVHJ1bmNhdGVkIClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdCRlbGVtLmFwcGVuZCggJGUgKTtcclxuXHRcdFx0XHRcdFx0aWYgKCBhZnRlciAmJiAhJGUuaXMoIG8uYWZ0ZXIgKSAmJiAhJGUuZmluZCggby5hZnRlciApLmxlbmd0aCAgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0JGVsZW1bICRlbGVtLmlzKCBub3R4ICkgPyAnYWZ0ZXInIDogJ2FwcGVuZCcgXSggYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoIHRlc3QoICRpLCBvICkgKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBlLm5vZGVUeXBlID09IDMgKSAvLyBub2RlIGlzIFRFWFRcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRpc1RydW5jYXRlZCA9IGVsbGlwc2lzRWxlbWVudCggJGUsICRkLCAkaSwgbywgYWZ0ZXIgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlzVHJ1bmNhdGVkID0gZWxsaXBzaXMoICRlLCAkZCwgJGksIG8sIGFmdGVyICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoICFpc1RydW5jYXRlZCApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGFmdGVyIClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRhZnRlci5kZXRhY2goKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHQkZC5hZGRDbGFzcyhcImlzLXRydW5jYXRlZFwiKTtcclxuXHRcdHJldHVybiBpc1RydW5jYXRlZDtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZWxsaXBzaXNFbGVtZW50KCAkZSwgJGQsICRpLCBvLCBhZnRlciApXHJcblx0e1xyXG5cdFx0dmFyIGUgPSAkZVsgMCBdO1xyXG5cclxuXHRcdGlmICggIWUgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHR4dFx0XHRcdD0gZ2V0VGV4dENvbnRlbnQoIGUgKSxcclxuXHRcdFx0c3BhY2VcdFx0PSAoIHR4dC5pbmRleE9mKCcgJykgIT09IC0xICkgPyAnICcgOiAnXFx1MzAwMCcsXHJcblx0XHRcdHNlcGFyYXRvclx0PSAoIG8ud3JhcCA9PSAnbGV0dGVyJyApID8gJycgOiBzcGFjZSxcclxuXHRcdFx0dGV4dEFyclx0XHQ9IHR4dC5zcGxpdCggc2VwYXJhdG9yICksXHJcblx0XHRcdHBvc2l0aW9uIFx0PSAtMSxcclxuXHRcdFx0bWlkUG9zXHRcdD0gLTEsXHJcblx0XHRcdHN0YXJ0UG9zXHQ9IDAsXHJcblx0XHRcdGVuZFBvc1x0XHQ9IHRleHRBcnIubGVuZ3RoIC0gMTtcclxuXHJcblxyXG5cdFx0Ly9cdE9ubHkgb25lIHdvcmRcclxuXHRcdGlmICggby5mYWxsYmFja1RvTGV0dGVyICYmIHN0YXJ0UG9zID09IDAgJiYgZW5kUG9zID09IDAgKVxyXG5cdFx0e1xyXG5cdFx0XHRzZXBhcmF0b3JcdD0gJyc7XHJcblx0XHRcdHRleHRBcnJcdFx0PSB0eHQuc3BsaXQoIHNlcGFyYXRvciApO1xyXG5cdFx0XHRlbmRQb3NcdFx0PSB0ZXh0QXJyLmxlbmd0aCAtIDE7XHJcblx0XHR9XHJcblxyXG5cdFx0d2hpbGUgKCBzdGFydFBvcyA8PSBlbmRQb3MgJiYgISggc3RhcnRQb3MgPT0gMCAmJiBlbmRQb3MgPT0gMCApIClcclxuXHRcdHtcclxuXHRcdFx0dmFyIG0gPSBNYXRoLmZsb29yKCAoIHN0YXJ0UG9zICsgZW5kUG9zICkgLyAyICk7XHJcblx0XHRcdGlmICggbSA9PSBtaWRQb3MgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0bWlkUG9zID0gbTtcclxuXHJcblx0XHRcdHNldFRleHRDb250ZW50KCBlLCB0ZXh0QXJyLnNsaWNlKCAwLCBtaWRQb3MgKyAxICkuam9pbiggc2VwYXJhdG9yICkgKyBvLmVsbGlwc2lzICk7XHJcblx0XHRcdCRpLmNoaWxkcmVuKClcclxuXHRcdFx0XHQuZWFjaChcclxuXHRcdFx0XHRcdGZ1bmN0aW9uKClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS50b2dnbGUoKS50b2dnbGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0aWYgKCAhdGVzdCggJGksIG8gKSApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRwb3NpdGlvbiA9IG1pZFBvcztcclxuXHRcdFx0XHRzdGFydFBvcyA9IG1pZFBvcztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHRlbmRQb3MgPSBtaWRQb3M7XHJcblxyXG5cdFx0XHRcdC8vXHRGYWxsYmFjayB0byBsZXR0ZXJcclxuXHRcdFx0XHRpZiAoby5mYWxsYmFja1RvTGV0dGVyICYmIHN0YXJ0UG9zID09IDAgJiYgZW5kUG9zID09IDAgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHNlcGFyYXRvclx0PSAnJztcclxuXHRcdFx0XHRcdHRleHRBcnJcdFx0PSB0ZXh0QXJyWyAwIF0uc3BsaXQoIHNlcGFyYXRvciApO1xyXG5cdFx0XHRcdFx0cG9zaXRpb25cdD0gLTE7XHJcblx0XHRcdFx0XHRtaWRQb3NcdFx0PSAtMTtcclxuXHRcdFx0XHRcdHN0YXJ0UG9zXHQ9IDA7XHJcblx0XHRcdFx0XHRlbmRQb3NcdFx0PSB0ZXh0QXJyLmxlbmd0aCAtIDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBwb3NpdGlvbiAhPSAtMSAmJiAhKCB0ZXh0QXJyLmxlbmd0aCA9PSAxICYmIHRleHRBcnJbIDAgXS5sZW5ndGggPT0gMCApIClcclxuXHRcdHtcclxuXHRcdFx0dHh0ID0gYWRkRWxsaXBzaXMoIHRleHRBcnIuc2xpY2UoIDAsIHBvc2l0aW9uICsgMSApLmpvaW4oIHNlcGFyYXRvciApLCBvICk7XHJcblx0XHRcdHNldFRleHRDb250ZW50KCBlLCB0eHQgKTtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdHtcclxuXHRcdFx0dmFyICR3ID0gJGUucGFyZW50KCk7XHJcblx0XHRcdCRlLmRldGFjaCgpO1xyXG5cclxuXHRcdFx0dmFyIGFmdGVyTGVuZ3RoID0gKCBhZnRlciAmJiBhZnRlci5jbG9zZXN0KCR3KS5sZW5ndGggKSA/IGFmdGVyLmxlbmd0aCA6IDA7XHJcblxyXG5cdFx0XHRpZiAoICR3LmNvbnRlbnRzKCkubGVuZ3RoID4gYWZ0ZXJMZW5ndGggKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZSA9IGZpbmRMYXN0VGV4dE5vZGUoICR3LmNvbnRlbnRzKCkuZXEoIC0xIC0gYWZ0ZXJMZW5ndGggKSwgJGQgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHRlID0gZmluZExhc3RUZXh0Tm9kZSggJHcsICRkLCB0cnVlICk7XHJcblx0XHRcdFx0aWYgKCAhYWZ0ZXJMZW5ndGggKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdCR3LmRldGFjaCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIGUgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dHh0ID0gYWRkRWxsaXBzaXMoIGdldFRleHRDb250ZW50KCBlICksIG8gKTtcclxuXHRcdFx0XHRzZXRUZXh0Q29udGVudCggZSwgdHh0ICk7XHJcblx0XHRcdFx0aWYgKCBhZnRlckxlbmd0aCAmJiBhZnRlciApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JChlKS5wYXJlbnQoKS5hcHBlbmQoIGFmdGVyICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIHRlc3QoICRpLCBvIClcclxuXHR7XHJcblx0XHRyZXR1cm4gJGkuaW5uZXJIZWlnaHQoKSA+IG8ubWF4SGVpZ2h0O1xyXG5cdH1cclxuXHRmdW5jdGlvbiBhZGRFbGxpcHNpcyggdHh0LCBvIClcclxuXHR7XHJcblx0XHR3aGlsZSggJC5pbkFycmF5KCB0eHQuc2xpY2UoIC0xICksIG8ubGFzdENoYXJhY3Rlci5yZW1vdmUgKSA+IC0xIClcclxuXHRcdHtcclxuXHRcdFx0dHh0ID0gdHh0LnNsaWNlKCAwLCAtMSApO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCAkLmluQXJyYXkoIHR4dC5zbGljZSggLTEgKSwgby5sYXN0Q2hhcmFjdGVyLm5vRWxsaXBzaXMgKSA8IDAgKVxyXG5cdFx0e1xyXG5cdFx0XHR0eHQgKz0gby5lbGxpcHNpcztcclxuXHRcdH1cclxuXHRcdHJldHVybiB0eHQ7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGdldFNpemVzKCAkZCApXHJcblx0e1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0J3dpZHRoJ1x0OiAkZC5pbm5lcldpZHRoKCksXHJcblx0XHRcdCdoZWlnaHQnOiAkZC5pbm5lckhlaWdodCgpXHJcblx0XHR9O1xyXG5cdH1cclxuXHRmdW5jdGlvbiBzZXRUZXh0Q29udGVudCggZSwgY29udGVudCApXHJcblx0e1xyXG5cdFx0aWYgKCBlLmlubmVyVGV4dCApXHJcblx0XHR7XHJcblx0XHRcdGUuaW5uZXJUZXh0ID0gY29udGVudDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKCBlLm5vZGVWYWx1ZSApXHJcblx0XHR7XHJcblx0XHRcdGUubm9kZVZhbHVlID0gY29udGVudDtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKGUudGV4dENvbnRlbnQpXHJcblx0XHR7XHJcblx0XHRcdGUudGV4dENvbnRlbnQgPSBjb250ZW50O1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnQoIGUgKVxyXG5cdHtcclxuXHRcdGlmICggZS5pbm5lclRleHQgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZS5pbm5lclRleHQ7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICggZS5ub2RlVmFsdWUgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZS5ub2RlVmFsdWU7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICggZS50ZXh0Q29udGVudCApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBlLnRleHRDb250ZW50O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdH1cclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0UHJldk5vZGUoIG4gKVxyXG5cdHtcclxuXHRcdGRvXHJcblx0XHR7XHJcblx0XHRcdG4gPSBuLnByZXZpb3VzU2libGluZztcclxuXHRcdH1cclxuXHRcdHdoaWxlICggbiAmJiBuLm5vZGVUeXBlICE9PSAxICYmIG4ubm9kZVR5cGUgIT09IDMgKTtcclxuXHJcblx0XHRyZXR1cm4gbjtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZmluZExhc3RUZXh0Tm9kZSggJGVsLCAkdG9wLCBleGNsdWRlQ3VycmVudCApXHJcblx0e1xyXG5cdFx0dmFyIGUgPSAkZWwgJiYgJGVsWyAwIF0sIHA7XHJcblx0XHRpZiAoIGUgKVxyXG5cdFx0e1xyXG5cdFx0XHRpZiAoICFleGNsdWRlQ3VycmVudCApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZiAoIGUubm9kZVR5cGUgPT09IDMgKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHJldHVybiBlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoICQudHJpbSggJGVsLnRleHQoKSApIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmluZExhc3RUZXh0Tm9kZSggJGVsLmNvbnRlbnRzKCkubGFzdCgpLCAkdG9wICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHAgPSBnZXRQcmV2Tm9kZSggZSApO1xyXG5cdFx0XHR3aGlsZSAoICFwIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRlbCA9ICRlbC5wYXJlbnQoKTtcclxuXHRcdFx0XHRpZiAoICRlbC5pcyggJHRvcCApIHx8ICEkZWwubGVuZ3RoIClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHAgPSBnZXRQcmV2Tm9kZSggJGVsWzBdICk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCBwIClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHJldHVybiBmaW5kTGFzdFRleHROb2RlKCAkKHApLCAkdG9wICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gZ2V0RWxlbWVudCggZSwgJGkgKVxyXG5cdHtcclxuXHRcdGlmICggIWUgKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAoIHR5cGVvZiBlID09PSAnc3RyaW5nJyApXHJcblx0XHR7XHJcblx0XHRcdGUgPSAkKGUsICRpKTtcclxuXHRcdFx0cmV0dXJuICggZS5sZW5ndGggKVxyXG5cdFx0XHRcdD8gZVxyXG5cdFx0XHRcdDogZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gIWUuanF1ZXJ5XHJcblx0XHRcdD8gZmFsc2VcclxuXHRcdFx0OiBlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBnZXRUcnVlSW5uZXJIZWlnaHQoICRlbCApXHJcblx0e1xyXG5cdFx0dmFyIGggPSAkZWwuaW5uZXJIZWlnaHQoKSxcclxuXHRcdFx0YSA9IFsgJ3BhZGRpbmdUb3AnLCAncGFkZGluZ0JvdHRvbScgXTtcclxuXHJcblx0XHRmb3IgKCB2YXIgeiA9IDAsIGwgPSBhLmxlbmd0aDsgeiA8IGw7IHorKyApXHJcblx0XHR7XHJcblx0XHRcdHZhciBtID0gcGFyc2VJbnQoICRlbC5jc3MoIGFbIHogXSApLCAxMCApO1xyXG5cdFx0XHRpZiAoIGlzTmFOKCBtICkgKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bSA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0aCAtPSBtO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGg7XHJcblx0fVxyXG5cclxuXHJcblx0Ly9cdG92ZXJyaWRlIGpRdWVyeS5odG1sXHJcblx0dmFyIF9vcmdIdG1sID0gJC5mbi5odG1sO1xyXG5cdCQuZm4uaHRtbCA9IGZ1bmN0aW9uKCBzdHIgKVxyXG5cdHtcclxuXHRcdGlmICggc3RyICE9IHVuZGVmICYmICEkLmlzRnVuY3Rpb24oIHN0ciApICYmIHRoaXMuZGF0YSggJ2RvdGRvdGRvdCcgKSApXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiB0aGlzLnRyaWdnZXIoICd1cGRhdGUnLCBbIHN0ciBdICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gX29yZ0h0bWwuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdH07XHJcblxyXG5cclxuXHQvL1x0b3ZlcnJpZGUgalF1ZXJ5LnRleHRcclxuXHR2YXIgX29yZ1RleHQgPSAkLmZuLnRleHQ7XHJcblx0JC5mbi50ZXh0ID0gZnVuY3Rpb24oIHN0ciApXHJcblx0e1xyXG5cdFx0aWYgKCBzdHIgIT0gdW5kZWYgJiYgISQuaXNGdW5jdGlvbiggc3RyICkgJiYgdGhpcy5kYXRhKCAnZG90ZG90ZG90JyApIClcclxuXHRcdHtcclxuXHRcdFx0c3RyID0gJCggJzxkaXYgLz4nICkudGV4dCggc3RyICkuaHRtbCgpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy50cmlnZ2VyKCAndXBkYXRlJywgWyBzdHIgXSApO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIF9vcmdUZXh0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcclxuXHR9O1xyXG5cclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbi8qXHJcblxyXG4jIyBBdXRvbWF0aWMgcGFyc2luZyBmb3IgQ1NTIGNsYXNzZXNcclxuQ29udHJpYnV0ZWQgYnkgW1JhbWlsIFZhbGl0b3ZdKGh0dHBzOi8vZ2l0aHViLmNvbS9ydmFsaXRvdilcclxuXHJcbiMjIyBUaGUgaWRlYVxyXG5Zb3UgY2FuIGFkZCBvbmUgb3Igc2V2ZXJhbCBDU1MgY2xhc3NlcyB0byBIVE1MIGVsZW1lbnRzIHRvIGF1dG9tYXRpY2FsbHkgaW52b2tlIFwialF1ZXJ5LmRvdGRvdGRvdCBmdW5jdGlvbmFsaXR5XCIgYW5kIHNvbWUgZXh0cmEgZmVhdHVyZXMuIEl0IGFsbG93cyB0byB1c2UgalF1ZXJ5LmRvdGRvdGRvdCBvbmx5IGJ5IGFkZGluZyBhcHByb3ByaWF0ZSBDU1MgY2xhc3NlcyB3aXRob3V0IEpTIHByb2dyYW1taW5nLlxyXG5cclxuIyMjIEF2YWlsYWJsZSBjbGFzc2VzIGFuZCB0aGVpciBkZXNjcmlwdGlvblxyXG4qIGRvdC1lbGxpcHNpcyAtIGF1dG9tYXRpY2FsbHkgaW52b2tlIGpRdWVyeS5kb3Rkb3Rkb3QgdG8gdGhpcyBlbGVtZW50LiBUaGlzIGNsYXNzIG11c3QgYmUgaW5jbHVkZWQgaWYgeW91IHBsYW4gdG8gdXNlIG90aGVyIGNsYXNzZXMgYmVsb3cuXHJcbiogZG90LXJlc2l6ZS11cGRhdGUgLSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpZiB3aW5kb3cgcmVzaXplIGV2ZW50IG9jY3Vycy4gSXQncyBlcXVpdmFsZW50IHRvIG9wdGlvbiBgd2F0Y2g6J3dpbmRvdydgLlxyXG4qIGRvdC10aW1lci11cGRhdGUgLSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpZiB3aW5kb3cgcmVzaXplIGV2ZW50IG9jY3Vycy4gSXQncyBlcXVpdmFsZW50IHRvIG9wdGlvbiBgd2F0Y2g6dHJ1ZWAuXHJcbiogZG90LWxvYWQtdXBkYXRlIC0gYXV0b21hdGljYWxseSB1cGRhdGUgYWZ0ZXIgdGhlIHdpbmRvdyBoYXMgYmVlbSBjb21wbGV0ZWx5IHJlbmRlcmVkLiBDYW4gYmUgdXNlZnVsIGlmIHlvdXIgY29udGVudCBpcyBnZW5lcmF0ZWQgZHluYW1pY2FsbHkgdXNpbmcgdXNpbmcgSlMgYW5kLCBoZW5jZSwgalF1ZXJ5LmRvdGRvdGRvdCBjYW4ndCBjb3JyZWN0bHkgZGV0ZWN0IHRoZSBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgYmVmb3JlIGl0J3MgcmVuZGVyZWQgY29tcGxldGVseS5cclxuKiBkb3QtaGVpZ2h0LVhYWCAtIGF2YWlsYWJsZSBoZWlnaHQgb2YgY29udGVudCBhcmVhIGluIHBpeGVscywgd2hlcmUgWFhYIGlzIGEgbnVtYmVyLCBlLmcuIGNhbiBiZSBgZG90LWhlaWdodC0zNWAgaWYgeW91IHdhbnQgdG8gc2V0IG1heGltdW0gaGVpZ2h0IGZvciAzNSBwaXhlbHMuIEl0J3MgZXF1aXZhbGVudCB0byBvcHRpb24gYGhlaWdodDonWFhYJ2AuXHJcblxyXG4jIyMgVXNhZ2UgZXhhbXBsZXNcclxuKkFkZGluZyBqUXVlcnkuZG90ZG90ZG90IHRvIGVsZW1lbnQqXHJcbiAgICBcclxuXHQ8ZGl2IGNsYXNzPVwiZG90LWVsbGlwc2lzXCI+XHJcblx0PHA+TG9yZW0gSXBzdW0gaXMgc2ltcGx5IGR1bW15IHRleHQuPC9wPlxyXG5cdDwvZGl2PlxyXG5cdFxyXG4qQWRkaW5nIGpRdWVyeS5kb3Rkb3Rkb3QgdG8gZWxlbWVudCB3aXRoIHVwZGF0ZSBvbiB3aW5kb3cgcmVzaXplKlxyXG4gICAgXHJcblx0PGRpdiBjbGFzcz1cImRvdC1lbGxpcHNpcyBkb3QtcmVzaXplLXVwZGF0ZVwiPlxyXG5cdDxwPkxvcmVtIElwc3VtIGlzIHNpbXBseSBkdW1teSB0ZXh0LjwvcD5cclxuXHQ8L2Rpdj5cclxuXHRcclxuKkFkZGluZyBqUXVlcnkuZG90ZG90ZG90IHRvIGVsZW1lbnQgd2l0aCBwcmVkZWZpbmVkIGhlaWdodCBvZiA1MHB4KlxyXG4gICAgXHJcblx0PGRpdiBjbGFzcz1cImRvdC1lbGxpcHNpcyBkb3QtaGVpZ2h0LTUwXCI+XHJcblx0PHA+TG9yZW0gSXBzdW0gaXMgc2ltcGx5IGR1bW15IHRleHQuPC9wPlxyXG5cdDwvZGl2PlxyXG5cdFxyXG4qL1xyXG5cclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XHJcblx0Ly9XZSBvbmx5IGludm9rZSBqUXVlcnkuZG90ZG90ZG90IG9uIGVsZW1lbnRzIHRoYXQgaGF2ZSBkb3QtZWxsaXBzaXMgY2xhc3NcclxuXHQkKFwiLmRvdC1lbGxpcHNpc1wiKS5lYWNoKGZ1bmN0aW9uKCl7XHJcblx0XHQvL0NoZWNraW5nIGlmIHVwZGF0ZSBvbiB3aW5kb3cgcmVzaXplIHJlcXVpcmVkXHJcblx0XHR2YXIgd2F0Y2hfd2luZG93PSQodGhpcykuaGFzQ2xhc3MoXCJkb3QtcmVzaXplLXVwZGF0ZVwiKTtcclxuXHRcdFxyXG5cdFx0Ly9DaGVja2luZyBpZiB1cGRhdGUgb24gdGltZXIgcmVxdWlyZWRcclxuXHRcdHZhciB3YXRjaF90aW1lcj0kKHRoaXMpLmhhc0NsYXNzKFwiZG90LXRpbWVyLXVwZGF0ZVwiKTtcclxuXHRcdFxyXG5cdFx0Ly9DaGVja2luZyBpZiBoZWlnaHQgc2V0XHJcblx0XHR2YXIgaGVpZ2h0PTA7XHRcdFxyXG5cdFx0dmFyIGNsYXNzTGlzdCA9ICQodGhpcykuYXR0cignY2xhc3MnKS5zcGxpdCgvXFxzKy8pO1xyXG5cdFx0JC5lYWNoKGNsYXNzTGlzdCwgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcclxuXHRcdFx0dmFyIG1hdGNoUmVzdWx0ID0gaXRlbS5tYXRjaCgvXmRvdC1oZWlnaHQtKFxcZCspJC8pO1xyXG5cdFx0XHRpZihtYXRjaFJlc3VsdCAhPT0gbnVsbClcclxuXHRcdFx0XHRoZWlnaHQgPSBOdW1iZXIobWF0Y2hSZXN1bHRbMV0pO1xyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdC8vSW52b2tpbmcgalF1ZXJ5LmRvdGRvdGRvdFxyXG5cdFx0dmFyIHggPSBuZXcgT2JqZWN0KCk7XHJcblx0XHRpZiAod2F0Y2hfdGltZXIpXHJcblx0XHRcdHgud2F0Y2g9dHJ1ZTtcclxuXHRcdGlmICh3YXRjaF93aW5kb3cpXHJcblx0XHRcdHgud2F0Y2g9J3dpbmRvdyc7XHJcblx0XHRpZiAoaGVpZ2h0PjApXHJcblx0XHRcdHguaGVpZ2h0PWhlaWdodDtcclxuXHRcdCQodGhpcykuZG90ZG90ZG90KHgpO1xyXG5cdH0pO1xyXG5cdFx0XHJcbn0pO1xyXG5cclxuLy9VcGRhdGluZyBlbGVtZW50cyAoaWYgYW55KSBvbiB3aW5kb3cubG9hZCBldmVudFxyXG5qUXVlcnkod2luZG93KS5sb2FkKGZ1bmN0aW9uKCl7XHJcblx0alF1ZXJ5KFwiLmRvdC1lbGxpcHNpcy5kb3QtbG9hZC11cGRhdGVcIikudHJpZ2dlcihcInVwZGF0ZS5kb3RcIik7XHJcbn0pO1xudmFyIFdJREdFVF9DT01NT05fQ09ORklHID0ge1xuICBBVVRIX1BBVEhfVVJMOiBcInYxL3dpZGdldC9hdXRoXCIsXG4gIExPR0dFUl9DTElFTlRfSUQ6IFwiMTA4ODUyNzE0NzEwOS02cTFvMnZ0aWhuMzQyOTJwanQ0Y2tobWhjazByazBvNy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiLFxuICBMT0dHRVJfQ0xJRU5UX1NFQ1JFVDogXCJubFp5cmNQTGc2b0V3TzlmOVdmbjI5V2hcIixcbiAgTE9HR0VSX1JFRlJFU0hfVE9LRU46IFwiMS94enQ0a3d6RTFIN1c5Vm5LQjhjQWFDeDZ6YjRFczRuS0VvcWFZSGRURDE1SWdPckpEdGR1bjZ6SzZYaUFUQ0tUXCIsXG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIixcbiAgU1RPUkVfVVJMOiBcImh0dHBzOi8vc3RvcmUtZG90LXJ2YXNlcnZlcjIuYXBwc3BvdC5jb20vXCJcbn07XG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcyA9IChmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBnZXRGb250Q3NzU3R5bGUoY2xhc3NOYW1lLCBmb250T2JqKSB7XG4gICAgdmFyIGZhbWlseSA9IFwiZm9udC1mYW1pbHk6XCIgKyBmb250T2JqLmZvbnQuZmFtaWx5ICsgXCI7IFwiO1xuICAgIHZhciBjb2xvciA9IFwiY29sb3I6IFwiICsgKGZvbnRPYmouY29sb3IgPyBmb250T2JqLmNvbG9yIDogZm9udE9iai5mb3JlY29sb3IpICsgXCI7IFwiO1xuICAgIHZhciBzaXplID0gXCJmb250LXNpemU6IFwiICsgKGZvbnRPYmouc2l6ZS5pbmRleE9mKFwicHhcIikgPT09IC0xID8gZm9udE9iai5zaXplICsgXCJweDsgXCIgOiBmb250T2JqLnNpemUgKyBcIjsgXCIpO1xuICAgIHZhciB3ZWlnaHQgPSBcImZvbnQtd2VpZ2h0OiBcIiArIChmb250T2JqLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciBpdGFsaWMgPSBcImZvbnQtc3R5bGU6IFwiICsgKGZvbnRPYmouaXRhbGljID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciB1bmRlcmxpbmUgPSBcInRleHQtZGVjb3JhdGlvbjogXCIgKyAoZm9udE9iai51bmRlcmxpbmUgPyBcInVuZGVybGluZVwiIDogXCJub25lXCIpICsgXCI7IFwiO1xuICAgIHZhciBoaWdobGlnaHQgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgKGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgPyBmb250T2JqLmhpZ2hsaWdodENvbG9yIDogZm9udE9iai5iYWNrY29sb3IpICsgXCI7IFwiO1xuXG4gICAgcmV0dXJuIFwiLlwiICsgY2xhc3NOYW1lICsgXCIge1wiICsgZmFtaWx5ICsgY29sb3IgKyBzaXplICsgd2VpZ2h0ICsgaXRhbGljICsgdW5kZXJsaW5lICsgaGlnaGxpZ2h0ICsgXCJ9XCI7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRDU1NSdWxlcyhydWxlcykge1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBydWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocnVsZXNbaV0pKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIC8qXG4gICAqIExvYWRzIEdvb2dsZSBvciBjdXN0b20gZm9udHMsIGlmIGFwcGxpY2FibGUsIGFuZCBpbmplY3RzIENTUyBzdHlsZXNcbiAgICogaW50byB0aGUgaGVhZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgICBhcnJheSAgICBzZXR0aW5ncyAgICBBcnJheSBvZiBvYmplY3RzIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiZGF0ZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb250U2V0dGluZ1wiOiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJibGFja1wiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVmVyZGFuYVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnb29nbGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwOi8vY3VzdG9tLWZvbnQtdXJsXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljOiBmYWxzZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcIjIwXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lOiBmYWxzZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAqXG4gICAqICAgICAgICAgICBvYmplY3QgICBjb250ZW50RG9jICAgIERvY3VtZW50IG9iamVjdCBpbnRvIHdoaWNoIHRvIGluamVjdCBzdHlsZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGxvYWQgZm9udHMgKG9wdGlvbmFsKS5cbiAgICovXG4gIGZ1bmN0aW9uIGxvYWRGb250cyhzZXR0aW5ncywgY29udGVudERvYykge1xuICAgIHNldHRpbmdzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY2xhc3MgJiYgaXRlbS5mb250U2V0dGluZykge1xuICAgICAgICBhZGRDU1NSdWxlcyhbIGdldEZvbnRDc3NTdHlsZShpdGVtLmNsYXNzLCBpdGVtLmZvbnRTZXR0aW5nKSBdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0uZm9udFNldHRpbmcuZm9udC50eXBlKSB7XG4gICAgICAgIGlmIChpdGVtLmZvbnRTZXR0aW5nLmZvbnQudHlwZSA9PT0gXCJjdXN0b21cIiAmJiBpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5ICYmXG4gICAgICAgICAgaXRlbS5mb250U2V0dGluZy5mb250LnVybCkge1xuICAgICAgICAgIGxvYWRDdXN0b21Gb250KGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHksIGl0ZW0uZm9udFNldHRpbmcuZm9udC51cmwsXG4gICAgICAgICAgICBjb250ZW50RG9jKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtLmZvbnRTZXR0aW5nLmZvbnQudHlwZSA9PT0gXCJnb29nbGVcIiAmJiBpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5KSB7XG4gICAgICAgICAgbG9hZEdvb2dsZUZvbnQoaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSwgY29udGVudERvYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRDdXN0b21Gb250KGZhbWlseSwgdXJsLCBjb250ZW50RG9jKSB7XG4gICAgdmFyIHNoZWV0ID0gbnVsbDtcbiAgICB2YXIgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZmFtaWx5ICsgXCI7IFwiICsgXCJzcmM6IHVybCgnXCIgKyB1cmwgKyBcIicpO1wiO1xuXG4gICAgY29udGVudERvYyA9IGNvbnRlbnREb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBzaGVldCA9IGNvbnRlbnREb2Muc3R5bGVTaGVldHNbMF07XG5cbiAgICBpZiAoc2hlZXQgIT09IG51bGwpIHtcbiAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRHb29nbGVGb250KGZhbWlseSwgY29udGVudERvYykge1xuICAgIHZhciBzdHlsZXNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIiksXG4gICAgICBmYW1pbHlWYWw7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKFwicmVsXCIsIFwic3R5bGVzaGVldFwiKTtcbiAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKTtcblxuICAgIC8vIHNwbGl0IHRvIGFjY291bnQgZm9yIGZhbWlseSB2YWx1ZSBjb250YWluaW5nIGEgZmFsbGJhY2sgKGVnLiBBbGFkaW4sc2Fucy1zZXJpZilcbiAgICBmYW1pbHlWYWwgPSBmYW1pbHkuc3BsaXQoXCIsXCIpWzBdO1xuXG4gICAgLy8gc3RyaXAgcG9zc2libGUgc2luZ2xlIHF1b3Rlc1xuICAgIGZhbWlseVZhbCA9IGZhbWlseVZhbC5yZXBsYWNlKC8nL2csIFwiXCIpO1xuXG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiICsgZmFtaWx5VmFsKTtcblxuICAgIGlmIChzdHlsZXNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBjb250ZW50RG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChzdHlsZXNoZWV0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcmVsb2FkSW1hZ2VzKHVybHMpIHtcbiAgICB2YXIgbGVuZ3RoID0gdXJscy5sZW5ndGgsXG4gICAgICBpbWFnZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGltYWdlc1tpXSA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1hZ2VzW2ldLnNyYyA9IHVybHNbaV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXIocGFyYW0pIHtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSxcbiAgICAgIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIiksXG4gICAgICBwYWlyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG5cbiAgICAgIGlmIChwYWlyWzBdID09IHBhcmFtKSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSkge1xuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIHN3aXRjaCAoc3RhdHVzQ29kZSkge1xuICAgICAgY2FzZSA0MDQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlIGZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTA3OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIGlzIG5vdCBlbm91Z2ggZGlzayBzcGFjZSB0byBzYXZlIHRoZSBmaWxlIG9uIFJpc2UgQ2FjaGUuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHJldHJpZXZpbmcgdGhlIGZpbGUgZnJvbSBSaXNlIENhY2hlLlwiO1xuICAgIH1cblxuICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFF1ZXJ5UGFyYW1ldGVyOiBnZXRRdWVyeVBhcmFtZXRlcixcbiAgICBnZXRGb250Q3NzU3R5bGU6ICBnZXRGb250Q3NzU3R5bGUsXG4gICAgYWRkQ1NTUnVsZXM6ICAgICAgYWRkQ1NTUnVsZXMsXG4gICAgbG9hZEZvbnRzOiAgICAgICAgbG9hZEZvbnRzLFxuICAgIGxvYWRDdXN0b21Gb250OiAgIGxvYWRDdXN0b21Gb250LFxuICAgIGxvYWRHb29nbGVGb250OiAgIGxvYWRHb29nbGVGb250LFxuICAgIHByZWxvYWRJbWFnZXM6ICAgIHByZWxvYWRJbWFnZXMsXG4gICAgZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlOiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2VcbiAgfTtcbn0pKCk7XG5cbi8qIGdsb2JhbCBnYWRnZXRzICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgY29tcGFueUlkID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuXG4gIC8qIFJldHJpZXZlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZXZlbnQgbG9nZ2VyLiAqL1xuICBmdW5jdGlvbiBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGNiKSB7XG4gICAgdmFyIGpzb24gPSBudWxsO1xuXG4gICAgLy8gZXZlbnQgaXMgcmVxdWlyZWQuXG4gICAgaWYgKHBhcmFtcy5ldmVudCkge1xuICAgICAganNvbiA9IHBhcmFtcztcblxuICAgICAgaWYgKGpzb24uZmlsZV91cmwpIHtcbiAgICAgICAganNvbi5maWxlX2Zvcm1hdCA9IGdldEZpbGVGb3JtYXQoanNvbi5maWxlX3VybCk7XG4gICAgICB9XG5cbiAgICAgIGpzb24uY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICAgIGpzb24uZGlzcGxheV9pZCA9IGRpc3BsYXlJZDtcblxuICAgICAgY2IoanNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoanNvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN1ZmZpeCBmb3IgQlEgdGFibGUgbmFtZS5cbiAgZnVuY3Rpb24gZ2V0U3VmZml4KCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcblxuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XG4gICAgfVxuXG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICBkYXkgPSBcIjBcIiArIGRheTtcbiAgICB9XG5cbiAgICByZXR1cm4geWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEluc2VydERhdGFcIjogZ2V0SW5zZXJ0RGF0YSxcbiAgICBcImdldEZpbGVGb3JtYXRcIjogZ2V0RmlsZUZvcm1hdCxcbiAgICBcImxvZ0V2ZW50XCI6IGxvZ0V2ZW50LFxuICAgIFwic2V0SWRzXCI6IHNldElkc1xuICB9O1xufSkoKTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyID0gKGZ1bmN0aW9uKHV0aWxzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBSRUZSRVNIX1VSTCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3Rva2VuP2NsaWVudF9pZD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfSUQgK1xuICAgICAgXCImY2xpZW50X3NlY3JldD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfU0VDUkVUICtcbiAgICAgIFwiJnJlZnJlc2hfdG9rZW49XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfUkVGUkVTSF9UT0tFTiArXG4gICAgICBcIiZncmFudF90eXBlPXJlZnJlc2hfdG9rZW5cIjtcblxuICB2YXIgc2VydmljZVVybCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYmlncXVlcnkvdjIvcHJvamVjdHMvY2xpZW50LXNpZGUtZXZlbnRzL2RhdGFzZXRzL1dpZGdldF9FdmVudHMvdGFibGVzL1RBQkxFX0lEL2luc2VydEFsbFwiLFxuICAgIHRocm90dGxlID0gZmFsc2UsXG4gICAgdGhyb3R0bGVEZWxheSA9IDEwMDAsXG4gICAgbGFzdEV2ZW50ID0gXCJcIixcbiAgICByZWZyZXNoRGF0ZSA9IDAsXG4gICAgdG9rZW4gPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbihjYikge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmIChuZXcgRGF0ZSgpIC0gcmVmcmVzaERhdGUgPCAzNTgwMDAwKSB7XG4gICAgICByZXR1cm4gY2Ioe30pO1xuICAgIH1cblxuICAgIHhoci5vcGVuKFwiUE9TVFwiLCBSRUZSRVNIX1VSTCwgdHJ1ZSk7XG4gICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3AgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG5cbiAgICAgIGNiKHsgdG9rZW46IHJlc3AuYWNjZXNzX3Rva2VuLCByZWZyZXNoZWRBdDogbmV3IERhdGUoKSB9KTtcbiAgICB9O1xuXG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVGhyb3R0bGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRocm90dGxlICYmIChsYXN0RXZlbnQgPT09IGV2ZW50KTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gbG9nKHRhYmxlTmFtZSwgcGFyYW1zKSB7XG4gICAgaWYgKCF0YWJsZU5hbWUgfHwgIXBhcmFtcyB8fCAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgIXBhcmFtcy5ldmVudCkgfHxcbiAgICAgIChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiBpc1Rocm90dGxlZChwYXJhbXMuZXZlbnQpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm90dGxlID0gdHJ1ZTtcbiAgICBsYXN0RXZlbnQgPSBwYXJhbXMuZXZlbnQ7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm90dGxlID0gZmFsc2U7XG4gICAgfSwgdGhyb3R0bGVEZWxheSk7XG5cbiAgICBmdW5jdGlvbiBpbnNlcnRXaXRoVG9rZW4ocmVmcmVzaERhdGEpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgaW5zZXJ0RGF0YSwgdXJsO1xuXG4gICAgICB1cmwgPSBzZXJ2aWNlVXJsLnJlcGxhY2UoXCJUQUJMRV9JRFwiLCB0YWJsZU5hbWUpO1xuICAgICAgcmVmcmVzaERhdGUgPSByZWZyZXNoRGF0YS5yZWZyZXNoZWRBdCB8fCByZWZyZXNoRGF0ZTtcbiAgICAgIHRva2VuID0gcmVmcmVzaERhdGEudG9rZW4gfHwgdG9rZW47XG4gICAgICBpbnNlcnREYXRhID0gdXRpbHMuZ2V0SW5zZXJ0RGF0YShwYXJhbXMpO1xuXG4gICAgICAvLyBJbnNlcnQgdGhlIGRhdGEuXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIHRva2VuKTtcblxuICAgICAgaWYgKHBhcmFtcy5jYiAmJiB0eXBlb2YgcGFyYW1zLmNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBhcmFtcy5jYih4aHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShpbnNlcnREYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZnJlc2hUb2tlbihpbnNlcnRXaXRoVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImxvZ1wiOiBsb2dcbiAgfTtcbn0pKFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzKTtcbi8qIGdsb2JhbCBnYWRnZXRzLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uUlNTID0ge307XG5cblJpc2VWaXNpb24uUlNTID0gKGZ1bmN0aW9uIChkb2N1bWVudCwgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2FkZGl0aW9uYWxQYXJhbXMgPSBudWxsLFxuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG5cbiAgdmFyIF9tZXNzYWdlID0gbnVsbCxcbiAgICBfcmlzZXJzcyA9IG51bGwsXG4gICAgX2NvbnRlbnQgPSBudWxsO1xuXG4gIHZhciBfY3VycmVudEZlZWQgPSBudWxsO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gdHJ1ZSxcbiAgICBfZXJyb3JUaW1lciA9IG51bGwsXG4gICAgX2Vycm9yTG9nID0gbnVsbCxcbiAgICBfZXJyb3JGbGFnID0gZmFsc2U7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSk7XG5cbiAgICAvLyBBbnkgZXJyb3JzIG5lZWQgdG8gYmUgbG9nZ2VkIGJlZm9yZSB0aGUgZG9uZSBldmVudC5cbiAgICBpZiAoX2Vycm9yTG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChfZXJyb3JMb2csIHRydWUpO1xuICAgIH1cblxuICAgIC8vIGxvZyBcImRvbmVcIiBldmVudFxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcImRvbmVcIiwgXCJmZWVkX3VybFwiOiBfYWRkaXRpb25hbFBhcmFtcy51cmwgfSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vRmVlZEl0ZW1zKCkge1xuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIm5vIGZlZWQgaXRlbXNcIixcbiAgICAgIFwiZmVlZF91cmxcIjogX2FkZGl0aW9uYWxQYXJhbXMudXJsXG4gICAgfTtcblxuICAgIGxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgc2hvd0Vycm9yKFwiVGhlcmUgYXJlIG5vIGl0ZW1zIHRvIHNob3cgZnJvbSB0aGlzIFJTUyBmZWVkLlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGVhckVycm9yVGltZXIoKSB7XG4gICAgY2xlYXJUaW1lb3V0KF9lcnJvclRpbWVyKTtcbiAgICBfZXJyb3JUaW1lciA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRFcnJvclRpbWVyKCkge1xuICAgIF9jbGVhckVycm9yVGltZXIoKTtcblxuICAgIF9lcnJvclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBub3RpZnkgVmlld2VyIHdpZGdldCBpcyBkb25lXG4gICAgICBfZG9uZSgpO1xuICAgIH0sIDUwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgX21lc3NhZ2UgPSBuZXcgUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZUNvbnRhaW5lclwiKSk7XG5cbiAgICAvLyBzaG93IHdhaXQgbWVzc2FnZVxuICAgIF9tZXNzYWdlLnNob3coXCJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIGZlZWQgaXMgbG9hZGVkLlwiKTtcblxuICAgIC8vIExvYWQgZm9udHMuXG4gICAgdmFyIGZvbnRTZXR0aW5ncyA9IFtcbiAgICAgIHtcbiAgICAgICAgXCJjbGFzc1wiOiBcInN0b3J5X2ZvbnQtc3R5bGVcIixcbiAgICAgICAgXCJmb250U2V0dGluZ1wiOiBfYWRkaXRpb25hbFBhcmFtcy5zdG9yeS5mb250U3R5bGVcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgaWYoX2FkZGl0aW9uYWxQYXJhbXMuaGVhZGxpbmUgJiYgIV8uaXNFbXB0eShfYWRkaXRpb25hbFBhcmFtcy5oZWFkbGluZS5mb250U3R5bGUpKXtcbiAgICAgIGZvbnRTZXR0aW5ncy5wdXNoKHtcbiAgICAgICAgXCJjbGFzc1wiOiBcImhlYWRsaW5lX2ZvbnQtc3R5bGVcIixcbiAgICAgICAgXCJmb250U2V0dGluZ1wiOiBfYWRkaXRpb25hbFBhcmFtcy5oZWFkbGluZS5mb250U3R5bGVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKF9hZGRpdGlvbmFsUGFyYW1zLnRpbWVzdGFtcCAmJiAhXy5pc0VtcHR5KF9hZGRpdGlvbmFsUGFyYW1zLnRpbWVzdGFtcC5mb250U3R5bGUpKXtcbiAgICAgIGZvbnRTZXR0aW5ncy5wdXNoKHtcbiAgICAgICAgXCJjbGFzc1wiOiBcInRpbWVzdGFtcF9mb250LXN0eWxlXCIsXG4gICAgICAgIFwiZm9udFNldHRpbmdcIjogX2FkZGl0aW9uYWxQYXJhbXMudGltZXN0YW1wLmZvbnRTdHlsZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoX2FkZGl0aW9uYWxQYXJhbXMuYXV0aG9yICYmICFfLmlzRW1wdHkoX2FkZGl0aW9uYWxQYXJhbXMuYXV0aG9yLmZvbnRTdHlsZSkpe1xuICAgICAgZm9udFNldHRpbmdzLnB1c2goe1xuICAgICAgICBcImNsYXNzXCI6IFwiYXV0aG9yX2ZvbnQtc3R5bGVcIixcbiAgICAgICAgXCJmb250U2V0dGluZ1wiOiBfYWRkaXRpb25hbFBhcmFtcy5hdXRob3IuZm9udFN0eWxlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMubG9hZEZvbnRzKGZvbnRTZXR0aW5ncyk7XG5cbiAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIHJzcyBtb2R1bGUgaW5zdGFuY2VcbiAgICBfcmlzZXJzcyA9IG5ldyBSaXNlVmlzaW9uLlJTUy5SaXNlUlNTKF9hZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBfcmlzZXJzcy5pbml0KCk7XG5cbiAgICBfcmVhZHkoKTtcbiAgfVxuXG4gIC8qIExvYWQgdGhlIGxheW91dCBmaWxlLiAqL1xuICBmdW5jdGlvbiBfbG9hZExheW91dCgpIHtcbiAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgaW5kZXggPSB1cmwubGFzdEluZGV4T2YoXCIvXCIpICsgMTtcblxuICAgIHVybCA9IHVybC5zdWJzdHIoMCwgaW5kZXgpICsgXCJsYXlvdXRzL1wiO1xuXG4gICAgaWYgKHR5cGVvZiBfYWRkaXRpb25hbFBhcmFtcy5sYXlvdXQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHVybCArPSBcImxheW91dC00eDEuaHRtbFwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChfYWRkaXRpb25hbFBhcmFtcy5sYXlvdXQgPT09IFwiY3VzdG9tXCIpIHtcbiAgICAgIHVybCA9IF9hZGRpdGlvbmFsUGFyYW1zLmxheW91dFVybDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB1cmwgKz0gX2FkZGl0aW9uYWxQYXJhbXMubGF5b3V0ICsgXCIuaHRtbFwiO1xuICAgIH1cblxuICAgIC8vIExvYWQgdGhlIGxheW91dCBhbmQgYWRkIGl0IHRvIHRoZSBET00uXG4gICAgJC5nZXQodXJsKVxuICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAkKFwiI2NvbnRhaW5lclwiKS5hcHBlbmQoZGF0YSk7XG4gICAgICAgIF9pbml0KCk7XG4gICAgICB9KVxuICAgICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIF9tZXNzYWdlID0gbmV3IFJpc2VWaXNpb24uQ29tbW9uLk1lc3NhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIiksXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlQ29udGFpbmVyXCIpKTtcblxuICAgICAgICBfbWVzc2FnZS5zaG93KFwiVGhlIGxheW91dCBmaWxlIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCIpO1xuXG4gICAgICAgIGxvZ0V2ZW50KHtcbiAgICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJsYXlvdXQgbm90IGxvYWRlZFwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiB1cmwsXG4gICAgICAgICAgXCJmZWVkX3VybFwiOiBfYWRkaXRpb25hbFBhcmFtcy51cmxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgX3JlYWR5KCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcInJzc19ldmVudHNcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHBhcmFtcywgaXNFcnJvcikge1xuICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICBfZXJyb3JMb2cgPSBwYXJhbXM7XG4gICAgfVxuXG4gICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMubG9nRXZlbnQoZ2V0VGFibGVOYW1lKCksIHBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNvbnRlbnREb25lKCkge1xuICAgIF9kb25lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblJpc2VSU1NJbml0KGZlZWQpIHtcbiAgICBfY29udGVudCA9IG5ldyBSaXNlVmlzaW9uLlJTUy5Db250ZW50KF9wcmVmcywgX2FkZGl0aW9uYWxQYXJhbXMpO1xuXG4gICAgaWYgKGZlZWQuaXRlbXMgJiYgZmVlZC5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyByZW1vdmUgYSBtZXNzYWdlIHByZXZpb3VzbHkgc2hvd25cbiAgICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgICAgX2N1cnJlbnRGZWVkID0gXy5jbG9uZShmZWVkKTtcblxuICAgICAgX2NvbnRlbnQuaW5pdChfY3VycmVudEZlZWQpO1xuXG4gICAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgICAgX2NvbnRlbnQucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIF9ub0ZlZWRJdGVtcygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmlzZVJTU1JlZnJlc2goZmVlZCkge1xuICAgIHZhciB1cGRhdGVkID0gZmFsc2U7XG5cbiAgICBpZiAoIWZlZWQuaXRlbXMgfHwgZmVlZC5pdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIF9ub0ZlZWRJdGVtcygpO1xuICAgIH1cbiAgICBlbHNlIGlmICghX2N1cnJlbnRGZWVkIHx8IGZlZWQuaXRlbXMubGVuZ3RoICE9PSBfY3VycmVudEZlZWQuaXRlbXMubGVuZ3RoKSB7XG4gICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBydW4gdGhyb3VnaCBlYWNoIGl0ZW0gYW5kIGNvbXBhcmUsIGlmIGFueSBhcmUgZGlmZmVyZW50LCBmZWVkIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2N1cnJlbnRGZWVkLml0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmICghXy5pc0VxdWFsKGZlZWQuaXRlbXNbaV0sIF9jdXJyZW50RmVlZC5pdGVtc1tpXSkpIHtcbiAgICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICBfY3VycmVudEZlZWQgPSBfLmNsb25lKGZlZWQpO1xuXG4gICAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgICBpZiAoIV9jb250ZW50KSB7XG4gICAgICAgICAgLy8gY3JlYXRlIGNvbnRlbnQgbW9kdWxlIGluc3RhbmNlXG4gICAgICAgICAgX2NvbnRlbnQgPSBuZXcgUmlzZVZpc2lvbi5SU1MuQ29udGVudChfcHJlZnMsIF9hZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9tZXNzYWdlLmhpZGUoKTtcbiAgICAgICAgX2NvbnRlbnQuaW5pdChfY3VycmVudEZlZWQpO1xuXG4gICAgICAgIC8vIHJlZnJlc2hlZCBmZWVkIGZpeGVkIHByZXZpb3VzIGVycm9yLCBlbnN1cmUgZmxhZyBpcyByZW1vdmVkIHNvIG5leHQgcGxheWJhY2sgc2hvd3MgY29udGVudFxuICAgICAgICBfZXJyb3JGbGFnID0gZmFsc2U7XG4gICAgICAgIF9lcnJvckxvZyA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgX2NvbnRlbnQudXBkYXRlKGZlZWQpO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG5cbiAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfY29udGVudCkge1xuICAgICAgX2NvbnRlbnQucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcInBsYXlcIiwgXCJmZWVkX3VybFwiOiBfYWRkaXRpb25hbFBhcmFtcy51cmwgfSwgZmFsc2UpO1xuXG4gICAgaWYgKF9lcnJvckZsYWcpIHtcbiAgICAgIF9zdGFydEVycm9yVGltZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX2NvbnRlbnQpIHtcbiAgICAgIF9jb250ZW50LnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWRkaXRpb25hbFBhcmFtcykpO1xuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG5cbiAgICBfYWRkaXRpb25hbFBhcmFtcy53aWR0aCA9IF9wcmVmcy5nZXRJbnQoXCJyc1dcIik7XG4gICAgX2FkZGl0aW9uYWxQYXJhbXMuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLnN0eWxlLndpZHRoID0gX2FkZGl0aW9uYWxQYXJhbXMud2lkdGggKyBcInB4XCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gX2FkZGl0aW9uYWxQYXJhbXMuaGVpZ2h0ICsgXCJweFwiO1xuXG4gICAgX2xvYWRMYXlvdXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlKSB7XG4gICAgX2Vycm9yRmxhZyA9IHRydWU7XG5cbiAgICBfY29udGVudC5yZXNldCgpO1xuICAgIF9jdXJyZW50RmVlZCA9IG51bGw7XG4gICAgX21lc3NhZ2Uuc2hvdyhtZXNzYWdlKTtcblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkNvbnRlbnREb25lXCI6IG9uQ29udGVudERvbmUsXG4gICAgXCJvblJpc2VSU1NJbml0XCI6IG9uUmlzZVJTU0luaXQsXG4gICAgXCJvblJpc2VSU1NSZWZyZXNoXCI6IG9uUmlzZVJTU1JlZnJlc2gsXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcInNob3dFcnJvclwiOiBzaG93RXJyb3IsXG4gICAgXCJzdG9wXCI6IHN0b3BcbiAgfTtcblxufSkoZG9jdW1lbnQsIGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlJTUyA9IFJpc2VWaXNpb24uUlNTIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlJTUy5VdGlscyA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgIE1ldGhvZHNcbiAgICovXG5cbiAgZnVuY3Rpb24gc3RyaXBTY3JpcHRzKGh0bWwpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIHNjcmlwdHMsIGk7XG5cbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcbiAgICBzY3JpcHRzID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuICAgIGkgPSBzY3JpcHRzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHNjcmlwdHNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGl2LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qIFRydW5jYXRlIHRleHQgd2hpbGUgcHJlc2VydmluZyB3b3JkIGJvdW5kYXJpZXMuICovXG4gIGZ1bmN0aW9uIHRydW5jYXRlKHRleHQsIGxlbmd0aCkge1xuICAgIHZhciBtYXhMZW5ndGggPSAobGVuZ3RoKT8gbGVuZ3RoIDogMTIwO1xuXG4gICAgaWYgKHRleHQubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgbWF4TGVuZ3RoKTtcblxuICAgICAgLy8gRW5zdXJlIHRoYXQgd2UgZG9uJ3QgdHJ1bmNhdGUgbWlkLXdvcmQuXG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHcrJC8sIFwiXCIpO1xuICAgICAgdGV4dCArPSBcIiAuLi5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJzdHJpcFNjcmlwdHNcIjogc3RyaXBTY3JpcHRzLFxuICAgIFwidHJ1bmNhdGVcIjogdHJ1bmNhdGVcbiAgfTtcblxufSkoKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5SU1MgPSBSaXNlVmlzaW9uLlJTUyB8fCB7fTtcblJpc2VWaXNpb24uUlNTLkltYWdlcyA9IHt9O1xuXG5SaXNlVmlzaW9uLlJTUy5JbWFnZXMgPSAoZnVuY3Rpb24gKCkge1xuXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW1hZ2VzVG9Mb2FkID0gW10sXG4gICAgX2ltYWdlQ291bnQgPSAwLFxuICAgIF9pbWFnZXMgPSBbXSxcbiAgICBfY2FsbGJhY2sgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIF9vbkltYWdlTG9hZGVkKGltYWdlKSB7XG4gICAgX2ltYWdlcy5wdXNoKGltYWdlKTtcbiAgICBfaW1hZ2VDb3VudCArPSAxO1xuXG4gICAgaWYgKF9pbWFnZUNvdW50ID09PSBfaW1hZ2VzVG9Mb2FkLmxlbmd0aCAmJiBfY2FsbGJhY2sgJiYgdHlwZW9mIF9jYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBfY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfbG9hZEltYWdlKHVybCkge1xuICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcblxuICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfb25JbWFnZUxvYWRlZCh0aGlzKTtcbiAgICB9O1xuXG4gICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfb25JbWFnZUxvYWRlZCh0aGlzKTtcbiAgICB9O1xuXG4gICAgaW1nLnNyYyA9IHVybDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9sb2FkSW1hZ2VzKCkge1xuICAgIHZhciBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IF9pbWFnZXNUb0xvYWQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChfaW1hZ2VzVG9Mb2FkW2ldID09PSBudWxsKSB7XG4gICAgICAgIF9vbkltYWdlTG9hZGVkKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2xvYWRJbWFnZShfaW1hZ2VzVG9Mb2FkW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkKGltYWdlcywgY2FsbGJhY2spIHtcbiAgICBpZiAoaW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIF9pbWFnZXNUb0xvYWQgPSBpbWFnZXM7XG4gICAgICBfaW1hZ2VzID0gW107XG4gICAgICBfaW1hZ2VDb3VudCA9IDA7XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBfY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIH1cblxuICAgICAgX2xvYWRJbWFnZXMoKTtcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW1hZ2VzKCkge1xuICAgIHJldHVybiBfaW1hZ2VzO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRJbWFnZXM6IGdldEltYWdlcyxcbiAgICBsb2FkOiBsb2FkXG4gIH07XG5cbn0pKCk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uUlNTID0gUmlzZVZpc2lvbi5SU1MgfHwge307XG5cblJpc2VWaXNpb24uUlNTLlJpc2VSU1MgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2luaXRpYWxMb2FkID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHJzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXJzc1wiKTtcblxuICAgIHJzcy5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1yc3MtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLmZlZWQpIHtcbiAgICAgICAgaWYgKF9pbml0aWFsTG9hZCkge1xuICAgICAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5SU1Mub25SaXNlUlNTSW5pdChlLmRldGFpbC5mZWVkKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJpc2VWaXNpb24uUlNTLm9uUmlzZVJTU1JlZnJlc2goZS5kZXRhaWwuZmVlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJzcy5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1yc3MtZXJyb3JcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBlcnJvckRldGFpbHMgPSBcIlwiO1xuXG4gICAgICBpZiAoZS5kZXRhaWwgJiYgdHlwZW9mIGUuZGV0YWlsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGVycm9yRGV0YWlscyA9IGUuZGV0YWlsO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZS5kZXRhaWwgJiYgQXJyYXkuaXNBcnJheShlLmRldGFpbCkgJiYgZS5kZXRhaWwubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyByaXNlLXJzcy1lcnJvciBwYXNzZXMgZXJyb3IgZnJvbSBnYWRnZXRzLmlvLm1ha2VSZXF1ZXN0IHdoaWNoIGlzIGFsd2F5cyBhbiBBcnJheSB3aXRoIG9uZSBpdGVtXG4gICAgICAgIGVycm9yRGV0YWlscyA9IGUuZGV0YWlsWzBdO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSByc3MgZXJyb3JcIixcbiAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IGVycm9yRGV0YWlscyxcbiAgICAgICAgXCJmZWVkX3VybFwiOiBkYXRhLnVybFxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5SU1MubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uUlNTLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIFJTUyBmZWVkLlwiLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHJzcy5zZXRBdHRyaWJ1dGUoXCJ1cmxcIiwgZGF0YS51cmwpO1xuXG4gICAgaWYgKGRhdGEuaXRlbXNJblF1ZXVlKSB7XG4gICAgICByc3Muc2V0QXR0cmlidXRlKFwiZW50cmllc1wiLCBkYXRhLml0ZW1zSW5RdWV1ZSk7XG4gICAgfVxuXG4gICAgcnNzLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgXyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlJTUyA9IFJpc2VWaXNpb24uUlNTIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlJTUy5Db250ZW50ID0gZnVuY3Rpb24gKHByZWZzLCBwYXJhbXMpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2l0ZW1zID0gW10sXG4gICAgX3V0aWxzID0gUmlzZVZpc2lvbi5SU1MuVXRpbHMsXG4gICAgX2ltYWdlcyA9IFJpc2VWaXNpb24uUlNTLkltYWdlcztcblxuICB2YXIgXyRlbDtcblxuICB2YXIgX2N1cnJlbnRJdGVtSW5kZXggPSAwO1xuXG4gIHZhciBfdHJhbnNpdGlvbkludGVydmFsSWQgPSBudWxsO1xuXG4gIHZhciBfdHJhbnNpdGlvbiA9IHtcbiAgICBcInR5cGVcIjogXCJub25lXCIsXG4gICAgZHVyYXRpb246IDEwMDAwXG4gIH07XG5cbiAgdmFyIF93YWl0aW5nRm9yVXBkYXRlID0gZmFsc2U7XG5cbiAgdmFyIF9pbWFnZVR5cGVzID0gW1wiaW1hZ2UvYm1wXCIsIFwiaW1hZ2UvZ2lmXCIsIFwiaW1hZ2UvanBlZ1wiLCBcImltYWdlL2pwZ1wiLCBcImltYWdlL3BuZ1wiLCBcImltYWdlL3RpZmZcIl07XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX2NhY2hlKCkge1xuICAgIF8kZWwgPSB7XG4gICAgICBwYWdlOiAgICAgICAgICAgJChcIi5wYWdlXCIpXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRJdGVtSGVpZ2h0KCkge1xuICAgIC8vIGFjY291bnQgZm9yIG5vdCBlbm91Z2ggaXRlbXMgdG8gYWN0dWFsbHkgc2hvdyBjb21wYXJlZCB0byBzZXR0aW5nIHZhbHVlXG4gICAgdmFyIGl0ZW1zVG9TaG93ID0gKF9pdGVtcy5sZW5ndGggPD0gcGFyYW1zLml0ZW1zVG9TaG93KSA/IF9pdGVtcy5sZW5ndGggOiBwYXJhbXMuaXRlbXNUb1Nob3c7XG5cbiAgICBpZiAocGFyYW1zLnNlcGFyYXRvciAmJiBwYXJhbXMuc2VwYXJhdG9yLnNob3cpIHtcbiAgICAgIHJldHVybiBwcmVmcy5nZXRJbnQoXCJyc0hcIikgLyBpdGVtc1RvU2hvdyAtIHBhcmFtcy5zZXBhcmF0b3Iuc2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gcHJlZnMuZ2V0SW50KFwicnNIXCIpIC8gaXRlbXNUb1Nob3c7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2dldFRyYW5zaXRpb25Db25maWcoaW5kZXgpIHtcbiAgICB2YXIgY29uZmlnID0ge307XG5cbiAgICBpZiAoKGluZGV4ICsgcGFyYW1zLml0ZW1zVG9TaG93KSA+PSAoX2l0ZW1zLmxlbmd0aCAtIDEpKSB7XG4gICAgICAvLyBhY2NvdW50IGZvciBub3QgZW5vdWdoIGl0ZW1zIHRvIGFjdHVhbGx5IHNob3cgZnJvbSB0aGUgZmVlZFxuICAgICAgY29uZmlnLml0ZW1zVG9TaG93ID0gX2l0ZW1zLmxlbmd0aCAtIChpbmRleCArIDEpO1xuICAgICAgY29uZmlnLmN1cnJlbnRJdGVtSW5kZXggPSAoX2l0ZW1zLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbmZpZy5pdGVtc1RvU2hvdyA9IHBhcmFtcy5pdGVtc1RvU2hvdztcbiAgICAgIC8vIHZhbHVlIGlzIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBpdGVtIHNob3dpbmdcbiAgICAgIGNvbmZpZy5jdXJyZW50SXRlbUluZGV4ID0gaW5kZXggKyBwYXJhbXMuaXRlbXNUb1Nob3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRTdGFydENvbmZpZygpIHtcbiAgICB2YXIgY29uZmlnID0ge307XG5cbiAgICBpZiAoX2l0ZW1zLmxlbmd0aCA8PSBwYXJhbXMuaXRlbXNUb1Nob3cpIHtcbiAgICAgIC8vIGFjY291bnQgZm9yIG5vdCBlbm91Z2ggaXRlbXMgdG8gYWN0dWFsbHkgc2hvdyBmcm9tIHRoZSBmZWVkXG4gICAgICBjb25maWcuaXRlbXNUb1Nob3cgPSBfaXRlbXMubGVuZ3RoO1xuICAgICAgY29uZmlnLmN1cnJlbnRJdGVtSW5kZXggPSAoX2l0ZW1zLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbmZpZy5pdGVtc1RvU2hvdyA9IHBhcmFtcy5pdGVtc1RvU2hvdztcbiAgICAgIC8vIHZhbHVlIGlzIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBpdGVtIHNob3dpbmdcbiAgICAgIGNvbmZpZy5jdXJyZW50SXRlbUluZGV4ID0gKHBhcmFtcy5pdGVtc1RvU2hvdyAtIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0U3RvcnkoaXRlbSkge1xuICAgIHZhciBzdG9yeSA9IG51bGw7XG5cbiAgICBpZiAoXy5oYXMoaXRlbSwgXCJkZXNjcmlwdGlvblwiKSkge1xuICAgICAgc3RvcnkgPSBpdGVtLmRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBzdG9yeTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRBdXRob3IoaXRlbSkge1xuICAgIHZhciBhdXRob3IgPSBudWxsO1xuXG4gICAgaWYgKGl0ZW0uYXV0aG9yKSB7XG4gICAgICBhdXRob3IgPSBpdGVtLmF1dGhvcjtcbiAgICB9IGVsc2UgaWYgKF8uaGFzKGl0ZW0sIFwiZGM6Y3JlYXRvclwiKSkge1xuICAgICAgYXV0aG9yID0gaXRlbVtcImRjOmNyZWF0b3JcIl1bXCIjXCJdO1xuICAgIH1cblxuICAgIHJldHVybiBhdXRob3I7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0SW1hZ2VVcmwoaXRlbSkge1xuICAgIHZhciBpbWFnZVVybCA9IG51bGw7XG5cbiAgICBpZiAoaXRlbS5pbWFnZSAmJiBpdGVtLmltYWdlLnVybCkge1xuICAgICAgaW1hZ2VVcmwgPSBpdGVtLmltYWdlLnVybDtcbiAgICB9XG4gICAgZWxzZSBpZiAoXy5oYXMoaXRlbSwgXCJlbmNsb3N1cmVzXCIpKSB7XG4gICAgICBpZiAoaXRlbS5lbmNsb3N1cmVzWzBdICYmIChfLmNvbnRhaW5zKF9pbWFnZVR5cGVzLCBpdGVtLmVuY2xvc3VyZXNbMF0udHlwZSkpKSB7XG4gICAgICAgIGltYWdlVXJsID0gaXRlbS5lbmNsb3N1cmVzWzBdLnVybDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW1hZ2VVcmw7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0SW1hZ2VVcmxzKCkge1xuICAgIHZhciB1cmxzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9pdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdXJscy5wdXNoKF9nZXRJbWFnZVVybChfaXRlbXNbaV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJscztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXREYXRlKGl0ZW0pIHtcbiAgICB2YXIgcHViZGF0ZSA9IGl0ZW0uZGF0ZSwgZm9ybWF0dGVkRGF0ZSA9IG51bGw7XG5cbiAgICBpZiAocHViZGF0ZSkge1xuICAgICAgcHViZGF0ZSA9IG5ldyBEYXRlKHB1YmRhdGUpO1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHllYXI6IFwibnVtZXJpY1wiLCBtb250aDogXCJsb25nXCIsIGRheTogXCJudW1lcmljXCJcbiAgICAgIH07XG4gICAgICBmb3JtYXR0ZWREYXRlID0gcHViZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi11c1wiLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkRGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRJbWFnZURpbWVuc2lvbnMoJGltYWdlLCBpdGVtKSB7XG4gICAgdmFyIGRpbWVuc2lvbnMgPSBudWxsLFxuICAgICAgcGFkZGluZ1dpZHRoID0gcGFyc2VJbnQoJGltYWdlLmNzcyhcInBhZGRpbmctbGVmdFwiKSwgMTApICsgcGFyc2VJbnQoJGltYWdlLmNzcyhcInBhZGRpbmctcmlnaHRcIiksIDEwKSxcbiAgICAgIHBhZGRpbmdIZWlnaHQgPSBwYXJzZUludCgkaW1hZ2UuY3NzKFwicGFkZGluZy10b3BcIiksIDEwKSArIHBhcnNlSW50KCRpbWFnZS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKSwgMTApLFxuICAgICAgcmF0aW9YLCByYXRpb1ksIHNjYWxlO1xuXG4gICAgc3dpdGNoIChwYXJhbXMubGF5b3V0KSB7XG4gICAgICBjYXNlIFwibGF5b3V0LTR4MVwiOlxuICAgICAgICBkaW1lbnNpb25zID0ge307XG4gICAgICAgIGRpbWVuc2lvbnMud2lkdGggPSBwcmVmcy5nZXRTdHJpbmcoXCJyc1dcIikgKiAwLjMzO1xuICAgICAgICBkaW1lbnNpb25zLmhlaWdodCA9IChwcmVmcy5nZXRTdHJpbmcoXCJyc0hcIikgLyBwYXJhbXMuaXRlbXNUb1Nob3cpIC0gcGFkZGluZ0hlaWdodDtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImxheW91dC0yeDFcIjpcbiAgICAgICAgZGltZW5zaW9ucyA9IHt9O1xuXG4gICAgICAgIGlmICgkKGl0ZW0pLmZpbmQoXCIuc3RvcnlcIikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZGltZW5zaW9ucy53aWR0aCA9IHByZWZzLmdldFN0cmluZyhcInJzV1wiKSAtIHBhZGRpbmdXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkaW1lbnNpb25zLndpZHRoID0gcHJlZnMuZ2V0U3RyaW5nKFwicnNXXCIpICogMC41O1xuICAgICAgICB9XG5cbiAgICAgICAgZGltZW5zaW9ucy5oZWlnaHQgPSAocHJlZnMuZ2V0U3RyaW5nKFwicnNIXCIpIC8gcGFyYW1zLml0ZW1zVG9TaG93KSAtICQoaXRlbSkuZmluZChcIi50ZXh0V3JhcHBlclwiKS5vdXRlckhlaWdodCh0cnVlKSAtIHBhZGRpbmdIZWlnaHQ7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJsYXlvdXQtMTZ4OVwiOlxuICAgICAgICBkaW1lbnNpb25zID0ge307XG4gICAgICAgIGRpbWVuc2lvbnMud2lkdGggPSBwcmVmcy5nZXRTdHJpbmcoXCJyc1dcIikgLSBwYWRkaW5nV2lkdGg7XG4gICAgICAgIGRpbWVuc2lvbnMuaGVpZ2h0ID0gKHByZWZzLmdldFN0cmluZyhcInJzSFwiKSAvIHBhcmFtcy5pdGVtc1RvU2hvdykgLSBwYWRkaW5nSGVpZ2h0O1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxheW91dC0xeDJcIjpcbiAgICAgICAgZGltZW5zaW9ucyA9IHt9O1xuICAgICAgICBkaW1lbnNpb25zLndpZHRoID0gcHJlZnMuZ2V0U3RyaW5nKFwicnNXXCIpIC0gcGFkZGluZ1dpZHRoO1xuICAgICAgICBkaW1lbnNpb25zLmhlaWdodCA9ICgocHJlZnMuZ2V0U3RyaW5nKFwicnNIXCIpIC8gcGFyYW1zLml0ZW1zVG9TaG93KSAtIHBhZGRpbmdIZWlnaHQpIC8gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGRpbWVuc2lvbnMpIHtcbiAgICAgIHJhdGlvWCA9IGRpbWVuc2lvbnMud2lkdGggLyBwYXJzZUludCgkaW1hZ2Uud2lkdGgoKSk7XG4gICAgICByYXRpb1kgPSBkaW1lbnNpb25zLmhlaWdodCAvIHBhcnNlSW50KCRpbWFnZS5oZWlnaHQoKSk7XG4gICAgICBzY2FsZSA9IHJhdGlvWCA8IHJhdGlvWSA/IHJhdGlvWCA6IHJhdGlvWTtcblxuICAgICAgZGltZW5zaW9ucy53aWR0aCA9IHBhcnNlSW50KHBhcnNlSW50KCRpbWFnZS53aWR0aCgpKSAqIHNjYWxlKTtcbiAgICAgIGRpbWVuc2lvbnMuaGVpZ2h0ID0gcGFyc2VJbnQocGFyc2VJbnQoJGltYWdlLmhlaWdodCgpKSAqIHNjYWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGltZW5zaW9ucztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRUZW1wbGF0ZShpdGVtLCBpbmRleCkge1xuICAgIHZhciBzdG9yeSA9IF9nZXRTdG9yeShpdGVtKSxcbiAgICAgIGF1dGhvciA9IF9nZXRBdXRob3IoaXRlbSksXG4gICAgICBpbWFnZVVybCA9IF9nZXRJbWFnZVVybChpdGVtKSxcbiAgICAgIGRhdGUgPSBfZ2V0RGF0ZShpdGVtKSxcbiAgICAgIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsYXlvdXRcIikuY29udGVudCxcbiAgICAgICRjb250ZW50ID0gJCh0ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSkpLFxuICAgICAgJHN0b3J5LCBjbG9uZSwgaW1hZ2U7XG5cbiAgICAvLyBIZWFkbGluZVxuICAgIGlmICghaXRlbS50aXRsZSB8fCAoKHR5cGVvZiBwYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93VGl0bGUgIT09IFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAhcGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd1RpdGxlKSkge1xuICAgICAgJGNvbnRlbnQuZmluZChcIi5oZWFkbGluZVwiKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkY29udGVudC5maW5kKFwiLmhlYWRsaW5lXCIpLmNzcyhcInRleHRBbGlnblwiLCBwYXJhbXMuaGVhZGxpbmUuZm9udFN0eWxlLmFsaWduKTtcbiAgICAgICRjb250ZW50LmZpbmQoXCIuaGVhZGxpbmUgYVwiKS50ZXh0KF91dGlscy5zdHJpcFNjcmlwdHMoaXRlbS50aXRsZSkpO1xuICAgIH1cblxuICAgIHZhciByZW1vdmVTZXBhcmF0b3IgPSBmYWxzZTtcbiAgICAvLyBUaW1lc3RhbXBcbiAgICBpZiAoIWRhdGUgfHwgKCh0eXBlb2YgcGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd1RpbWVzdGFtcCAhPT0gXCJ1bmRlZmluZWRcIikgJiZcbiAgICAgICFwYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93VGltZXN0YW1wKSkge1xuICAgICAgcmVtb3ZlU2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICRjb250ZW50LmZpbmQoXCIudGltZXN0YW1wXCIpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChwYXJhbXMudGltZXN0YW1wKSB7XG4gICAgICAgICRjb250ZW50LmZpbmQoXCIudGltZXN0YW1wXCIpLmNzcyhcInRleHRBbGlnblwiLCBwYXJhbXMudGltZXN0YW1wLmZvbnRTdHlsZS5hbGlnbik7XG4gICAgICB9XG4gICAgICAkY29udGVudC5maW5kKFwiLnRpbWVzdGFtcFwiKS50ZXh0KGRhdGUpO1xuICAgIH1cblxuICAgIC8vIEF1dGhvclxuICAgIGlmICghYXV0aG9yIHx8ICgodHlwZW9mIHBhcmFtcy5kYXRhU2VsZWN0aW9uLnNob3dBdXRob3IgIT09IFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAhcGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd0F1dGhvcikpIHtcbiAgICAgIHJlbW92ZVNlcGFyYXRvciA9IHRydWU7XG4gICAgICAkY29udGVudC5maW5kKFwiLmF1dGhvclwiKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAocGFyYW1zLmF1dGhvcikge1xuICAgICAgICAkY29udGVudC5maW5kKFwiLmF1dGhvclwiKS5jc3MoXCJ0ZXh0QWxpZ25cIiwgcGFyYW1zLmF1dGhvci5mb250U3R5bGUuYWxpZ24pO1xuICAgICAgfVxuICAgICAgJGNvbnRlbnQuZmluZChcIi5hdXRob3JcIikudGV4dChhdXRob3IpO1xuICAgIH1cblxuICAgIGlmIChyZW1vdmVTZXBhcmF0b3IpIHtcbiAgICAgICRjb250ZW50LmZpbmQoXCIuc2VwYXJhdG9yXCIpLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIEltYWdlXG4gICAgaWYgKCFpbWFnZVVybCB8fCAoKHR5cGVvZiBwYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93SW1hZ2UgIT09IFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAhcGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd0ltYWdlKSkge1xuICAgICAgJGNvbnRlbnQuZmluZChcIi5pbWFnZVwiKS5yZW1vdmUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBnZXQgcHJlbG9hZGVkIGltYWdlIHBlcnRhaW5pbmcgdG8gdGhpcyBpdGVtIGJhc2VkIG9uIGluZGV4IHZhbHVlXG4gICAgICBpbWFnZSA9IF9pbWFnZXMuZ2V0SW1hZ2VzKClbaW5kZXhdO1xuXG4gICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgJGNvbnRlbnQuZmluZChcIi5pbWFnZVwiKS5hdHRyKFwic3JjXCIsIGltYWdlVXJsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdG9yeVxuICAgIGlmICghc3RvcnkpIHtcbiAgICAgICRjb250ZW50LnJlbW92ZShcIi5zdG9yeVwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkc3RvcnkgPSAkY29udGVudC5maW5kKFwiLnN0b3J5XCIpO1xuICAgICAgJHN0b3J5LmNzcyhcInRleHRBbGlnblwiLCBwYXJhbXMuc3RvcnkuZm9udFN0eWxlLmFsaWduKTtcbiAgICAgIHN0b3J5ID0gX3V0aWxzLnN0cmlwU2NyaXB0cyhzdG9yeSk7XG5cbiAgICAgIGlmIChwYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93RGVzY3JpcHRpb24gPT09IFwic25pcHBldFwiKSB7XG4gICAgICAgICRzdG9yeS5odG1sKF91dGlscy50cnVuY2F0ZSgkKFwiPGRpdi8+XCIpLmh0bWwoc3RvcnkpLnRleHQoKSwgcGFyYW1zLmRhdGFTZWxlY3Rpb24uc25pcHBldExlbmd0aCkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICRzdG9yeS5odG1sKHN0b3J5KTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgdGhlIHN0b3J5IGZvbnQgc3R5bGluZyB0byBjaGlsZCBlbGVtZW50cyBhcyB3ZWxsLlxuICAgICAgJHN0b3J5LmZpbmQoXCJwXCIpLmFkZENsYXNzKFwic3RvcnlfZm9udC1zdHlsZVwiKTtcbiAgICAgICRzdG9yeS5maW5kKFwiZGl2XCIpLmFkZENsYXNzKFwic3RvcnlfZm9udC1zdHlsZVwiKTtcbiAgICAgICRzdG9yeS5maW5kKFwic3BhblwiKS5hZGRDbGFzcyhcInN0b3J5X2ZvbnQtc3R5bGVcIik7XG4gICAgfVxuXG4gICAgY2xvbmUgPSAkKGRvY3VtZW50LmltcG9ydE5vZGUoJGNvbnRlbnRbMF0sIHRydWUpKTtcblxuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRJbWFnZURpbWVuc2lvbnMoKSB7XG4gICAgJChcIi5pdGVtXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRpbWFnZSA9ICQodGhpcykuZmluZChcIi5pbWFnZVwiKSxcbiAgICAgICAgZGltZW5zaW9ucyA9IG51bGw7XG5cbiAgICAgIGlmICgkaW1hZ2UpIHtcbiAgICAgICAgZGltZW5zaW9ucyA9IF9nZXRJbWFnZURpbWVuc2lvbnMoJGltYWdlLCB0aGlzKTtcblxuICAgICAgICBpZiAoZGltZW5zaW9ucykge1xuICAgICAgICAgICRpbWFnZS53aWR0aChkaW1lbnNpb25zLndpZHRoKTtcbiAgICAgICAgICAkaW1hZ2UuaGVpZ2h0KGRpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSk7XG4gIH1cblxuICAvLyBGYWRlIG91dCBhbmQgY2xlYXIgY29udGVudC5cbiAgZnVuY3Rpb24gX2NsZWFyKGNiKSB7XG4gICAgaWYgKF90cmFuc2l0aW9uLnR5cGUgPT09IFwiZmFkZVwiKSB7XG4gICAgICAkKFwiLml0ZW1cIikub25lKFwidHJhbnNpdGlvbmVuZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgX2NsZWFyUGFnZShjYik7XG4gICAgICB9KTtcblxuICAgICAgJChcIi5pdGVtXCIpLmFkZENsYXNzKFwiZmFkZS1vdXRcIikucmVtb3ZlQ2xhc3MoXCJmYWRlLWluXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIF9jbGVhclBhZ2UoY2IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGVhclBhZ2UoY2IpIHtcbiAgICBfJGVsLnBhZ2UuZW1wdHkoKTtcbiAgICBpZiAoIWNiIHx8IHR5cGVvZiBjYiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfc2hvd0l0ZW0oaW5kZXgpIHtcbiAgICBfJGVsLnBhZ2UuYXBwZW5kKF9nZXRUZW1wbGF0ZShfaXRlbXNbaW5kZXhdLCBpbmRleCkpO1xuXG4gICAgX3NldEltYWdlRGltZW5zaW9ucygpO1xuXG4gICAgaWYgKHBhcmFtcy5zZXBhcmF0b3IgJiYgcGFyYW1zLnNlcGFyYXRvci5zaG93KSB7XG4gICAgICAkKFwiLml0ZW1cIikuY3NzKFwiYm9yZGVyLWJvdHRvbVwiLCBcInNvbGlkIFwiICsgcGFyYW1zLnNlcGFyYXRvci5zaXplICsgXCJweCBcIiArIHBhcmFtcy5zZXBhcmF0b3IuY29sb3IpO1xuICAgIH1cblxuICAgICQoXCIuaXRlbVwiKS5oZWlnaHQoX2dldEl0ZW1IZWlnaHQoKSk7XG5cbiAgICBpZiAoX3RyYW5zaXRpb24udHlwZSA9PT0gXCJmYWRlXCIpIHtcbiAgICAgICQoXCIuaXRlbVwiKS5hZGRDbGFzcyhcImZhZGUtaW5cIik7XG4gICAgfVxuXG4gICAgJChcIi5pdGVtXCIpLnJlbW92ZUNsYXNzKFwiaGlkZVwiKTtcblxuICAgIC8vIDE2eDkgKGltYWdlcyBvbmx5KSBsYXlvdXQgZG9lc24ndCBuZWVkIHRydW5jYXRpbmcsIGltYWdlIHNpemluZyBoYW5kbGVkIGluIF9zZXRJbWFnZURpbWVuc2lvbnMoKVxuICAgIGlmIChwYXJhbXMubGF5b3V0ICE9PSBcImxheW91dC0xNng5XCIpIHtcbiAgICAgIC8vIHRydW5jYXRlIGNvbnRlbnRcbiAgICAgICQoXCIuaXRlbVwiKS5kb3Rkb3Rkb3Qoe1xuICAgICAgICBoZWlnaHQ6IF9nZXRJdGVtSGVpZ2h0KClcbiAgICAgIH0pO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gX21ha2VUcmFuc2l0aW9uKCkge1xuICAgIHZhciBzdGFydENvbmZpZyA9IF9nZXRTdGFydENvbmZpZygpLFxuICAgICAgdHJhbnNDb25maWcgPSBfZ2V0VHJhbnNpdGlvbkNvbmZpZyhfY3VycmVudEl0ZW1JbmRleCksXG4gICAgICBzdGFydGluZ0luZGV4O1xuXG4gICAgaWYgKF9jdXJyZW50SXRlbUluZGV4ID09PSAoX2l0ZW1zLmxlbmd0aCAtIDEpKSB7XG5cbiAgICAgIF9zdG9wVHJhbnNpdGlvblRpbWVyKCk7XG5cbiAgICAgIF9jbGVhcihmdW5jdGlvbigpIHtcblxuICAgICAgICAvLyBzaG93IHRoZSBpdGVtc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXJ0Q29uZmlnLml0ZW1zVG9TaG93OyBpICs9IDEpIHtcbiAgICAgICAgICBfc2hvd0l0ZW0oaSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3VycmVudEl0ZW1JbmRleCA9IHN0YXJ0Q29uZmlnLmN1cnJlbnRJdGVtSW5kZXg7XG5cbiAgICAgICAgUmlzZVZpc2lvbi5SU1Mub25Db250ZW50RG9uZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIF93YWl0aW5nRm9yVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX3dhaXRpbmdGb3JVcGRhdGUpIHtcbiAgICAgIF93YWl0aW5nRm9yVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIC8vIGxvYWQgYWxsIGltYWdlc1xuICAgICAgX2ltYWdlcy5sb2FkKF9nZXRJbWFnZVVybHMoKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIF9jbGVhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFydENvbmZpZy5pdGVtc1RvU2hvdzsgaSArPSAxKSB7XG4gICAgICAgICAgICBfc2hvd0l0ZW0oaSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2N1cnJlbnRJdGVtSW5kZXggPSBzdGFydENvbmZpZy5jdXJyZW50SXRlbUluZGV4O1xuICAgICAgICB9KTtcblxuICAgICAgfSk7XG5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdGFydGluZ0luZGV4ID0gX2N1cnJlbnRJdGVtSW5kZXggKyAxO1xuXG4gICAgICBfY3VycmVudEl0ZW1JbmRleCA9IHRyYW5zQ29uZmlnLmN1cnJlbnRJdGVtSW5kZXg7XG5cbiAgICAgIF9jbGVhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydGluZ0luZGV4OyBpIDwgKHN0YXJ0aW5nSW5kZXggKyB0cmFuc0NvbmZpZy5pdGVtc1RvU2hvdyk7IGkgKz0gMSkge1xuICAgICAgICAgIF9zaG93SXRlbShpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRUcmFuc2l0aW9uVGltZXIoKSB7XG4gICAgaWYgKF90cmFuc2l0aW9uSW50ZXJ2YWxJZCA9PT0gbnVsbCkge1xuICAgICAgX3RyYW5zaXRpb25JbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfbWFrZVRyYW5zaXRpb24oKTtcbiAgICAgIH0sIF90cmFuc2l0aW9uLmR1cmF0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfc3RvcFRyYW5zaXRpb25UaW1lcigpIHtcbiAgICBjbGVhckludGVydmFsKF90cmFuc2l0aW9uSW50ZXJ2YWxJZCk7XG4gICAgX3RyYW5zaXRpb25JbnRlcnZhbElkID0gbnVsbDtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdChmZWVkKSB7XG4gICAgdmFyIHN0YXJ0Q29uZmlnO1xuXG4gICAgX2l0ZW1zID0gZmVlZC5pdGVtcztcblxuICAgIGlmKHBhcmFtcy50cmFuc2l0aW9uKXtcbiAgICAgIF90cmFuc2l0aW9uID0gcGFyYW1zLnRyYW5zaXRpb247XG4gICAgfVxuXG4gICAgc3RhcnRDb25maWcgPSBfZ2V0U3RhcnRDb25maWcoKTtcblxuICAgIF9jdXJyZW50SXRlbUluZGV4ID0gc3RhcnRDb25maWcuY3VycmVudEl0ZW1JbmRleDtcblxuICAgIC8vIGxvYWQgYWxsIGltYWdlc1xuICAgIF9pbWFnZXMubG9hZChfZ2V0SW1hZ2VVcmxzKCksIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHNob3cgdGhlIGl0ZW1zXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXJ0Q29uZmlnLml0ZW1zVG9TaG93OyBpICs9IDEpIHtcbiAgICAgICAgX3Nob3dJdGVtKGkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBfc3RvcFRyYW5zaXRpb25UaW1lcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgX3N0b3BUcmFuc2l0aW9uVGltZXIoKTtcbiAgICBfY2xlYXIoKTtcbiAgICBfaXRlbXMgPSBbXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgX3N0YXJ0VHJhbnNpdGlvblRpbWVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoZmVlZCkge1xuICAgIF9pdGVtcyA9IGZlZWQuaXRlbXM7XG4gICAgX3dhaXRpbmdGb3JVcGRhdGUgPSB0cnVlO1xuICB9XG5cbiAgX2NhY2hlKCk7XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0OiBpbml0LFxuICAgIHBhdXNlOiBwYXVzZSxcbiAgICBwbGF5OiBwbGF5LFxuICAgIHJlc2V0OiByZXNldCxcbiAgICB1cGRhdGU6IHVwZGF0ZVxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZSA9IGZ1bmN0aW9uIChtYWluQ29udGFpbmVyLCBtZXNzYWdlQ29udGFpbmVyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWN0aXZlID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbWFpbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBNZXNzYWdlIC0gXCIsIGUubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBoaWRlKCkge1xuICAgIGlmIChfYWN0aXZlKSB7XG4gICAgICAvLyBjbGVhciBjb250ZW50IG9mIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICB3aGlsZSAobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgIG1lc3NhZ2VDb250YWluZXIucmVtb3ZlQ2hpbGQobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgIH1cblxuICAgICAgLy8gaGlkZSBtZXNzYWdlIGNvbnRhaW5lclxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIC8vIHNob3cgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICBfYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgcDtcblxuICAgIGlmICghX2FjdGl2ZSkge1xuICAgICAgLy8gaGlkZSBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICAvLyBjcmVhdGUgbWVzc2FnZSBlbGVtZW50XG4gICAgICBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgICBwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWVzc2FnZVwiKTtcblxuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocCk7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgX2FjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1lc3NhZ2UgYWxyZWFkeSBiZWluZyBzaG93biwgdXBkYXRlIG1lc3NhZ2UgdGV4dFxuICAgICAgcCA9IG1lc3NhZ2VDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlXCIpO1xuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIF9pbml0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBcImhpZGVcIjogaGlkZSxcbiAgICBcInNob3dcIjogc2hvd1xuICB9O1xufTtcblxuLyogZ2xvYmFsIGdhZGdldHMsIFJpc2VWaXNpb24gKi9cblxuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGRvY3VtZW50LmJvZHkub25tb3VzZWRvd24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gY29uZmlndXJlKG5hbWVzLCB2YWx1ZXMpIHtcbiAgICB2YXIgYWRkaXRpb25hbFBhcmFtcyxcbiAgICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgICBkaXNwbGF5SWQgPSBcIlwiO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAobmFtZXNbMF0gPT09IFwiY29tcGFueUlkXCIpIHtcbiAgICAgICAgY29tcGFueUlkID0gdmFsdWVzWzBdO1xuICAgICAgfVxuXG4gICAgICBpZiAobmFtZXNbMV0gPT09IFwiZGlzcGxheUlkXCIpIHtcbiAgICAgICAgaWYgKHZhbHVlc1sxXSkge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IHZhbHVlc1sxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSBcInByZXZpZXdcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5zZXRJZHMoY29tcGFueUlkLCBkaXNwbGF5SWQpO1xuXG4gICAgICBpZiAobmFtZXNbMl0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1syXSk7XG5cbiAgICAgICAgUmlzZVZpc2lvbi5SU1Muc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uUlNTLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uUlNTLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIFJpc2VWaXNpb24uUlNTLnN0b3AoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdlYkNvbXBvbmVudHNSZWFkeSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCB3ZWJDb21wb25lbnRzUmVhZHkpO1xuXG4gICAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29uZmlndXJlKTtcbiAgICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiY29tcGFueUlkXCIsIFwiZGlzcGxheUlkXCIsIFwiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgd2ViQ29tcG9uZW50c1JlYWR5KTtcblxuXG59KSh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKTtcblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
